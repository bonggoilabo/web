(window.webpackJsonp=window.webpackJsonp||[]).push([[39,84],{111:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(147),a=function(e,t){var n=this;this.queryName="",this.args=[],this.addVariable=function(e,t,n,r){return{name:e,graphQLType:t,isNonNullable:n,value:r}},this.buildQuery=function(){var e=n.responseBuilder.getArguments(n.args),t=n.responseBuilder.getFragmentsHashIds([]);n.responseBuilder.getFragmentDefinitions(t);var a=Object.keys(t).map((function(e){return""+t[e]})).join("\n"),o=Object(r.b)(n.args);return e.length?"query "+n.queryName+" ("+Object(r.a)(e)+") { "+n.queryName+" "+(o?"("+o+")":"")+" "+n.responseBuilder.build(t)+" } "+a:"query "+n.queryName+" { "+n.queryName+" "+n.responseBuilder.build(t)+" } "+a},this.buildVariables=function(){var e=n.responseBuilder.getArguments(n.args);return Object(r.c)(e)},this.queryName=e,this.responseBuilder=t}},147:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=function(e){return e.map((function(e){return"$"+e.name+": "+e.graphQLType+(e.isNonNullable?"!":"")})).join("\n")},a=function(e){return e.map((function(e){return e.name+": $"+e.name})).join("\n")},o=function(e){var t={};return e.map((function(e){t[e.name]=e.value})),t}},1541:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,a=n(3),o=n(33),i=n(26),c=n(9),s=n(4);!function(e){var t=[1888621,1889762,1889763,1892418,1892419,1892420,1892421,1892422,1892423,1892424,1892425,1892426,1892427,1892428,1892429,1892430,1892431,1892432,1892433,1892434,1892435,1892436,1892437],n=2;e.quarantineFilterCids={allHotel:-1,quarantineOnly:1892419,certifiedShaPlusOnly:1892422,nonQuarantineOnly:1896204},e.isASQTraveller=function(e){return!!e&&t.includes(e)},e.isASQCountry=function(e,t){var n=r(e),a=null==n?void 0:n.asqAllowedCountriesOnBltConfiguration;return a&&Object.values(a).includes(t)},e.isAsqCitySearch=function(t,n,r){return!!(r&&n&&t)&&(e.isASQTraveller(r)&&Object.keys(t).includes(n.toString()))},e.getAllowedLosByCountryId=function(e,t){var n=t&&t.toString(),o=r(e),i=null==o?void 0:o.asqAllowedCountriesConfiguration,c=i&&i[n];return c&&Object(a.g)(c).sort((function(e,t){return e-t}))},e.isASQCountrySearch=function(t,n,r,a){var o=(null==r?void 0:r.length)>0;return e.isASQTraveller(a)&&(e.isASQCountry(t,n)||!n&&o)},e.isASQChannel=function(e){return(null==e?void 0:e.indexOf(o.f.ASQ))>=0},e.getCountryIdForBltPage=function(e){var t=r(c.a.CampaignLanding),n=null==t?void 0:t.asqAllowedCountriesOnBltConfiguration,a=n&&e.split("/").find((function(e){return Object.keys(n).includes(e)}));return n&&n[a]},e.getCityIdForBltPage=function(e){return+new URLSearchParams(e).get("city")},e.isThailand=function(e){return 106===e},e.getSelectedLosInDays=function(e,t){return Math.floor((t.getTime()-e.getTime())/864e5)};var r=function(e){var t,n;switch(e){case c.a.CampaignLanding:case c.a.Search:return null===(t=Object(i.u)().config)||void 0===t?void 0:t.calendar;case c.a.Hotel:return null===(n=Object(i.r)().searchBox.property.config)||void 0===n?void 0:n.calendar;default:return}};e.isAllowedCity=function(e,t){var n=r(t),a=null==n?void 0:n.asqAllowedCitiesConfiguration;return!(!e||!a)&&Object.keys(a).includes(e.toString())},e.isAllowedCountry=function(e,t){var n=void 0===e?0:e,a=r(t),o=null==a?void 0:a.asqAllowedCountriesConfiguration;return o&&Object.keys(o).includes(n.toString())},e.getAllowedCityBadges=function(t,n){return{isFound:e.isAllowedCity(t,n),cmsBadge:t.toString()}},e.getAllowedCityLos=function(e,t){var n,a=r(t),o=null==a?void 0:a.asqAllowedCitiesConfiguration;return e&&o&&(null===(n=o[e])||void 0===n?void 0:n.config.losConfig.sort((function(e,t){return e-t})))},e.isAlternativeStateQuarantineFeatureEnabled=function(){return s.a.features&&!!s.a.features.AlternativeStateQuarantine},e.isQuarantineOfferCid=function(t){return(s.a.bVariants.isB("OPA-1030-FE")?[e.quarantineFilterCids.quarantineOnly,e.quarantineFilterCids.certifiedShaPlusOnly]:[e.quarantineFilterCids.quarantineOnly]).includes(t)},e.getDefaultAsqFilterPillLabel=function(t){var n=Object(i.v)(),r=s.a.pageConfig.pageTypeId;return n.experiments.isShowingAsqBothFilters&&e.isThailand(t)?"QuarantineAndShaPlus":n.searchCriteria&&e.isAllowedCity(n.searchCriteria.CityId,r)?"InternationEntry":"QuarantineOffers"},e.isShaPlus=function(e){return n===e},e.getAsqGenericBadgeText=function(e){var t;return null===(t=e.texts[0])||void 0===t?void 0:t.text}}(r||(r={}))},1542:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(408),a=n(1630),o=n(1),i=n(157),c=n(25),s=(n(1645),function(){}),l=function(e){var t=e.children?o.createElement("div",{className:"IconBox__child",key:"IconBox__child","data-selenium":"icon-box-child"},e.children):null,n=o.createElement(i.a,{iconClass:Object(c.a)("IconBox__icon",e.icon),key:"IconBox__icon",iconSelenium:"ficon-icon-box"}),r=e.iconOnTheRight?[t,n]:[n,t],a=e.isShowLos&&e.lengthOfStay?o.createElement("div",{className:"dates-los"},o.createElement("div",{className:"dates-los-container"},o.createElement("span",{className:"dates-los-container-nights","data-selenium":"dates-nights"},e.lengthOfStay),o.createElement("i",{className:"ficon ficon-12 ficon-map-night dates-los-container-icon"}))):null;return o.createElement("div",{tabIndex:0,ref:e.refCallback,className:Object(c.a)(Object(c.c)("IconBox",e.modifiers),[e.className]),onClick:e.disabled?s:e.onClick,onKeyDown:e.disabled?s:e.onKeyDown,"data-selenium":e.dataSelenium,"data-element-name":e.trackingId,"data-component":e.dataComponent},a,o.createElement("div",{className:"IconBox__wrapper"},r))},u=Object(r.withBehavior)(l,a.a);l.defaultProps={className:"",modifiers:{},icon:"",children:null,iconOnTheRight:!1,onClick:function(){},isShowLos:!1,lengthOfStay:1},l.displayName="IconBox"},1552:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(8),o=n(25),i=(n(1686),function(e){return r.createElement("div",{"data-selenium":e.dataSelenium,"data-component":e.dataComponent,"data-date":e.dataDate,"data-value":e.dataValue,className:Object(o.a)(Object(o.c)("SearchBoxTextDescription",e.modifiers),[e.className])},e.header?r.createElement(a.d,{clone:!0,textColor:{color:"secondary",variant:"plainText"}},r.createElement(a.A,{textSize:"M"},e.header)):null,r.createElement("div",{className:"SearchBoxTextDescription__title","data-selenium":e.titleDataSelenium},e.title),e.desc&&r.createElement("div",{className:"SearchBoxTextDescription__desc","data-selenium":e.descDataSelenium,"data-value":e.dataValue},e.desc),e.children&&r.createElement("div",{className:"SearchBoxTextDescription__child"},e.children))});i.defaultProps={className:"",modifiers:{},title:"",desc:""},i.displayName="TextDescription"},1554:function(e,t,n){"use strict";n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"n",(function(){return j})),n.d(t,"m",(function(){return C})),n.d(t,"f",(function(){return I})),n.d(t,"j",(function(){return x})),n.d(t,"g",(function(){return T})),n.d(t,"i",(function(){return B})),n.d(t,"e",(function(){return _})),n.d(t,"l",(function(){return R})),n.d(t,"k",(function(){return F}));var r=n(3),a=n(66),o=n(71),i=n(59),c=n(1606),s=n(15),l=n(23),u=n(258),d=n(178),p=n(1568),h=n(1578),g=n(62),m=n(18),f=function(e,t){return e.defaultSearchParams?E(e,t):D(e,t)},b=function(e){return e.isOnelineSearch?"":"NewDesign"},v=function(e,t,n,a,o,c,s){var l;if(s===i.a.SearchInput.Origin){var u=t.experiments&&t.data.recentSearchVisible;l={searchText:t.data.originSearchText,placeholder:t.cms&&t.cms.autoComplete?t.cms.autoComplete.originPlaceholder:"",icon:"ficon-20 ficon-flights-airplane FlightSearchContainer__OriginIcon",list:u?t.recentSearchSuggestionList:t.data.originSuggestionList,elementName:t.dataElement.originTextSearch,suggestionElementName:"flight-origin-search-result",inputElementName:"flight-origin-search-input",titleText:t.cms&&t.cms.autoComplete&&t.isPackagePage?t.cms.autoComplete.originPlaceholder:null,iconBoxClassName:t.isPackagePage?"IconBox--origin":"",popupTitle:u&&t.yourRecentSearches,popupModifier:u&&["FlightRecentSearchPopup"]}}else l={searchText:t.data.destinationSearchText,placeholder:t.cms&&t.cms.autoComplete?t.cms.autoComplete.destinationPlaceholder:"",icon:"ficon-20 ficon-flights-pin FlightSearchContainer__DestinationIcon",list:t.data.destinationSuggestionList,elementName:t.dataElement.destinationTextSearch,suggestionElementName:"flight-destination-search-result",inputElementName:"flight-destination-search-input",titleText:t.cms&&t.cms.autoComplete&&t.isPackagePage?t.cms.autoComplete.destinationPlaceholder:null,iconBoxClassName:t.isPackagePage?"IconBox--destination":""};return Object(r.a)(Object(r.a)({},l),{onChange:n,isPopupVisible:t.activePopup===s,onClick:a,refCallback:o,onKeydown:c,setDynamicHeightForList:!0,disabled:t.isPackagePage&&!t.isPackageSearch,modifier:t.isPackagePage?["SearchSelection__Element",b(t)]:b(t),handleOverflowTitleText:t.isPackagePage,productType:t.productType||m.p.AgodaFlights,scrollPopupIntoView:!0})},y=function(e,t,n,r,a,o,c,s){var l=t.data,u=t.configs,d=t.cms,p=t.activePopup,h=n===i.a.SearchInput.DepartureDate?d.dateSelector.input.departText:d.dateSelector.input.returnText;return{onPreviousClick:a,onNextClick:o,icon:"ficon-20 "+(n===i.a.SearchInput.DepartureDate?"ficon-check-in":"ficon-check-out"),primaryDate:n===i.a.SearchInput.DepartureDate?l.departureDate:l.returningDate,supportingDate:n===i.a.SearchInput.DepartureDate?t.data.flightOption!==i.a.FlightOption.Oneway?l.returningDate:void 0:l.departureDate,initialMonth:k(t.data,e.initialMonth,n),placeholder:h,isStartDate:n===i.a.SearchInput.DepartureDate,config:u.dateSelector,cms:d.dateSelector,onInputClick:r,isPopupVisible:p===n,modifier:t.data.flightOption===i.a.FlightOption.Oneway?"single-date":void 0,onDayClick:c,onKeydown:s,elementName:n===i.a.SearchInput.DepartureDate?t.dataElement.departureDate:t.dataElement.returnDate,className:"FlightDateSelector",dataComponent:n===i.a.SearchInput.DepartureDate?"flight-search-departureDate":"flight-search-returnDate",disabled:t.isPackagePage&&!t.isPackageSearch,header:t.isPackagePage?h:null,hideDescriptionText:t.isPackagePage,textDescriptionModifier:b(t),scrollPopupIntoView:!0}},O=function(e,t,n,a,o,c,s){return{onOccupancyChange:n,onCabinClassChange:a,cms:Object(r.a)(Object(r.a)({},t.cms.occupancy),t.cms.cabinClass),onInputClick:o,isPopupVisible:t.activePopup===i.a.SearchInput.Occupancy,occupancyConfig:t.configs.occupancy,occupancyData:t.data.passengers,cabinClassData:t.data.cabinType,onKeyDown:c,elementName:t.dataElement.occupancy,dataComponent:"flight-search-occupancy",disabled:t.isPackagePage&&!t.isPackageSearch,modifier:t.isPackagePage?"SearchSelection__Element":null,hideTextDescriptionIcon:t.isPackagePage,renderContinueButton:t.isPackagePage,onContinueButtonClick:s,textDescriptionModifier:b(t),scrollPopupIntoView:!0,hideCabinClass:t.productType===m.p.Packages}},S=function(e){var t,n;if(Object(a.a)(e))return{};var r=e.passengers,o=r.adults,c=r.children,s=r.infants;return e.flightOption===i.a.FlightOption.Oneway?((t={})[l.a.DepartureFrom]=e.originSelectedValue.objectId,t[l.a.DepartureFromType]=e.originSelectedValue.objectTypeId,t[l.a.ArrivalTo]=e.destinationSelectedValue.objectId,t[l.a.ArrivalToType]=e.destinationSelectedValue.objectTypeId,t[l.a.DepartureDate]=e.departureDate,t[g.a.Adults]=o,t[g.a.Children]=c>0?c:void 0,t[l.a.Infants]=s>0?s:void 0,t[l.a.FlightOption]=e.flightOption,t[l.a.CabinType]=i.a.FlightCabinClass[e.cabinType],t[l.a.ItineraryId]="",t[l.a.Token]="",t):((n={})[l.a.DepartureFrom]=e.originSelectedValue.objectId,n[l.a.DepartureFromType]=e.originSelectedValue.objectTypeId,n[l.a.ArrivalTo]=e.destinationSelectedValue.objectId,n[l.a.ArrivalToType]=e.destinationSelectedValue.objectTypeId,n[l.a.DepartureDate]=e.departureDate,n[l.a.ReturningDate]=e.returningDate,n[g.a.Adults]=o,n[g.a.Children]=c>0?c:void 0,n[l.a.Infants]=s>0?s:void 0,n[l.a.FlightOption]=e.flightOption,n[l.a.CabinType]=i.a.FlightCabinClass[e.cabinType],n[l.a.ItineraryId]="",n[l.a.Token]="",n)},j=function(e,t,n,r){switch(n){case i.a.SearchInput.DepartureDate:switch(r&&e.initialMonth&&r.getMonth()-e.initialMonth.getMonth()){case 0:return e.initialMonth;case 1:return Object(o.isLastDayOfMonth)(r)?r:e.initialMonth;default:return e.initialMonth}case i.a.SearchInput.ReturningDate:return t;default:return e.initialMonth}},C=function(e,t){return e.map((function(e){return e.value.isSubSuggestion?e:Object(r.a)(Object(r.a)({},e),{displayNames:{CategoryName:t.allAirports}})}))},I=function(e,t,n){if(n&&e.showPackageDealCms)return e.showPackageDealCms.searchFlightsPlusHotelText;var r=t?e.cms.searchModifyButton:e.cms.searchButton;return e.isOnelineSearch?r:e.cms.searchFlightsButton},x=function(e,t,n,r){switch(t){case c.a.InvalidSearch:return n===i.a.FlightOption.RoundTrip?e.invalidRoundTripSearchMessage:e.invalidOneWaySearchMessage;case c.a.SameCitySearch:return e.sameCitySearch;case c.a.NoAirportsOnBothOriginAndDestination:return e.noAirportsOnBothOriginAndDestination;case c.a.NoAirportsOnOrigin:return e.noAirportsOnOrigin;case c.a.NoAirportsOnDestination:return e.noAirportsOnDestination;case c.a.InvalidPassenger:var a=r.adults,o=r.children,s=r.infants,l=Object(p.b)(a,o,s);return _(e.occupancy,l);default:return null}},T=function(e){return{origin:e&&e.origin,destination:e&&e.destination}},k=function(e,t,n){switch(n){case i.a.SearchInput.DepartureDate:return e.departureDate;case i.a.SearchInput.ReturningDate:return t;default:return e.departureDate}},P=function(e,t){var n=e.productType===m.p.Packages?i.a.FlightOption.RoundTrip:i.a.FlightOption.Oneway;return e.defaultSearchParams?w(e,"searchType",n):t?t.searchType:n},E=function(e,t){var n=u.b(w(e,l.a.FlightOption),w(e,l.a.DepartureDate),w(e,l.a.ReturningDate));return{flightOption:P(e,t),originSearchText:"",destinationSearchText:"",originSuggestionList:[],destinationSuggestionList:[],originSelectedValue:null,destinationSelectedValue:null,passengers:N(w(e,"occupancy"))||e.initialOccupancy,cabinType:w(e,l.a.CabinType,i.a.FlightCabinClass.Economy),departureDate:n?w(e,l.a.DepartureDate):d.a,returningDate:n?w(e,l.a.ReturningDate):d.b,showPackageDealSelected:!1,recentSearchVisible:!0}},D=function(e,t){var n=T(t),r=n.origin,a=n.destination;return{flightOption:P(e,t),originSearchText:A(r),destinationSearchText:A(a),originSuggestionList:[],destinationSuggestionList:[],originSelectedValue:r,destinationSelectedValue:a,passengers:N(t&&t.occupancy)||e.initialOccupancy,cabinType:t?t.cabinType:i.a.FlightCabinClass.Economy,departureDate:t&&t.departDate||void 0,returningDate:t&&t.returnDate||void 0,showPackageDealSelected:!1,recentSearchVisible:!0}},N=function(e){return e?{adults:e.adults,children:e.children||0,infants:e.infants||0,rooms:0}:null},A=function(e){return e?e.text:""},w=function(e,t,n){return e.defaultSearchParams&&e.defaultSearchParams[t]?e.defaultSearchParams[t]:n},B=function(e,t){return{originCode:"",originType:"",originText:"",originCity:"",destinationCode:"",destinationType:"",destinationText:"",destinationCity:"",departDate:t.departureDate,returnDate:t.returningDate,departDateString:"",returnDateString:"",searchType:e,cabinType:t.cabinType,occupancy:{adults:t.passengers.adults,children:t.passengers.children,infants:t.passengers.infants}}},_=function(e,t){switch(t){case s.d.Children:return e.childrenRange;case s.d.Infant:return e.infantsRange;case s.d.ChildrenAndInfant:return e.childrenAndInfantsRange;case s.d.MaxTotal:return e.adultsRange.replace("{maxTotalPax}",h.a.MaxTotal.toString());default:return""}},R=function(e,t){return t?t.map((function(t,n){return{modifiers:"flight",type:s.m.FlightRecentSearch,cms:{occupancy:e.occupancy,dateSelector:e.dateSelector,cabinClass:e.cabinClass},value:{index:n,text:"",url:"recent-search-"+n,flightRecentSearch:t}}})):[]},F=function(e){var t,n;return{flightOption:e.flightType||((null==e?void 0:e.returnDate)?i.a.FlightOption.RoundTrip:i.a.FlightOption.Oneway),passengers:{adults:e.adults,children:e.children,infants:e.infants,rooms:e.rooms},originSelectedValue:{objectId:e.origin.code||e.origin.tripLocations[0].code,objectTypeId:e.origin.code?e.origin.type:e.origin.tripLocations[0].type,url:"",text:e.origin.name,name:e.origin.name,cityId:e.origin.cityId,countryId:null===(t=e.origin.country)||void 0===t?void 0:t.id,country:e.origin.country},destinationSelectedValue:{objectId:e.destination.code||e.destination.tripLocations[0].code,objectTypeId:e.destination.code?e.destination.type:e.destination.tripLocations[0].type,url:"",text:e.destination.name,name:e.destination.name,cityId:e.destination.cityId,countryId:null===(n=e.destination.country)||void 0===n?void 0:n.id,country:e.destination.country},departureDate:e.departureDate,returningDate:e.returnDate,cabinType:e.cabinType}}},1563:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return g}));var r=n(3),a=n(15),o=n(1565),i=n(1575),c=n(26),s=function(e){return g(e).then((function(e){return e&&e.suggestions?e.suggestions.reduce(p,[]):null}))},l=function(e){return Object(r.b)(void 0,void 0,Promise,(function(){return Object(r.d)(this,(function(t){return[2,i.a.post(c.f()+"/flight/tripLocationDetail",e)]}))}))},u=function(e){return e?e.map((function(e){return e.code.trim()})).join():null},d=function(e){return e?e.map((function(e){return e.type})).join():null},p=function(e,t){var n=t.country?t.country.id:0,i=function(e){return{type:a.m.Info,dataText:e.name,value:{countryId:e.country?e.country.id:0,text:1===e.airports.length?o.a.getAirportText(e.name,e.airports[0].code):e.name,url:e.id.toString(),cityId:e.id,objectId:u(e.tripLocations),objectTypeId:d(e.tripLocations),name:e.name},icon:"ficon-map-pin-fat",modifiers:"flight",location:{country:e.country&&e.country.name,name:e.name}}}(t),c=t.airports.map((function(e){return h(e,t.id,t.name,n)}));return Object(r.g)(e,[i],c)},h=function(e,t,n,r){return{type:a.m.Info,dataText:e.name,value:{cityId:t,countryId:r,text:o.a.getAirportText(n,e.code),url:e.id.toString(),objectId:u(e.tripLocations),objectTypeId:d(e.tripLocations),isSubSuggestion:!0,name:n},icon:"ficon-solid-flights-airplane",modifiers:"flight",displayNames:{CategoryName:e.code,Name:e.name},location:{name:e.name}}},g=function(e){var t={searchText:e};return i.a.post(c.f()+"/flight/TextSearch",t)}},1564:function(e,t,n){"use strict";var r=n(436);t.a=function(e,t){return Object(r.a)(e,t)}},1565:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,a=n(59);!function(e){e.getAirportText=function(e,t){return t?e+" ("+t+")":e},e.getCabinClassCms=function(e,t){var n;return((n={})[a.a.FlightCabinClass.Economy]=t.economy,n[a.a.FlightCabinClass.PremiumEconomy]=t.premiumEconomy,n[a.a.FlightCabinClass.First]=t.first,n[a.a.FlightCabinClass.Business]=t.business,n)[e]}}(r||(r={}))},1566:function(e,t,n){"use strict";var r=n(225),a=n(433),o=n(116);t.a=function(e,t){var n={};return t=Object(o.a)(t,3),Object(a.a)(e,(function(e,a,o){Object(r.a)(n,a,t(e,a,o))})),n}},1567:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h}));var r=n(3),a=n(15),o=n(59),i=n(168),c=1,s=1,l=function(e){if(!e)return null;var t=e.destinationSelectedValue;return Object(r.a)(Object(r.a)({},e),{hotelDestinationSelectedValue:[{objectTypeId:a.e.City,url:"",text:t&&t.name,cityId:t&&t.cityId,countryId:p(t),objectId:t&&t.cityId}],occupancy:[[{isActive:!0,adults:e.passengers&&e.passengers.adults,children:e.passengers?e.passengers.children+e.passengers.infants:0,childAges:e.passengers?h(e.passengers.children,e.passengers.infants):[],rooms:c}]],checkIn:[e.departureDate],checkOut:[d(e.flightOption,e.departureDate,e.returningDate)],searchText:[t&&(t.name||t.text)]})},u=function(e,t){var n;if(t.rooms>0){var a=Object(r.a)(Object(r.a)({},e.occupancy[0][0]),{rooms:t.rooms,childAges:(null===(n=t.childAges)||void 0===n?void 0:n.length)>0&&t.childAges||e.occupancy[0][0].childAges});return Object(r.a)(Object(r.a)({},e),{occupancy:[[a]],checkIn:[t.checkInDate],checkOut:[t.checkOutDate]})}return e},d=function(e,t,n){return e===o.a.FlightOption.Oneway?Object(i.a)(t,1):n},p=function(e){return e?e.country&&e.country.id||e.countryId:0},h=function(e,t){for(var n=[],r=0;r<e;r+=1)n.push(3);for(r=0;r<t;r+=1)n.push(1);return n}},1568:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(15),a=n(1578),o=function(e,t,n){return e+t+n>a.a.MaxTotal?r.d.MaxTotal:t>e*a.a.NumberOfChildrenPerAdult?r.d.Children:n>e*a.a.NumberOfInfantsPerAdult?r.d.Infant:r.d.None},i=function(e,t,n){return function(a){return e===r.l.Origin||e===r.l.Destination||e===r.l.PackageDeal||e===r.l.Autocomplete||e!==a||t&&n&&t!==n?e:r.l.None}}},1575:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n(3),o=n(32),i=n(26),c=n(4),s=n(27);!function(e){e.Default="Default",e.WithIds="WithIds",e.Test="Test",e.ForceB="ForceB"}(r||(r={}));var l,u=n(1602),d=n(50),p=function(){try{var e=Object(s.h)().location.search,t=new d.a(e),n={},a=t.get("origin");null===a&&(a=t.get("ori")),a&&(n.overrideOrigin=a);var o=t.get("showcmsid");o&&(n.cmsMode="yes"===o.toLowerCase()?r.WithIds:r.Default);var i=t.get("debug");i&&(n.enableDebugLogs="true"===i.toLowerCase());var c=function(e){var t=e.get("explist");return t?t.split(",").map((function(e){var t=e.split("="),n=t[1];if(n&&n in u.a)return{variant:n,name:t[0]}})).filter((function(e){return null!=e})):null}(t);return c&&(n.overrideExperiments=c),n}catch(e){return{}}},h=n(18),g=function(){function e(){var e=!!c.a&&c.a.pageConfig,t=!!e&&e.sessionId,n=!!e&&e.userId,r=!!e&&e.cttp||h.q.User,a=e&&e.isLive,o={currencyCode:!!e&&e.currencyCode},i={userId:n,clientVersion:"1.0",applicationName:"DesktopWeb"},s={id:t,cid:!!e&&e.cid},l=!e||r!==h.q.Internal&&a?{}:p();this.clientContext={userSettings:o,clientInfo:i,sessionInfo:s,debugInfo:l,trafficMessageInfo:{shouldSendTrafficMessage:!1},requestInfo:{currentRetryAttempt:0}}}return e.prototype.withDebugInfo=function(e){return this.clientContext.debugInfo=e,this},e.prototype.withTrafficMessageInfo=function(e){return this.clientContext.trafficMessageInfo=e,this},e.prototype.withRequestInfo=function(e){return this.clientContext.requestInfo=e,this},e.prototype.build=function(){return this.clientContext},e}(),m=n(101),f=n(1638),b=n(13);!function(e){var t=this;e.getProperty=function(e){return Object(a.b)(t,void 0,void 0,(function(){var t,n,r,s,l,u;return Object(a.d)(this,(function(d){switch(d.label){case 0:return t=Object(i.f)()+"/property/getProperty",n=(new g).withTrafficMessageInfo({shouldSendTrafficMessage:!0}).build(),r=Object(a.a)(Object(a.a)({},e),{context:n}),s=Object(c.b)(),l=s&&s.pageConfig?s.pageConfig.htmlLanguage:"en-us",u={"Accept-Language":l},[4,o.a.sendJson("POST",t,r,0,u,!0,!0).catch((function(e){var t=!!e&&"::exceptionMessage:"+e.message+"::stackTrace:"+e.stack+"::error:"+e;return Object(m.a)("[GatewayService]:getProperty:"+window.location.href+t),null}))];case 1:return[2,d.sent()]}}))}))},e.makeRequest=function(e,t,n,r){var s=(new g).withTrafficMessageInfo({shouldSendTrafficMessage:r}).build(),l=Object(c.b)(),u={"Accept-Language":l&&l.pageConfig?l.pageConfig.htmlLanguage:"en-us"},p=Object(a.a)(Object(a.a)({},n),{context:s}),h=t&&t.length>0&&t.join("/")||"",f=Object(i.f)()+"/"+h,v=new d.a(Object(b.d)(Object(i.k)())),y=v?f+"/?"+v:f;return new Promise((function(t,n){o.a.sendJson("POST",y,p,0,u,!0,!0).then((function(e){t(e)})).catch((function(t){Object(m.a)("[GatewayService]:"+e+":"+Object(i.A)()+(!!t&&"::exceptionMessage:"+t.message+"::stackTrace:"+t.stack+"::error:"+t)),n(t)}))}))},e.post=function(e,t){return n("POST",e,t)};var n=function(e,t,n){return o.a.sendJsonTyped(e,t,n,{optionalHeaders:f.a.buildHeader()},!0,!0)}}(l||(l={}))},1576:function(e,t,n){"use strict";n.d(t,"d",(function(){return T})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return P})),n.d(t,"e",(function(){return E})),n.d(t,"a",(function(){return N}));var r=n(3),a=n(202),o=n(158),i=n(630),c=n(295),s=n(59),l=n(15),u=n(1582),d=n(12),p=n(23),h=n(28),g=n(60),m=n(168),f=n(1567),b=n(62),v=n(33),y=n(203),O=n(1583),S=n(347),j=n(205),C=n(14),I=l.n.Group,x=function(e,t,n){void 0===n&&(n=Object(h.f)());var r=Object(y.a)(),o=a.stringify(e,{skipNulls:!0});return t?""+r+n+"?"+o:n+"?"+o},T=function(e,t,n,o,i){void 0===i&&(i=Object(h.m)());var c=a.parse(i,{ignoreQueryPrefix:!0}),l=Object(r.a)({},c),u=c.checkIn||c.checkin,p=parseInt(c.los,10)||1,g=Object(j.b)(Object(m.a)(new Date(u),p)),f=n&&(c.checkOut||c.checkout)||g;return l[d.b.SSR.departureFrom]=e.code,l[d.b.SSR.departureFromType]=e.type,l[d.b.SSR.departureFromText]=e.name,l[d.b.SSR.departureFromCity]=e.id,l[d.b.SSR.arrivalTo]=t.code,l[d.b.SSR.arrivalToType]=t.type,l[d.b.SSR.arrivalToText]=t.name,l[d.b.SSR.arrivalToCity]=t.id,l[d.b.SSR.arrivalToCountry]=t.countryId,l[d.b.SSR.flightAdults]=c.adults,l[d.b.SSR.flightChildren]=c.children||0,l[d.b.SSR.flightInfants]=0,l[d.b.SSR.flightSearchType]=s.a.FlightOption.RoundTrip,l[d.b.SSR.departDate]=u,l[d.b.SSR.returnDate]=f,l[d.b.SSR.cabinType]=n?s.a.FlightCabinClass.Economy:s.a.FlightCabinClass[s.a.FlightCabinClass.Economy],n||(l[d.b.SSR.checkout]=f),o&&(l[d.b.FlightSSR.selectedProperty]=o),x(Object(r.a)(Object(r.a)({},Object(j.g)()),l),n,n?O.a.HotelSearch:void 0)},k=function(e,t,n,r,a,o,i){var c,s;if(void 0===i&&(i=Object(h.m)()),!(null==e?void 0:e.flightSearchCriteria)||!n)return null;var l=null===(s=null===(c=n.packaging)||void 0===c?void 0:c.packageToken)||void 0===s?void 0:s.clientToken,u=D(e,l,t,i);return u[d.b.PackageBookingForm.roomIdentifier]=n.roomIdentifiers,u[d.b.PackageBookingForm.pointsmaxId]=r,u[d.b.PackageBookingForm.isFit]=Object(j.c)(n.isFit),u[d.b.PackageBookingForm.r_children]=n.children,u[d.b.PackageBookingForm.r_eb]=n.numberOfMandatoryExtraBeds,u[d.b.PackageBookingForm.r_masterOcc]=a,u[d.b.PackageBookingForm.r_occ]=n.capacity,u[d.b.PackageBookingForm.extraBed]=n.packagedExtraBeds,u[d.b.PackageBookingForm.r_needOccSearch]=Object(j.c)(n.isLimitedToSearchedOccupancy),u[d.b.PackageBookingForm.r_isRespectMacOcc]=Object(j.c)(n.childrenStayFreeTypeId===v.g.RespectMaxOccupancyOfTheRoom),u[d.b.PackageBookingForm.r_room]=n.numberOfFixRoom,u[d.b.PackageBookingForm.mseHotelId]=o,Object(y.d)(u,O.a.FlightSearch)},P=function(e,t,n){void 0===n&&(n=window.location.search);var o=Object(c.a)(e.occupancy[t]),l=a.parse(n,{ignoreQueryPrefix:!0});Object(u.d)(e,o,t);var d=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},Object(j.g)()),{explist:l.explist,expuser:l.expuser}),Object(j.h)(e.hotelDestinationSelectedValue[t])),{textToSearch:e.searchText[t],city:Object(j.f)(e.hotelDestinationSelectedValue[t]),countryId:e.hotelDestinationSelectedValue[t].countryId,checkIn:Object(j.b)(e.checkIn[t]),checkOut:Object(j.b)(e.checkOut[t]),los:Object(i.f)(e.checkIn[t],e.checkOut[t]),rooms:e.passengers.rooms||o.rooms,adults:o.adults,children:o.children,childages:Object(j.a)(o.childAges),travellerType:I,departureFrom:e.originSelectedValue.objectId,departureFromType:e.originSelectedValue.objectTypeId,departureFromText:e.originSelectedValue.text,departureFromCity:e.originSelectedValue.cityId,arrivalTo:e.destinationSelectedValue.objectId,arrivalToType:e.destinationSelectedValue.objectTypeId,arrivalToText:e.destinationSelectedValue.text,arrivalToCity:e.destinationSelectedValue.cityId,arrivalToCountry:Object(f.c)(e.destinationSelectedValue),departDate:Object(j.b)(e.departureDate),returnDate:Object(j.b)(e.returningDate),flightAdults:e.passengers.adults,flightChildren:e.passengers.children,flightInfants:e.passengers.infants,flightSearchType:e.flightOption,cabinType:s.a.FlightCabinClass[e.cabinType]}),p=a.stringify(d,{skipNulls:!0});return Object(y.e)(p,O.a.HotelSearch)},E=function(e,t,n){var o;void 0===n&&(n=window.location.search);var s=Object(c.a)(e.occupancy[t]),u=a.parse(n,{ignoreQueryPrefix:!0}),d=e.hotelDestinationSelectedValue[t],p=(null==d?void 0:d.hasOwnProperty("searchType"))&&d.searchType===C.H.HotelSearch||(null==d?void 0:d.isRecentSearchFromZenith)&&d.objectTypeId===l.e.Hotel?d.objectId:null,h=null===(o=s.childAges)||void 0===o?void 0:o.map((function(e){return Object(j.e)(e)})),g=Object(r.a)(Object(r.a)({},Object(j.g)()),{explist:u.explist,expuser:u.expuser,selectedproperty:p,hotel:p,textToSearch:e.searchText[t],city:Object(j.f)(e.hotelDestinationSelectedValue[t]),countryId:e.hotelDestinationSelectedValue[t].countryId,checkIn:Object(j.b)(e.checkIn[t]),checkOut:Object(j.b)(e.checkOut[t]),los:Object(i.f)(e.checkIn[t],e.checkOut[t]),rooms:s.rooms,adults:s.adults,children:s.children,childages:Object(j.a)(h),travellerType:s.travellerType}),m=a.stringify(g,{skipNulls:!0});return(null==d?void 0:d.url)?Object(y.c)(d.url,m):Object(y.e)(m,O.a.HotelSearch)},D=function(e,t,n,o){var i={},c=a.parse(o,{ignoreQueryPrefix:!0}),s=e.flightSearchCriteria;return i[p.a.DepartureFrom]=s.originCode,i[p.a.DepartureFromType]=s.originType,i[p.a.ArrivalTo]=s.destinationCode,i[p.a.ArrivalToType]=s.destinationType,i[p.a.DepartureDate]=Object(j.b)(s.departDate),i[p.a.ReturningDate]=Object(j.b)(s.returnDate),i[p.a.FlightOption]=s.searchType,i[p.a.CabinType]=s.cabinType,s.occupancy&&(i[b.a.Adults]=s.occupancy.adults,i[b.a.Children]=s.occupancy.children,i[p.a.Infants]=s.occupancy.infants),i[p.a.ItineraryId]=s.itineraryId||(null==n?void 0:n.id)||void 0,i[d.b.FlightSSR.textToSearch]=e.searchText,i[d.b.FlightSSR.city]=e.cityId,i[d.b.FlightSSR.checkIn]=e.checkIn,i[d.b.FlightSSR.checkOut]=e.checkOut,i[d.b.FlightSSR.los]=e.los,i[d.b.FlightSSR.rooms]=e.rooms,i[d.b.FlightSSR.travellerType]=e.travellerType,i[d.b.FlightSSR.packageToken]=t,i[d.b.FlightSSR.hotelAdults]=e.adults,i[d.b.FlightSSR.hotelChildren]=e.children,i[d.b.FlightSSR.hotelSearchType]=l.e.Hotel,i[d.b.FlightSSR.selectedProperty]=e.hotelId,i[d.b.FlightSSR.returnHotel]=g.a,i[d.b.FlightSSR.childages]=Object(j.a)(e.childAges),i[d.b.FlightSSR.departureFromText]=c[d.b.FlightSSR.departureFromText],i[d.b.FlightSSR.departureFromCity]=c[d.b.FlightSSR.departureFromCity],i[d.b.FlightSSR.arrivalToText]=c[d.b.FlightSSR.arrivalToText],i[d.b.FlightSSR.arrivalToCity]=c[d.b.FlightSSR.arrivalToCity],i[d.b.FlightSSR.arrivalToCountry]=c[d.b.FlightSSR.arrivalToCountry],i[d.b.FlightSSR.countryId]=c[d.b.FlightSSR.countryId],Object(r.a)(Object(r.a)({},Object(j.g)()),i)},N=function(e,t){var n=Object(g.d)(),r=w(n),a=r[0],o=r.slice(1);return"/search?"+A(a,t)+Object(S.a)([e])+(o.length>0?B(o):"")},A=function(e,t){var n,a=e.searchType,o=e.searchValue,i=e.checkIn,c=e.checkOut,s=e.lengthOfStay,l=e.adults,u=e.children,d=e.childAges,p=e.rooms,h=e.travellerType,g=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},a&&((n={})[a]=o,n)),u>0&&(null==d?void 0:d.length)>0&&{childAges:null==d?void 0:d.join(",")}),t&&{cid:t}),{checkIn:i,checkOut:c,los:s,adults:l,children:u,rooms:p,travellerType:h});return Object(y.b)(g).substring(1)},w=function(e){return e.searchEntityId.map((function(t,n){var r=o(Object(m.a)(new Date(e.checkIn[n]),e.lengthOfStay[n]),"YYYY-MM-DD");return{checkIn:null==e?void 0:e.checkIn[n],checkOut:r,lengthOfStay:null==e?void 0:e.lengthOfStay[n],adults:null==e?void 0:e.adults[n],children:null==e?void 0:e.children[n],childAges:[Number.parseInt(null==e?void 0:e.childAges[n],10)],rooms:null==e?void 0:e.rooms[n],searchType:null==e?void 0:e.searchType[n],searchValue:null==e?void 0:e.searchEntityId[n],objectId:(null==e?void 0:e.selectedProperty[n])||"",travellerType:(null==e?void 0:e.travellerType[n])||I}}))},B=function(e){var t=d.b.MultiHotelNextCriteriaQueryStringKey,n=t.nextCheckIn,r=t.nextAdults,a=t.nextLengthOfStay,o=t.nextSearchType,i=t.nextSearchEntityId,c=t.nextRooms,s=t.nextChildren,l=t.nextChildAges,u=t.nextSelectedProperty,p=e.reduce((function(t,d,p){var h,g,m,f,b,v,y,O,S,j,C=p!==e.length-1?",":"";return(h={})[n]=""+(null!==(g=t[n])&&void 0!==g?g:"")+d.checkIn+C,h[r]=""+(null!==(m=t[r])&&void 0!==m?m:"")+d.adults+C,h[a]=""+(null!==(f=t[a])&&void 0!==f?f:"")+d.lengthOfStay+C,h[o]=""+(null!==(b=t[o])&&void 0!==b?b:"")+d.searchType+C,h[i]=""+(null!==(v=t[i])&&void 0!==v?v:"")+d.searchValue+C,h[c]=""+(null!==(y=t[c])&&void 0!==y?y:"")+d.rooms+C,h[s]=""+(null!==(O=t[s])&&void 0!==O?O:"")+d.children+C,h[l]=""+(null!==(S=t[l])&&void 0!==S?S:"")+d.childAges.join(C),h[u]=""+(null!==(j=t[u])&&void 0!==j?j:"")+((null==d?void 0:d.objectId)||""),h}),{});return Object(y.b)(p,!1)}},1578:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={MaxTotal:6,NumberOfChildrenPerAdult:2,NumberOfInfantsPerAdult:1}},1580:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,a=n(3),o=n(43),i=n(413),c=n(41),s=n(1563);!function(e){var t="flightSearchHistory";e.getSearchTripDetails=function(e){if(!e)return null;var t={flightCodes:[{code:e.originCode,type:e.originType},{code:e.destinationCode,type:e.destinationType}]};return Object(s.e)(t)},e.updateRecentSearch=function(e,t){var n=Object(a.a)(Object(a.a)({},e),{origin:t[0],destination:t[1]});Object(c.f)("flight-recent-search",JSON.stringify(n))},e.getRecentSearch=function(){var e=Object(c.a)(t),a=e&&JSON.parse(e),o=u(a?a.data:null);return o||Object(c.d)(t),a&&o?n(r(a.data)):null};var n=function(e){return Object(a.a)(Object(a.a)({},e),{departDate:e.departDate?new Date(e.departDate)<i()?i():new Date(e.departDate):null,returnDate:e.departDate&&e.returnDate?new Date(e.departDate)<i()?o(i(),1):new Date(e.returnDate):null})},r=function(e){var t,n,r=e.origin,a=e.destination;return{origin:r&&l(r),originCode:null==r?void 0:r.code,originType:null===(t=null==r?void 0:r.type)||void 0===t?void 0:t.toString(),originText:null,originCity:null,destination:a&&l(a),destinationCode:null==a?void 0:a.code,destinationType:null===(n=null==a?void 0:a.type)||void 0===n?void 0:n.toString(),destinationText:null,destinationCity:null,departDate:e.departureDate,returnDate:e.returnDate,departDateString:e.departureDateString,returnDateString:e.returnDateString,searchType:e.flightType,cabinType:e.cabinType,occupancy:e.passengers,token:null}},l=function(e){var t,n;return{airportCode:e.code,cityCode:e.cityCode,cityId:e.cityId,country:e.country,name:null===(t=e.state)||void 0===t?void 0:t.name,objectId:e.tripLocations.length&&e.tripLocations[0].code,objectTypeId:e.tripLocations.length&&e.tripLocations[0].type,state:e.state,text:e.name,url:null===(n=e.id)||void 0===n?void 0:n.toString()}},u=function(e){return!!e&&(e.origin&&e.destination&&e.flightType&&e.cabinType&&e.passengers&&e.departureDate&&e.returnDate)}}(r||(r={}))},1581:function(e,t,n){"use strict";function r(e){if(e){var t=("0"+(e.getMonth()+1)+"-").slice(-3),n=("0"+e.getDate()).slice(-2);return e.getFullYear()+"-"+t+n}}n.d(t,"a",(function(){return r}))},1582:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return I}));var r=n(3),a=n(158),o=n(1580),i=n(41),c=n(15),s=n(52),l=n(168),u=n(26),d=n(1567),p="YYYY-MM-DD",h="packagesCriteria",g="packageSequentialHotelUrl",m="|",f=function(e,t,n){var o,c=[e.searchText[n],t.adults,t.children,t.childAges&&t.childAges.length>0?t.childAges.toString():"_",e.passengers.rooms,a(e.checkIn[n],p),a(e.checkOut[n],p),a(e.departureDate,p),a(e.returningDate,p),e.passengers.adults,e.passengers.children,e.passengers.infants,e.flightOption,e.cabinType,e.originSelectedValue.text,e.destinationSelectedValue.text,e.originSelectedValue.objectId,e.destinationSelectedValue.objectId,e.originSelectedValue.cityId,e.destinationSelectedValue.cityId,e.originSelectedValue.objectTypeId,e.destinationSelectedValue.objectTypeId],s=(null===(o=e.hotelDestinationSelectedValue)||void 0===o?void 0:o.length)?[Object(d.c)(e.destinationSelectedValue),e.hotelDestinationSelectedValue[n].text,e.hotelDestinationSelectedValue[n].objectId,e.hotelDestinationSelectedValue[n].cityId,e.hotelDestinationSelectedValue[n].objectTypeId,e.hotelDestinationSelectedValue[n].countryId]:[],l=Object(r.g)(c,s);Object(i.f)(h,l.join(m))},b=function(e,t){return Number.isNaN(e.getTime())||e<t?t:e},v=function(){var e=Object(i.a)(h);if(!e){var t=o.a.getRecentSearch();return t?y(O(t)):null}var n=e.split(m);if(!n||22!==n.length&&28!==n.length)return null;var r={checkIn:n[5],checkOut:n[6],updateChildAges:n[3],departDate:n[7],returnDate:n[8],searchText:n[0],occupancyAdults:n[1],occupancyChildren:n[2],rooms:n[4],passengerAdults:n[9],passengerChildren:n[10],passengerInfants:n[11],flightOption:n[12],cabinType:n[13],originSearchText:n[14],originObjectId:n[16],originCityId:n[18],originObjectTypeId:n[20],destinationSearchText:n[15],destinationObjectId:n[17],destinationCityId:n[19],destinationObjectTypeId:n[21],destinationCountryId:n[22],hotelText:n[23],hotelObjectId:n[24],hotelCityId:n[25],hotelObjectTypeId:n[26],hotelCountryId:n[27]};return y(r)},y=function(e){var t="_"!==e.updateChildAges,n=s.a.getToday(),r=b(new Date(e.checkIn),n),a=b(new Date(e.checkOut),Object(l.a)(r,1)),o=b(new Date(e.departDate),n);return{checkIn:[r],checkOut:[a],departureDate:o,returningDate:b(new Date(e.returnDate),Object(l.a)(o,1)),searchText:[e.searchText],occupancy:[[{isActive:!0,travellerType:c.n.Group,adults:parseInt(e.occupancyAdults,10),children:parseInt(e.occupancyChildren,10),childAges:t?S(e.updateChildAges):[],rooms:parseInt(e.rooms,10)}]],passengers:{adults:parseInt(e.passengerAdults,10),children:parseInt(e.passengerChildren,10),infants:parseInt(e.passengerInfants,10),rooms:parseInt(e.rooms,10)},flightOption:parseInt(e.flightOption,10),cabinType:parseInt(e.cabinType,10),originSearchText:e.originSearchText,destinationSearchText:e.destinationSearchText,originSelectedValue:{url:null,text:e.originSearchText,objectId:e.originObjectId,cityId:parseInt(e.originCityId,10),objectTypeId:e.originObjectTypeId},destinationSelectedValue:{url:null,text:e.destinationSearchText,objectId:e.destinationObjectId,cityId:parseInt(e.destinationCityId,10),objectTypeId:e.destinationObjectTypeId,countryId:parseInt(e.destinationCountryId,10)},hotelDestinationSelectedValue:[{url:null,text:e.hotelText,objectId:e.hotelObjectId,cityId:parseInt(e.hotelCityId,10),objectTypeId:e.hotelObjectTypeId,countryId:parseInt(e.hotelCountryId,10)}]}},O=function(e){var t,n,r,a,o,i,c,s,l,u,d,p,h,g,m,f,b,v,y=e.origin,O=e.destination;return{checkIn:e.departDateString,checkOut:e.returnDateString,updateChildAges:"",departDate:e.departDateString,returnDate:e.returnDateString,searchText:"",occupancyAdults:null===(t=e.occupancy.adults)||void 0===t?void 0:t.toString(),occupancyChildren:null===(n=e.occupancy.children)||void 0===n?void 0:n.toString(),rooms:"1",passengerAdults:null===(r=e.occupancy.adults)||void 0===r?void 0:r.toString(),passengerChildren:null===(a=e.occupancy.children)||void 0===a?void 0:a.toString(),passengerInfants:null===(o=e.occupancy.infants)||void 0===o?void 0:o.toString(),flightOption:null===(i=e.searchType)||void 0===i?void 0:i.toString(),cabinType:null===(c=e.cabinType)||void 0===c?void 0:c.toString(),originSearchText:null==y?void 0:y.text,originObjectId:null===(s=null==y?void 0:y.objectId)||void 0===s?void 0:s.toString(),originCityId:null===(l=null==y?void 0:y.cityId)||void 0===l?void 0:l.toString(),originObjectTypeId:null===(u=null==y?void 0:y.objectTypeId)||void 0===u?void 0:u.toString(),destinationSearchText:null==O?void 0:O.text,destinationObjectId:null===(d=null==O?void 0:O.objectId)||void 0===d?void 0:d.toString(),destinationCityId:null===(p=null==O?void 0:O.cityId)||void 0===p?void 0:p.toString(),destinationObjectTypeId:null===(h=null==O?void 0:O.objectTypeId)||void 0===h?void 0:h.toString(),destinationCountryId:null===(m=null===(g=null==O?void 0:O.country)||void 0===g?void 0:g.id)||void 0===m?void 0:m.toString(),hotelText:"",hotelObjectId:"",hotelCityId:null===(f=null==O?void 0:O.cityId)||void 0===f?void 0:f.toString(),hotelObjectTypeId:"",hotelCountryId:null===(v=null===(b=null==O?void 0:O.country)||void 0===b?void 0:b.id)||void 0===v?void 0:v.toString()}},S=function(e){return e?e.split(",").map((function(e){return parseInt(e,10)})):[]},j=function(){Object(i.f)(g,T())},C=function(){var e=Object(i.a)(g);return x(e)},I=function(){var e=Object(i.c)("packagesReturnHotelUrl");return x(e)},x=function(e){if(!e)return null;var t=e.split(m);return t&&2===t.length?{pathname:t[0],search:t[1]}:null},T=function(){return""+Object(u.j)()+m+Object(u.k)()}},1583:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={HotelSearch:"/search",FlightSearch:"/flights/results",PackageBookingForm:"/packages/book",SelfTransfer:"/flights/info/selftransfer",AgodaGuarantee:"/flights/info/agodaguarantee"}},1584:function(e,t,n){"use strict";var r=n(1),a=n(49),o=function(e){return r.createElement("svg",e,r.createElement("path",{d:"M2.176 1.018L9.263 1a1.179 1.179 0 0 1 1.182 1.176v7.8c0 .26-.247.447-.498.378L7.5 9.678a.786.786 0 0 0-.995.757v11.358c0 .65-.528 1.178-1.18 1.178H2.18A1.179 1.179 0 0 1 1 21.793V2.197c0-.65.526-1.177 1.176-1.179zm1.387 1.55a1 1 0 0 0-1 1v.357a1 1 0 0 0 1 1h.358a1 1 0 0 0 1-1v-.358a1 1 0 0 0-1-1h-.358zm3.93 0a1 1 0 0 0-1 1v.357a1 1 0 0 0 1 1h.357a1 1 0 0 0 1-1v-.358a1 1 0 0 0-1-1h-.358zm-3.93 3.928a1 1 0 0 0-1 1v.358a1 1 0 0 0 1 1h.358a1 1 0 0 0 1-1v-.358a1 1 0 0 0-1-1h-.358zm0 3.93a1 1 0 0 0-1 1v.357a1 1 0 0 0 1 1h.358a1 1 0 0 0 1-1v-.357a1 1 0 0 0-1-1h-.358zm13.164 3.985c.464.17.773.614.772 1.109l-.013 6.29a1.179 1.179 0 0 1-1.182 1.176h-.008l-1.54-.015a.393.393 0 0 1-.39-.393v-3.113a.393.393 0 0 0-.392-.393h-2.382a.393.393 0 0 0-.393.393v3.113a.393.393 0 0 1-.393.393H9.239a1.179 1.179 0 0 1-1.178-1.178v-9.441a.786.786 0 0 1 1.057-.738l7.609 2.797zm-.375-8.716h5.487c.65 0 1.178.528 1.178 1.179v14.919c0 .65-.527 1.178-1.178 1.178h-1.602a1.179 1.179 0 0 1-1.179-1.178v-7.189c0-.483-.295-.917-.744-1.096l-2.893-1.145a.393.393 0 0 1-.248-.366V6.874c0-.651.528-1.179 1.179-1.179z"}))};o.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var i=r.memo((function(e){return r.createElement(a.a,e,r.createElement(o,{width:"1em",height:"1em"}))}));i.displayName="FlightHotelFilledIcon",t.a=i},1586:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),a=n(1),o=n(8),i=n(25),c=n(1593),s=(n(1646),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputChange=function(e){e&&e.target&&null!==e.target.value&&t.props.onChange(e.target.value)},t.handleFocus=function(e){e&&e.target&&e.target.select()},t}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.props.sendCriticalMark&&Object(c.a)()},t.prototype.render=function(){var e=this,t={"aria-label":this.props.placeholder},n=Object(i.a)(Object(i.c)("SearchBoxTextEditor",this.props.modifiers),[this.props.className],this.props.showEmptySearchError?"showEmptySearchError":"");return a.createElement(a.Fragment,null,function(){if(!e.props.titleText)return null;var t=a.createElement(o.d,{clone:!0,textColor:{color:"secondary",variant:"plainText"}},a.createElement(o.A,{textSize:"M"},e.props.titleText));return e.props.handleOverflowTitleText?a.createElement(o.d,{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t):t}(),a.createElement("input",Object(r.a)({},t,{"data-selenium":this.props.dataSelenium,tabIndex:-1,type:"text",className:n,value:this.props.value?this.props.value:"",placeholder:this.props.placeholder,onChange:this.handleInputChange,onFocus:this.handleFocus,disabled:this.props.disabled})))},t.defaultProps={className:"",modifiers:{},placeholder:"",value:"",onChange:function(e){},sendCriticalMark:!1,disabled:!1},t}(a.PureComponent))},1590:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(66),a=n(9),o=n(1541),i=n(1639),c=function(e,t){var n;return(null===(n=e.searchText)||void 0===n?void 0:n.map((function(n,r){return l(e,r,t)}))).every((function(e){return null===e}))},s=function(e,t,n){var r;return(null===(r=e.checkIn)||void 0===r?void 0:r.map((function(r,a){return u(e,a,t,n)}))).every((function(e){return!0===e}))},l=function(e,t,n){var a;return(null===(a=e.searchText)||void 0===a?void 0:a.length)<=t||Object(r.a)(e.searchText[t])?n.invalidSearch:null},u=function(e,t,n,r){var c,s,l,u,d,p,h,g,m,f,b,v,y,O=e.hotelDestinationSelectedValue,S=e.checkIn,j=e.checkOut,C=(null===(c=null==O?void 0:O[t])||void 0===c?void 0:c.countryId)||(null===(s=null==n?void 0:n.calendar)||void 0===s?void 0:s.asqCountryId),I=(null===(l=null==O?void 0:O[t])||void 0===l?void 0:l.cityId)||(null===(u=null==n?void 0:n.calendar)||void 0===u?void 0:u.asqCityId),x=(null===(d=null==n?void 0:n.page)||void 0===d?void 0:d.pageTypeId)===a.a.Hotel||(null===(p=null==n?void 0:n.page)||void 0===p?void 0:p.pageTypeId)===a.a.Search||(null===(h=null==n?void 0:n.page)||void 0===h?void 0:h.pageTypeId)===a.a.CampaignLanding,T=x&&o.a.isASQCountrySearch(null===(g=null==n?void 0:n.page)||void 0===g?void 0:g.pageTypeId,C,null===(m=null==n?void 0:n.calendar)||void 0===m?void 0:m.asqAllowedLos,null===(f=null==n?void 0:n.page)||void 0===f?void 0:f.cid),k=!!x&&o.a.isAsqCitySearch(null===(b=null==n?void 0:n.calendar)||void 0===b?void 0:b.asqAllowedCitiesConfiguration,I,null===(v=null==n?void 0:n.page)||void 0===v?void 0:v.cid),P=o.a.getAllowedLosByCountryId(null===(y=null==n?void 0:n.page)||void 0===y?void 0:y.pageTypeId,C),E=Object(i.b)(n),D=Object(i.a)(n,I);return!Object(i.c)(r,T,P,S[t],j[t],E,k,D)}},1592:function(e,t,n){"use strict";var r=n(1),a=n(49),o=function(e){return r.createElement("svg",e,r.createElement("path",{d:"M13.639 6.772l3.386-3.386a4.5 4.5 0 0 1 1.77-1.091l1.68-.555a1.86 1.86 0 0 1 2.348 2.355l-.558 1.676a4.5 4.5 0 0 1-1.088 1.76l-3.404 3.404 2.155 9.77a1.3 1.3 0 0 1-.35 1.199l-.673.673a1.3 1.3 0 0 1-2.055-.286l-3.834-6.868-3.676 3.072.839 2.626a1 1 0 0 1-.235 1l-.98 1.012a1 1 0 0 1-1.57-.172l-2.226-3.622-3.63-2.228a1 1 0 0 1-.195-1.548l.986-1.017a1 1 0 0 1 1.028-.254l2.779.907 3.017-3.657L2.31 7.745a1.3 1.3 0 0 1-.288-2.056l.672-.673a1.3 1.3 0 0 1 1.194-.351l9.752 2.107z"}))};o.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var i=r.memo((function(e){return r.createElement(a.a,e,r.createElement(o,{width:"1em",height:"1em"}))}));i.displayName="HotelFacilitiesAirportTransferBigFilledIcon",t.a=i},1593:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(26),a=n(107),o=function(){Object(r.b)("criticalLoaded");var e=a.a.performanceNow();e&&a.a.pushMessage("mark_critical_load",e)}},1597:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(1),o=function(e,t,n){var o=a.useState(e),i=o[0],c=o[1],s=a.useState({}),l=s[0],u=s[1];return{handleSubmit:function(e,n){return Object(r.b)(void 0,void 0,void 0,(function(){var a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e&&e.preventDefault(),[4,t(i,n)];case 1:return a=r.sent(),u(a&&a.errors||{}),[2,a&&a.shouldContinue]}}))}))},handleInputChange:function(e){var t=e.target.name,a=e.target.value,o=i[t];a!==o&&(n&&n(t,a,i[t]),c((function(e){var n;return Object(r.a)(Object(r.a)({},e),((n={})[t]=a,n))})))},setInput:function(e,t){var a=i[e];if(t instanceof Date&&a instanceof Date){if(t.getTime()===a.getTime())return}else if(t===a)return;n&&n(e,t,a),c((function(n){var a;return Object(r.a)(Object(r.a)({},n),((a={})[e]=t,a))}))},setInputs:c,inputs:i,errors:l}}},1600:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(4);var r=function(){return window.google}},1606:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.None=0]="None",e[e.InvalidSearch=1]="InvalidSearch",e[e.SameCitySearch=2]="SameCitySearch",e[e.NoAirportsOnOrigin=3]="NoAirportsOnOrigin",e[e.NoAirportsOnDestination=4]="NoAirportsOnDestination",e[e.NoAirportsOnBothOriginAndDestination=5]="NoAirportsOnBothOriginAndDestination",e[e.InvalidPassenger=6]="InvalidPassenger"}(r||(r={}))},1608:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(4),a=n(9),o=n(1541),i="//www.agoda.com/travel-guides/thailand/phuket/phuket-sandbox-thailand-invites-vaccinated-tourists-for-beach-holiday",c=function(e,t){var n=r.a.pageConfig.pageTypeId,i=o.a.isAllowedCity(t,n);return e&&i&&(n===a.a.Hotel||n===a.a.Search)},s=function(e,t){var n=r.a.pageConfig.pageTypeId,i=o.a.isAllowedCity(t,n);return e&&i&&!o.a.isASQTraveller(r.a.pageConfig.cid)&&n===a.a.Search},l=function(e,t){return{description:r.a.pageConfig.pageTypeId===a.a.Search?e.PhuketSandboxBannerDescriptionSSR:e.PhuketSandboxBannerDescriptionPP,learnMore:e.PhuketSandboxBannerLearnMore,newDescription:r.a.pageConfig.pageTypeId===a.a.Search?e.SandboxBannerSSRText:e.SandboxBannerPropertyText,newLearnMore:e.SandboxLearnMore,viewTodayDealsButton:e.SandboxViewTodayDealsButton}}},1613:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n(1),o=n(8),i=n(1542),c=n(1586),s=n(638),l=n(1660),u=n(25),d=(n(1651),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.suggestionElements={},t.noop=function(){},t.handleKeydownForList=function(e,n,r){var a;switch(r.key){case"ArrowDown":a=e+1;break;case"ArrowUp":a=e-1;break;case"Enter":t.props.onChange(n[e].value);break;case"Tab":t.props.onKeydown(r,void 0)}void 0!==a&&(t.suggestionElements[a]&&t.suggestionElements[a].focus(),r&&r.preventDefault())},t.handleKeyDownForIconBox=function(e){"ArrowDown"===e.key&&(t.suggestionElements[0]&&t.suggestionElements[0].focus(),e&&e.preventDefault());var n=t.props.list&&t.props.list[0]||{value:void 0};t.props.onKeydown(e,n.value)},t.handleSuggestionClick=function(e){return t.props.onChange&&t.props.onChange(e&&e.value)},t.suggestionRefCallback=function(e,n){n?t.suggestionElements[e]=n:t.suggestionElements[e]&&delete t.suggestionElements[e]},t.suggestionListRefCallback=function(e){e&&(e.style.maxHeight=window.innerHeight-e.getBoundingClientRect().top-20+"px")},t.getIconBoxProps=function(){return{icon:t.props.icon,onClick:t.props.disabled?t.noop:t.props.onClick,refCallback:t.props.refCallback,onKeyDown:t.props.disabled?t.noop:t.handleKeyDownForIconBox,className:Object(u.a)("AutocompleteSearch__IconBox",t.props.iconBoxClassName),trackingId:t.props.elementName,dataComponent:t.props.elementName,disabled:t.props.disabled}},t.getTextEditorProps=function(){return{placeholder:t.props.placeholder,value:t.props.searchText,onChange:t.props.disabled?t.noop:t.props.onChange,className:"AutocompleteSearch__TextEditor",dataSelenium:t.props.inputElementName,titleText:t.props.titleText,handleOverflowTitleText:t.props.handleOverflowTitleText}},t.getAutocompleteListProps=function(){return{suggestions:t.props.list,highlightText:t.props.searchText,showNumberOfProperties:!1,experiments:{},handleKeyDown:t.handleKeydownForList,refCallback:t.suggestionRefCallback,suggestionElementName:t.props.suggestionElementName,wrapperRefCallback:t.props.setDynamicHeightForList&&t.suggestionListRefCallback,className:t.props.setDynamicHeightForList&&"AutocompleteSearch__AutocompleteList",cms:t.props.cms,productType:t.props.productType,improveTextSearchPresentation:t.props.improveTextSearchPresentation||!1}},t.renderPopupTitle=function(){return a.createElement(o.d,{px:"XL",pt:"XL",pb:"S","data-component":"autocomplete-search-popup-title"},a.createElement(o.A,{strong:!0,textSize:"L"},t.props.popupTitle))},t}return Object(r.c)(t,e),t.prototype.render=function(){var e=Object(u.c)("AutocompleteSearch__Popup",this.props.popupModifier),t=this.props.isPopupVisible&&this.props.list&&this.props.list.length>0?a.createElement(s.default,{className:e,scrollIntoView:this.props.scrollPopupIntoView},this.props.popupTitle&&this.renderPopupTitle(),a.createElement(l.AutocompleteList,Object(r.a)({},this.getAutocompleteListProps(),{onSuggestionClick:this.handleSuggestionClick}))):null,n=Object(u.a)("AutocompleteSearch",this.props.modifier);return a.createElement("div",{className:n},a.createElement(i.a,Object(r.a)({},this.getIconBoxProps()),a.createElement(c.a,Object(r.a)({},this.getTextEditorProps()))),a.createElement("div",{className:"AutocompleteSearch__PopupContainer"},t))},t.displayName="AutocompleteSearch",t}(a.PureComponent))},1614:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=n(1),o=(n(1652),n(27)),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderBackdrop=function(e,n,r,a,i,c){var s=document.createElement("div");c&&(s.onclick=c),i&&Object(o.b)(s,"data-element-name",i),e&&e.split(" ").forEach((function(e){Object(o.c)(s,e)})),r&&Object(o.b)(s,"data-selenium",r),a&&Object(o.b)(s,"data-nocache","true");var l=n();return l.appendChild(s),t.parentNode=l,s},t.removeBackdrop=function(e){t.parentNode.removeChild(t.node),t.node=null},t.close=function(){t.removeBackdrop(t.props.parentSelector)},t.open=function(){t.node=t.renderBackdrop(t.props.className,t.props.parentSelector,t.props.dataSelenium,t.props.dataNoCache,t.props.dataElementName,t.props.onClick)},t}return Object(r.c)(t,e),t.prototype.componentDidMount=function(){this.props.isOpen&&(this.node=this.renderBackdrop(this.props.className,this.props.parentSelector,this.props.dataSelenium,this.props.dataNoCache,this.props.dataElementName,this.props.onClick))},t.prototype.componentWillReceiveProps=function(e){e.isOpen?this.node||(this.node=this.renderBackdrop(e.className,e.parentSelector,e.dataSelenium,e.dataNoCache,e.dataElementName,e.onClick)):this.node&&this.removeBackdrop(this.props.parentSelector)},t.prototype.componentWillUnmount=function(){this.node&&this.removeBackdrop(this.props.parentSelector)},t.prototype.render=function(){return a.createElement("noscript",null)},t.defaultProps={className:"Backdrop",parentSelector:function(){return document.body}},t}(a.PureComponent)},1616:function(e,t,n){"use strict";n.d(t,"a",(function(){return Cn})),n.d(t,"b",(function(){return In}));var r=n(3),a=n(1),o=n(673),i=n(220),c=n(412),s=n(102),l=n(140),u=n(66),d=n(29),p=n(256),h=n(1564),g=n(100),m=n(19),f=n(8),b=n(25),v=n(30),y=n(26),O=n(16),S=n(410),j=n(27),C=n(28),I=n(9),x=n(1653),T=n(1541),k=n(644),P=n(42),E=n(219),D=n(38),N=(n(1761),Object(P.withFeature)((function(e){return e.paymentLogos?a.createElement("div",{className:"PaymentLogos__SearchBox"},e.paymentLogos.map((function(e){return t=e,n=Object(b.c)("PaymentLogo__SearchBox",t.paymentType),r="payment-logo-"+t.paymentType,a.createElement(E.a,{key:t.paymentType,image:t.imageUrl,className:n,elementName:r});var t,n,r}))):null}),D.h)),A=n(78),w=(n(1762),n(1601)),B=a.memo((function(e){return a.createElement(w.a,Object(r.a)({},function(e){var t=Object(b.c)("Searchbox__searchButton",{active:!e.isLoading,disabled:e.isLoading});return{className:e.modifiers?Object(b.a)(t,Object(b.c)("Searchbox__searchButton",e.modifiers)):t,onClick:e.onSubmit,dataSelenium:e.dataSelenium,dataElementName:e.dataElementName,children:e.isLoading?a.createElement("i",{className:"Searchbox__searchButton__loader"}):a.createElement("span",{className:"Searchbox__searchButton__text"},e.text||"Search")}}(e)))})),_=n(1542),R=n(18),F=n(1552),L=n(157),M=n(631),H=n(15),V=n(629),U=n(1704),q=n(1682),G=n(630),Q=(n(1763),a.memo((function(e){var t=e.cms.checkInDateText,n="{0} - "+e.cms.checkOutDateText,r=e.checkIn&&e.checkOut;return a.createElement("div",{className:"DatePromptMessage"},a.createElement("p",{className:"DatePromptMessage__Title"},e.cms.confirmTravelDates),a.createElement("div",{className:"DatePromptMessage__DateGroup"},a.createElement("span",{className:r?"DatePromptMessage__CheckedDates DatePromptMessage__CheckedDates--Strong":"DatePromptMessage__CheckedDates"},function(){if(r)return Object(G.b)(e);var a=null===e.checkIn?t:Object(G.a)(e.checkIn,e.cms.shortDayNames,e.cms.shortMonthNames,e.cms.dateFormat);return m.StringFormatter.format(n,a)}()),a.createElement("span",{className:"DatePromptMessage__Nights"},e.checkOut?Object(G.e)(e):m.StringFormatter.format(e.cms.pluralNightsFormat,0))))}))),K=(n(1764),function(e){var t=e.holiday?e.holiday.name:"";return a.createElement("div",{className:"HolidayDisplay"},a.createElement("p",{className:"HolidayDisplay__Text"},t))});K.displayName="HolidayDisplay";var W,X,z,Y,J=a.memo(K),$=a.lazy(Object(A.a)((function(){return n.e(48).then(n.bind(null,1799))}))),Z=a.lazy(Object(A.a)((function(){return n.e(99).then(n.bind(null,4113))}))),ee=a.lazy(Object(A.a)((function(){return n.e(77).then(n.bind(null,4114))}))),te=a.lazy(Object(A.a)((function(){return n.e(50).then(n.bind(null,4144))}))),ne=a.lazy(Object(A.a)((function(){return Promise.resolve().then(n.bind(null,1660))}))),re=a.lazy(Object(A.a)((function(){return n.e(100).then(n.bind(null,4115))}))),ae=a.lazy(Object(A.a)((function(){return n.e(49).then(n.bind(null,4116))}))),oe=function(e,t){var n=!t.disabled&&t.onInputClick?t.onInputClick:function(){},r=!t.disabled&&t.handleKeyDown?t.handleKeyDown:function(){};return{onClick:n.bind(null,e),onKeyDown:r.bind(undefined,e),refCallback:t.refStoreInput}},ie=function(e){return a.createElement(ee,{key:"CalendarLegend",className:"CalendarLegend"},!e.range.isPriceSurgeAndDrop&&Object(d.a)(e.range.demand)>0&&a.createElement(re,{className:"CalendarLegendItem"},a.createElement("i",{className:"ficon ficon-minus-thin CalendarLegendItem__Icon"}),function(e){return a.createElement(V.a,{placement:Object(j.i)()?"topRight":"topLeft",overlayClassName:"CalendarLegendItem__Tooltip",overlay:e.legend.baseOnCurrentKnownAvailability},a.createElement("span",{className:"CalendarLegendItem__Text CalendarLegendItem__Text--Alert"},e.legend.weHaveLimitedAvailability))}(e)),!e.range.isPriceSurgeAndDrop&&Object(d.a)(e.range.cheaperPriceInformation)&&a.createElement(re,{className:"CalendarLegendItem "},a.createElement("i",{className:"ficon ficon-minus-thin CalendarLegendItem__Icon--Green"}),function(e){return a.createElement(V.a,{placement:Object(j.i)()?"topRight":"topLeft",overlayClassName:"CalendarLegendItem__Tooltip",overlay:e.legend.baseOnCurrentKnownAvailability},a.createElement("span",{className:"CalendarLegendItem__Text CalendarLegendItem__Text--Green"},e.legend.pricesAreLowerOnTheseDates))}(e)),e.range.isPriceSurgeAndDrop&&a.createElement(re,{className:"CalendarLegendItem CalendarLegendPriceTrend"},function(e){return e.legend&&a.createElement("span",{className:"CalendarLegendItem__Text--PriceTrendText"},m.StringFormatter.format(1===e.range.searchType?e.range.isThousand?e.legend.averagePricesForCityWithCurrencyInThousand:e.legend.averagePricesForCityWithCurrency:e.range.isThousand?e.legend.averagePricesForPropertyWithCurrencyInThousand:e.legend.averagePricesForPropertyWithCurrency,e.range.currency.currencyCode))}(e)))},ce=a.memo((function(e){return a.createElement(_.a,Object(r.a)({},function(e){var t=e.cms&&e.cms.occupancy||{},n=e.occupancy.children.value,o=a.createElement("span",{"data-selenium":"adultValue","data-value":e.occupancy.adults.value},Object(M.a)(e.occupancy.adults.value,t.adult,t.adults)),i=a.createElement(a.Fragment,null,", ",a.createElement("span",{"data-selenium":"childValue","data-value":n},Object(M.a)(n,t.child,t.children))),c=n>0?i:null,s=o?a.createElement(a.Fragment,null,o,c):"",l=e.occupancy&&e.occupancy.rooms&&e.occupancy.rooms.value,u={title:s,modifiers:"occupancy",desc:e.activeTab===R.p.Homes?null:Object(M.a)(l,t.room,t.rooms)||"",descDataSelenium:"roomValue",children:a.createElement(L.a,{iconClass:"ficon ficon-12 ficon-thin-arrow-down"}),dataSelenium:"occupancyBox",dataValue:""+l};return Object(r.a)(Object(r.a)({},oe(H.i.SegmentsOccupancy,e)),{modifiers:["occupancy",e.popupType===H.i.SegmentsOccupancy?"focused":""],icon:"ficon-20 ficon-travelers",children:a.createElement(F.a,Object(r.a)({},u)),trackingId:e.occupancyDataElementName})}(e)))})),se=n(1993),le=n(2011),ue=n(4),de=n(1628),pe=n(403),he=function(e,t){switch(e){case H.i.Autocomplete:return H.i.CheckIn;case H.i.CheckIn:return H.i.CheckOut;case H.i.CheckOut:if(!t.isMultiHotels)return H.i.SegmentsOccupancy;break;default:return null}return null},ge=function(e){var t=ue.a.features.occupancyOptions?ue.a.features.occupancyOptions.showOccupancyOptions:null,n=ue.a.pageConfig.pageTypeId===H.g.Country||ue.a.pageConfig.pageTypeId===H.g.City||ue.a.pageConfig.pageTypeId===H.g.Area||ue.a.pageConfig.pageTypeId===H.g.State||ue.a.pageConfig.pageTypeId===H.g.Landmark||ue.a.pageConfig.pageTypeId===H.g.Region;switch(e.popupType){case H.i.Autocomplete:return"Autocomplete";case H.i.CheckIn:return Object(b.c)("RangePicker","checkIn");case H.i.CheckOut:return Object(b.c)("RangePicker","checkOut");case H.i.SegmentsOccupancy:var r=e.occupancy.travellerType;return n||t||null==t?Object(b.c)("SegmentsOccupancy",{big:r===H.n.Group||r===H.n.Families||r===H.n.Business,small:r===H.n.Couples||r===H.n.Solo||r===H.n.TravelAgent}):Object(b.c)("SegmentsOccupancy","small");default:return null}},me=function(e,t){switch(e){case H.i.Autocomplete:return"autocompletePanel";case H.i.CheckIn:return"rangePickerCheckIn";case H.i.CheckOut:return"rangePickerCheckOut";case H.i.SegmentsOccupancy:return"occupancyPicker";default:return null}},fe=function(e){switch(e){case H.i.Autocomplete:return"search-box-autocomplete";case H.i.CheckIn:return"search-box-check-in";case H.i.CheckOut:return"search-box-check-out";default:return null}},be=function(e){switch(e){case R.p.AllRooms:return"AllRooms";case R.p.LongStay:return"LongStay";case R.p.Hotels:return"Hotels";case R.p.Homes:return"Homes";case R.p.Family:return"Family";default:return""}},ve=function(e,t){return null===e?t:null===t?e:void 0},ye=n(130),Oe=a.lazy((function(){return Promise.resolve().then(n.bind(null,638))})),Se=function(e){return function(t){void 0===t&&(t=null),e.onPopupDidMountUpdate(),fe(e.popupType)!==t&&(e.popupType===H.i.CheckIn?ye.c.track({action_element_name:"search-box-check-in",action_type:"reveal",event_version:1}):e.popupType===H.i.CheckOut&&ye.c.track({action_element_name:"search-box-check-out",action_type:"reveal",event_version:1}))}},je=function(e){if(e.disabled)return a.createElement("div",null);var t={className:ge(e),ref:Object(g.a)(e.refPopup)?e.refPopup:null,onComponentDidMount:ue.a.bVariants.isB("PFE-8836")?Se(e):e.onPopupDidMountUpdate,dataSelenium:me(e.popupType,e.activeTab),dataElementName:fe(e.popupType)},n=function(e,t,n,o){switch(void 0===o&&(o=!1),e){case H.i.Autocomplete:var i=t,c=Object(r.a)(Object(r.a)({},i),{experiments:Object(r.a)({},i.experiments),key:"auto-complete-list"});return i.bltBannerProps?[a.createElement(ne,Object(r.a)({key:c.key},c)),a.createElement(U.BltBanner,Object(r.a)({key:"bln-banner"},i.bltBannerProps,{bannerTrackingName:q.a.BANNER_ON_SEARCHBOX,termsConditionsLinkTrackingName:q.a.BANNER_TERMS_AND_CONDITION_ON_SEARCHBOX}))]:a.createElement(ne,Object(r.a)({},c));case H.i.CheckIn:case H.i.CheckOut:var s=t,l=s.range,u=s.summary,d=s.dateDefinition,p=e===H.i.CheckIn?{pickerKey:"checkInDatePicker",promptKey:"checkInDatePrompt",holidayKey:"checkInHolidayDisplay"}:{pickerKey:"checkOutDatePicker",promptKey:"checkOutDatePrompt",holidayKey:"checkOutHolidayDisplay"},h=p.pickerKey,g=p.promptKey,m=p.holidayKey,f=l&&l.cheaperPriceInformation,b=l&&l.isPriceSurgeAndDrop,v=f||b,y=v&&ie(t),O=!v&&o?a.createElement(Z,Object(r.a)({},d,{key:"date-definition"})):null;return[a.createElement(Q,Object(r.a)({key:g},u)),b?a.createElement(ae,Object(r.a)({key:h},l)):a.createElement($,Object(r.a)({key:h},l)),O,y,a.createElement(J,Object(r.a)({key:m},u))];case H.i.SegmentsOccupancy:var S=t;return a.createElement(te,Object(r.a)({},S));default:return null}}(e.popupType,e.popupData,e.experiments,e.showHeavyDemand);return e.popupData?a.createElement(a.Suspense,{fallback:null},a.createElement(Oe,Object(r.a)({key:e.animationKey},t),n)):a.createElement("div",null)},Ce=a.memo((function(e){return a.createElement(se.a,{className:Object(b.a)(Object(b.c)("Popup__container",e.animationName))},a.createElement(le.a,{classNames:"animate",timeout:{enter:200,exit:200}},je(e)))})),Ie=n(77),xe=n(104),Te=function(e,t,n){return[e?"checkIn":"checkOut",t?"":"highlight",e&&n===H.i.CheckIn||!e&&n===H.i.CheckOut?"focused":""]},ke=function(e,t,n){return e?t?n.checkInText:n.checkOutText:null},Pe=function(e,t,n,r){if(!e){var a=n&&n.checkInText||"Check-In",o=n&&n.checkOutText||"Check-Out";return t?a:o}return r?Object(G.a)(e,n.shortDayNames,n.monthNames,n.shortFormat):Object(Ie.c)(n.format,e,n.monthNames)},Ee=function(e,t,n){var o=function(e,t,n){var a=e.checkIn&&e.checkOut?Object(G.f)(e.checkIn,e.checkOut):null,o=t?e.checkIn:e.checkOut,i=t?H.i.CheckIn:H.i.CheckOut;return Object(r.a)(Object(r.a)({},oe(i,e)),{isShowLos:n,modifiers:Te(t,o,e.popupType),icon:"ficon-20 ficon-"+(t?"check-in":"check-out"),lengthOfStay:a,trackingId:t?e.checkInDataElementName:e.checkOutDataElementName})}(e,t,n),i=function(e,t,n,r,a){var o=function(e){return e||{format:"",shortFormat:"",monthNames:["","","","","","","","","","","",""],dayNames:["","","","","","",""],shortDayNames:["","","","","","",""]}}(t);return{title:Pe(e,r,o,a),modifiers:Te(r,e,n),desc:e&&!a?Object(xe.c)(o.dayNames,e):null,dataSelenium:r?"checkInBox":"checkOutBox",dataDate:Object(Ie.f)(e,"-"),titleDataSelenium:r?"checkInText":"checkOutText",header:ke(a,r,o)}}(t?e.checkIn:e.checkOut,e.cms&&e.cms.dates,e.popupType,t,e.displayheaderText);return Object(r.a)(Object(r.a)({},o),{children:a.createElement(F.a,Object(r.a)({},i))})},De=function(e){var t=e.text,n=e.dataElementName;return a.createElement("span",{"data-element-name":n},t)},Ne=function(e){var t=e.isShowLos,n=e.showLosError,o=e.losErrorText,i=e.losTooltipDataElementName,c=e.isVertical?"topLeft":"bottomLeft",s=e.isVertical?{offset:[30,0]}:{offset:[0,0]};return a.createElement(V.a,{overlay:a.createElement(De,{text:o,dataElementName:i}),overlayClassName:"LosPopover",tooltipType:"warning",placement:c,align:s,visible:n},a.createElement(_.a,Object(r.a)({},Ee(e,!1,t))))},Ae=a.memo((function(e){return a.createElement(a.Fragment,null,a.createElement(a.Suspense,{fallback:null},a.createElement(_.a,Object(r.a)({},Ee(e,!0,!1)))),a.createElement(a.Suspense,{fallback:null},a.createElement(Ne,Object(r.a)({},e))))})),we=n(1586),Be=a.memo((function(e){return a.createElement(_.a,Object(r.a)({},function(e){var t=e.searchTextDescription?a.createElement(F.a,{modifiers:"searchText",title:e.searchText,desc:e.displayheaderText?null:e.searchTextDescription,titleDataSelenium:"textInput",descDataSelenium:"SearchBoxTextDescriptionDesc",dataSelenium:"autocompleteBox",header:e.displayheaderText?e.cms.textSearchInputHeader:null}):a.createElement(we.a,{modifiers:"autocomplete",placeholder:e.cms.placeholder,value:e.searchText,onChange:e.onInputChange,dataSelenium:"textInput",sendCriticalMark:e.sendCriticalMark,disabled:e.disableTextBox||e.disabled,titleText:e.displayheaderText?e.cms.textSearchInputHeader:null,showEmptySearchError:e.showEmptySearchError});return Object(r.a)(Object(r.a)({},oe(H.i.Autocomplete,e)),{modifiers:["autocomplete",e.popupType===H.i.Autocomplete?"focused":"",e.disableTextBox||e.disabled?"disabled":""],icon:e.textSearchIcon,children:t,dataSelenium:"autocomplete-box",trackingId:e.autoCompleteDataElementName})}(e)))})),_e=(a.lazy(Object(A.a)((function(){return Promise.resolve().then(n.bind(null,638))}))),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setRef=function(e){return t.searchBox=e},t.setContainerRef=function(e){return t.container=e},t.handleOnContainerClick=function(e){t.props.onContainerClicked&&e&&e.target===t.container&&t.props.onContainerClicked()},t}return Object(r.c)(t,e),t.prototype.render=function(){var e,t,n=this,o=Object(b.c)("Searchbox",this.props.isVertical?"vertical":"horizontal"),i=this.props.hideOccupancyTab?null:a.createElement(a.Suspense,{fallback:null},a.createElement(ce,Object(r.a)({},this.props))),c=function(e){return n.props.hideOccupancyTab?a.createElement("div",{className:"Searchbox__InputWrapper"},e):e};return a.createElement("div",{className:Object(b.a)(o,this.props.searchBoxAnimationClass?this.props.searchBoxAnimationClass:""),"data-selenium":"searchBox",ref:this.setRef},a.createElement("div",{className:"Searchbox__wrapper",onClick:this.handleOnContainerClick,ref:this.setContainerRef},function(){if(n.props.hideAutocompleteTextBox)return null;var e=a.createElement(a.Suspense,{fallback:null},a.createElement(Be,Object(r.a)({},n.props)));return c(e)}(),(t=a.createElement(Ae,Object(r.a)({},n.props)),c(t)),i,this.props.searchButton&&!this.props.searchButton.modifiers&&a.createElement(B,Object(r.a)({},this.props.searchButton)),!this.props.hideOccupancyTab&&a.createElement(Ce,Object(r.a)({},this.props))),(null===(e=this.props.searchButton)||void 0===e?void 0:e.modifiers)&&a.createElement(B,Object(r.a)({},this.props.searchButton)),this.props.hideOccupancyTab&&a.createElement(Ce,Object(r.a)({},this.props)))},t.displayName="SearchBox",t}(a.PureComponent)),Re=n(1614),Fe=n(1674),Le=n(1618),Me=n(39),He=n(89),Ve=function(e){var t=e.propertyProductIndex,n=e.cms,r=e.productType;if(0!==t||r===He.c.NormalProperty)return null;var o=r===He.c.FlightPlusHotel?null==n?void 0:n.hotelText:m.StringFormatter.format(null==n?void 0:n.hotelIndexText,1);return a.createElement(f.d,{textAlign:Object(j.i)()?"right":"left",mb:"M",display:"inline-flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",minWidth:"100%"},a.createElement(Me.j,{variant:"heading5",style:{fontWeight:"bold"}},o))},Ue=n(229),qe=n(300),Ge=n(169),Qe=n(32),Ke=n(635),We=n(351),Xe=n(665),ze=n(138),Ye=n(531),Je={accept:"application/json, text/javascript, */*; q=0.01"},$e=function(e,t,n,r,a,o){Object(Ye.c)().then((function(i){var c=i&&i.searchHistoryViewModel||null;if(function(e,t,n){X=at(e,t,n)}(et(c&&c.recentSearchList_AllTypes||null,r),t,r),t.page.pageTypeId===H.g.Home&&Object(u.a)(e)&&o!==R.p.Packages){var s=tt(c&&c.latestSearch||null,c&&c.latestSearchUrl||null),l=s&&s.recentSearch&&s.recentSearch.occupancy?Ze(s,s.recentSearch.occupancy):s;n(l),a(!1)}}))},Ze=function(e,t){return Object(r.a)(Object(r.a)({},e),{recentSearch:Object(r.a)(Object(r.a)({},e.recentSearch),{occupancy:Object(r.a)(Object(r.a)({},e.recentSearch.occupancy),{children:t?t.children:e.recentSearch.occupancy.children,childAges:t?t.childAges:e.recentSearch.occupancy.childAges,travellerType:Object(Ge.a)(e.recentSearch.occupancy.travellerType)?Xe.a.mapTravellerType(e.recentSearch.occupancy.rooms,e.recentSearch.occupancy.adults,e.recentSearch.occupancy.children,e.recentSearch.occupancy.travellerType):e.recentSearch.occupancy.travellerType})})})},et=function(e,t){return e?e.map((function(e){return{location:{city:e.resultText,country:e.description},data:{checkIn:e.checkIn,checkOut:e.checkOut,occupancy:{rooms:e.rooms,adults:e.adults,children:e.children,childAges:e.childAges,travellerType:Xe.a.mapTravellerType(e.rooms,e.adults,e.children,null)},url:e.searchUrl,objectId:e.objectId}}})):null},tt=function(e,t){return e?{url:t,text:e.text,recentSearch:{checkIn:e.checkIn,checkOut:e.checkOut,occupancy:{rooms:e.rooms,adults:e.adults,children:e.children,childAges:e.childAges,travellerType:e.travellerType}},objectId:e.objectID,objectTypeId:e.searchType}:null},nt=function(e,t){return!Object(u.a)(e)||!Object(u.a)(t)&&(1===Object(d.a)(t)?t[0].type!==H.m.Default:Object(d.a)(t)>1)},rt=function(e,t,n){return t.form.searchText[t.propertyProductIndex]?ot(e,t,n):it(e)},at=function(e,t,n){if(e)return Object(qe.a)(e,t.autoComplete.recentSearchAmount).map((function(n,a){var o=n.location.name?{normal:"{$name}, {$city}, {$country}"}:{normal:"{$city}, {$country}"},i=n.data.occupancy.children,c=n.data.occupancy.childAges;return Object(r.a)(Object(r.a)({},n),{format:o,data:Object(r.a)(Object(r.a)({},n.data),{occupancy:Object(r.a)(Object(r.a)({},n.data?n.data.occupancy:null),{children:i,childAges:c})}),dataText:n.location.name||n.location.city,value:{url:n.data.url,text:n.location.name?n.location.name:n.location.city,objectId:n.data.objectId,recentSearch:Object(r.a)(Object(r.a)({},n.data),{occupancy:Object(r.a)(Object(r.a)({},n.data?n.data.occupancy:null),{children:i,childAges:c})})},type:H.m.RecentSearch,icon:"ficon-solid-clock",modifiers:{underline:a===Math.min(t.autoComplete.recentSearchAmount,e.length)-1}})}))},ot=function(e,t,n){var r,a=((null===(r=t.form.searchText)||void 0===r?void 0:r.length)>t.propertyProductIndex&&t.form.searchText[t.propertyProductIndex]||"").substr(0,1e3),o={searchText:a,isRetry:n,guid:W=W||Object(We.a)(),origin:e.page.origin,cid:e.page.cid,pageTypeId:e.page.pageTypeId,logtime:(new Date).toString(),logTypeId:1,isHotelLandSearch:!0,showTestHotel:!(!Object(C.m)().includes("showTestHotel=yes")&&!Object(C.m)().includes("showTestHotel=true"))||void 0};return Qe.a.sendJsonTyped("GET",Object(ze.c)(e.autoComplete.autoCompleteUrl,o),null,{optionalHeaders:Je,cacheKey:"getSuggestions"+a+(n?"_retry":"")}).then((function(e){return ut(e)}),(function(){return null}))},it=function(e){return Object(Ye.c)().then((function(t){return ct(t&&t.recommendedCitiesPanelViewModel&&t.recommendedCitiesPanelViewModel.items||null,e)}),(function(){var t={origin:e.page.origin,languageId:e.page.languageId,cultureCode:e.page.currencyCode,limit:e.autoComplete.topDestination.amount};return Qe.a.sendJsonTyped("POST",e.autoComplete.topDestination.urlFallback,t,{optionalHeaders:Je,cacheKey:"getTopdestinations_db"}).then((function(e){return st(e&&e.topDestinations)}))}))},ct=function(e,t){return e?{data:e.map((function(e){var t=Object(Ke.a)(e.cityCountryFormat,"{$city}","{$country}");return{value:{url:e.link,text:e.cityName,objectId:e.cityId},type:H.m.Info,location:{city:e.cityName,country:e.countryName},dataText:e.mainDescription,format:{normal:t},data:e.secondaryDescription&&e.secondaryDescription.split(" ")[0],icon:"ficon-most-popular-destinations"}}))}:null},st=function(e){return e?{data:e.map((function(e){return{value:{url:e.searchUrl,text:e.cityName},type:H.m.Info,location:{city:e.cityName,country:e.countryName},dataText:e.mainDescription,data:e.formattedNoOfHotels,icon:"ficon-most-popular-destinations"}}))}:null},lt={type:H.m.Google,value:{url:"googleLabelKey",text:"googleLabel"}},ut=function(e){return e&&e.ViewModelList?{data:e.ViewModelList.reduce((function(e,t){return t.IsDisplayGoogleLabel?(e.push(lt),e):t.IsDefault?(e.push({type:H.m.Default,value:{url:t.ResultUrl,text:t.ResultText,pageTypeId:t.PageTypeId,addressId:t.AddressId,objectId:t.ObjectId,objectTypeId:t.ObjectTypeId,cityId:t.CityId,countryId:t.CountryId,isPopular:t.IsPopular,isBestSeller:t.IsBestSeller,isAddress:t.IsAddress,isSubSuggestion:t.IsSubSuggestion,airportCodes:t.AirportCodes,searchType:t.SearchType}}),e):(t.IsTitle||(t.IsHotel||t.IsRadius?e.push({value:{url:t.ResultUrl,text:t.Name,pageTypeId:t.PageTypeId,addressId:t.AddressId,objectId:t.ObjectId,cityId:t.CityId,countryId:t.CountryId,isPopular:t.IsPopular,isBestSeller:t.IsBestSeller,isAddress:t.IsAddress,isSubSuggestion:t.IsSubSuggestion,airportCodes:t.AirportCodes,searchType:t.SearchType},type:H.m.Location,location:{name:t.ResultText},dataText:t.Name,icon:"ficon-"+t.IconCssClass,displayNames:t.DisplayNames&&{Name:t.DisplayNames.Name,GeoHierarchyName:t.DisplayNames.GeoHierarchyName,CategoryName:t.DisplayNames.CategoryName}}):e.push({value:{url:t.ResultUrl,text:t.Name,pageTypeId:t.PageTypeId,objectId:t.ObjectId,objectTypeId:t.ObjectTypeId,cityId:t.CityId,countryId:t.CountryId,isPopular:t.IsPopular,isBestSeller:t.IsBestSeller,isAddress:t.IsAddress,isSubSuggestion:t.IsSubSuggestion,searchType:t.SearchType,airportCodes:t.AirportCodes},type:H.m.Info,location:{city:t.ResultText},dataText:t.Name,data:t.NoOfHotels,icon:"ficon-"+t.IconCssClass,displayNames:t.DisplayNames&&{Name:t.DisplayNames.Name,GeoHierarchyName:t.DisplayNames.GeoHierarchyName,CategoryName:t.DisplayNames.CategoryName}})),e)}),[]),loggedData:e.SuggestionList,derivedLanguageID:e.DerivedLanguageID,showNumberOfProperties:e.ShowNumberOfProperties,isTimeout:e.IsTimeout}:null},dt=n(437),pt=n(1600),ht=function(e,t,n){void 0===Object(pt.a)()||Object(dt.a)(Object(pt.a)(),"maps.places")?gt(e,t,n):ft(t,n)},gt=function(e,t,n){var r=Object(j.f)().createElement("script");r.type="text/javascript",r.onload=mt.bind(undefined,t,n),r.src=e,Object(j.f)().getElementsByTagName("head")[0].appendChild(r)},mt=function(e,t){var n=Object(j.f)().createElement("div");n.setAttribute("id","googleplace"),n.setAttribute("style","display: none"),Object(j.f)().body.appendChild(n),z=new(Object(pt.a)().maps.places.PlacesService)(n),ft(e,t)},ft=function(e,t){if(!Object(u.a)(e)&&!Object(Ge.a)(z)){var n={placeId:e};z.getDetails(n,(function(e,n){t({lat:n===Object(pt.a)().maps.places.PlacesServiceStatus.OK?e.geometry.location.lat():0,lng:n===Object(pt.a)().maps.places.PlacesServiceStatus.OK?e.geometry.location.lng():0})}))}},bt=n(527),vt=n(168),yt=n(1714),Ot=n(1715),St=n(1716),jt=n(1717),Ct=function(){return(new Ot.a).withPriceTrendSearchDetails((new St.a).withCityId().withPropertyId().withPrices((new jt.a).withCheckIn().withPrice().withPriceTrendType()))},It=n(226),xt=n(416),Tt=function(e){switch(e){case 1:return xt.a.CitySearch;case 4:return xt.a.PropertiesSearch;default:return xt.a.CitySearch}},kt=function(e){switch(e){case 1:return It.a.Exclusive;case 2:return It.a.AllInclusive;default:return It.a.Exclusive}},Pt=function(e){return{cityId:e.cityId,propertyId:e.propertyId||void 0,startDate:e.startDate,endDate:e.endDate,los:1,occ:e.occ,isUserLoggedIn:e.isUserLoggedIn,suggestedPrice:kt(e.suggestedPrice),searchType:Tt(e.searchType),currency:e.currency,supportedRateChannelIds:e.supportedRateChannelIds}},Et=function(e){var t=Ct(),n=Pt(e);return new yt.a(t,n)},Dt=n(302),Nt=function(){return function(e){return Object(r.b)(void 0,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,Dt.a.query(e,"/search")];case 1:if(!(t=n.sent())||!t.priceTrendSearch)throw new Error("No price trend data received from GQL. response: ["+t+"]");return[2,t.priceTrendSearch]}}))}))}},At=function(e){return function(e){return Object(r.b)(void 0,void 0,Promise,(function(){var t;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(!e)return[2,Promise.resolve(null)];n.label=1;case 1:return n.trys.push([1,3,,4]),t=Et(e),[4,Nt()(t)];case 2:return[2,n.sent()];case 3:return n.sent(),[2,Promise.resolve(null)];case 4:return[2]}}))}))}(e).then((function(e){return void 0===(t=function(e){return Object(d.a)(null==e?void 0:e.PriceTrendSearchDetails)&&0!==Object(d.a)(e.PriceTrendSearchDetails.prices)?e.PriceTrendSearchDetails.prices.map((function(e){return{date:e.checkIn,price:e.price,priceTrendType:e.priceTrendType}})):[]}(e))&&(t=[]),t.reduce((function(e,t){return e[Object(Ie.e)(t.date)]=t,e}),{});var t}),(function(){return null}))},wt=n(295),Bt=n(1700),_t=n(1666),Rt=n(1590),Ft=n(1639),Lt=n(170),Mt=n(14),Ht=n(642),Vt=n(159),Ut=n(54),qt=n(45),Gt=n(653),Qt=n(406),Kt=function(e,t,n,a){return function(o){if(o.ui.isSticky===e)return o;var i=t?dn(o,a):o,c=n?zt(i):i;return Object(r.a)(Object(r.a)({},c),{ui:Object(r.a)(Object(r.a)({},c.ui),{isSticky:e,previousPopup:o.ui.popup,isFirstLoad:!1})})}},Wt=function(e){return e!==H.i.None&&null!==e},Xt=function(e,t,n){return function(a,o){var i,c,s=un(t,a,Object(r.a)(Object(r.a)({},o),{config:e}),n);switch(qt.a.isMultiHotelPackagesFeatureEnabled()&&!Wt(null===(i=a.ui)||void 0===i?void 0:i.popup)&&Wt(null===(c=s.ui)||void 0===c?void 0:c.popup)&&o.events.onInputChange("currentFocus",o.propertyProductIndex),t){case H.i.Autocomplete:return Object(r.a)(Object(r.a)({},s),{ui:Object(r.a)(Object(r.a)({},s.ui),{searchTextDesc:null,previousPopup:a.ui.popup})});default:return s}}},zt=function(e){return Object(r.a)(Object(r.a)({},e),{ui:Object(r.a)(Object(r.a)({},e.ui),{backdropClass:!1})})},Yt=function(e){return function(t){return{ui:Object(r.a)(Object(r.a)({},t.ui),{isLoading:e,popup:null}),popupData:null}}},Jt=function(e){return function(t){return{ui:Object(r.a)(Object(r.a)({},t.ui),{initialMonth:Object(vt.b)(t.ui.initialMonth,e),previousPopup:t.ui.popup})}}},$t=function(e,t,n){return function(a,o){if(!t)return a;var i=t.recentSearch&&n?nn(e,t.recentSearch,a,o):un(H.i.CheckIn,a,o);return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},i),{applyRecentSearchToSearchBox:n}),cn(t.text,o)),{baseSearchUrl:t.url,suggestionPageTypeId:t.pageTypeId,countryId:t.countryId})}},Zt=function(e,t,n){return function(a,o){var i=en(e,n.recentSearch,a,o);return Object(r.a)(Object(r.a)({},cn(n.text,o)),{baseSearchUrl:n.url,ui:Object(r.a)(Object(r.a)(Object(r.a)({},a.ui),i),{activeSuggestion:t,previousPopup:a.ui.popup}),suggestionPageTypeId:n.pageTypeId})}},en=function(e,t,n,r){if(!t)return{displayCheckIn:null,displayCheckOut:null,displayOccupancy:null};var a=tn(e,t,n,r);return{displayCheckIn:a.checkIn[r.propertyProductIndex],displayCheckOut:a.checkOut[r.propertyProductIndex],displayOccupancy:a.occupancy[r.propertyProductIndex]}},tn=function(e,t,n,a){var o=Object(Ie.a)(t.checkIn),i=Object(Ie.a)(t.checkOut),c=sn(n,a,e,H.b.CheckIn,o),s=Object(r.a)(Object(r.a)({},a),{form:Object(r.a)(Object(r.a)({},a.form),{checkIn:c.checkIn})}),l=sn(Object(r.a)(Object(r.a)({},n),c),s,e,H.b.CheckOut,i);return Object(r.a)(Object(r.a)(Object(r.a)({},c),l),pn(n,a,e,t.occupancy))},nn=function(e,t,n,a){var o,i,c=a.form.occupancy[a.propertyProductIndex].map((function(e){return e.travellerType===H.n.Group||e.travellerType===H.n.Families?Object(r.a)(Object(r.a)({},t.occupancy),{checkbox:e.checkbox,isActive:e.isActive,travellerType:e.travellerType}):e.travellerType===H.n.Business?Object(r.a)(Object(r.a)({},t.occupancy),{checkbox:e.checkbox,children:0,childAges:[],isActive:e.isActive,travellerType:e.travellerType}):e})),s=Object(r.a)(Object(r.a)({},a),{form:Object(r.a)(Object(r.a)({},a.form),{occupancy:Object(Qt.c)(a.propertyProductIndex,c,a.form.occupancy)})}),l=tn(e,t,Object(r.a)(Object(r.a)({},n),{ui:Object(r.a)(Object(r.a)({},n.ui),{popup:null,initialMonth:n.ui.initialMonth})}),s);return Object(Qt.f)(a.events.onInputChange,a.propertyProductIndex,null===(o=l.checkIn)||void 0===o?void 0:o[a.propertyProductIndex],a.form.checkIn),Object(Qt.g)(a.events.onInputChange,a.propertyProductIndex,null===(i=l.checkOut)||void 0===i?void 0:i[a.propertyProductIndex],a.form.checkOut),Object(Qt.i)(a.events.onInputChange,a.propertyProductIndex,l.occupancy,a.form.occupancy),Object(r.a)(Object(r.a)({},un(null,n,s)),l)},rn=function(e,t){return{ui:Object(r.a)(Object(r.a)({},t.ui),{hoveredDate:e,previousPopup:t.ui.popup})}},an=function(e,t,n){return function(a,o){if((a.ui.popup===H.i.CheckIn||a.ui.popup===H.i.CheckOut)&&n){var i=Object(r.a)(Object(r.a)({},a),rn(e,a));return{ui:i.ui,popupData:Object(Gt.c)(a.ui.popup,i,Object(r.a)(Object(r.a)({},o),{config:t}))}}return rn(e,a)}},on=function(e,t){return function(n,a){return Object(r.a)(Object(r.a)({},pn(n,a,e,t)),{ui:Object(r.a)(Object(r.a)({},n.ui),{previousPopup:n.ui.popup})})}},cn=function(e,t){return Object(Qt.j)(t.events.onInputChange,t.propertyProductIndex,e,t.form.searchText),{selectedProperty:null}},sn=function(e,t,n,a,o){var i,c,s;switch(a){case H.b.CheckIn:if(!Object(vt.e)(n.calendar.checkInRange,new Date,o))return e;var l=Object(vt.e)(n.calendar.checkOutRange,o,t.form.checkOut[t.propertyProductIndex])?t.form.checkOut:Object(Qt.a)(t.propertyProductIndex,Object(vt.a)(o,n.calendar.defaultLos||1),t.form.checkOut),u=o?Object(Qt.a)(t.propertyProductIndex,o,t.form.checkIn):t.form.checkIn;s=Object(r.a)(Object(r.a)({},t),{form:Object(r.a)(Object(r.a)({},t.form),{checkIn:u,checkOut:l})}),c=Object(r.a)(Object(r.a)({checkIn:u,checkOut:l},s.form.checkIn[t.propertyProductIndex]&&{previousCheckIn:t.form.checkIn[t.propertyProductIndex]}),s.form.checkOut[t.propertyProductIndex]&&{previousCheckOut:t.form.checkOut[t.propertyProductIndex]});break;case H.b.CheckOut:if(!Object(vt.e)(n.calendar.checkOutRange,null===(i=t.form.checkIn)||void 0===i?void 0:i[t.propertyProductIndex],o))return e;l=Object(Qt.a)(t.propertyProductIndex,o,t.form.checkOut);s=Object(r.a)(Object(r.a)({},t),{form:Object(r.a)(Object(r.a)({},t.form),{checkOut:l})});var d={checkOut:l,previousCheckIn:null,previousCheckOut:null};c=t.isPackagePage||t.config.isMultiHotels?Object(r.a)(Object(r.a)({},d),{checkIn:t.form.checkIn}):d,(t.isPackagePage||t.config.isMultiHotels)&&t.events.onActivePopupChange&&t.events.onActivePopupChange(H.l.None);break;default:return e}return Object(r.a)(Object(r.a)({},function(e,t,n,a,o){var i=null;a===H.b.CheckIn&&e.ui.popup===H.i.CheckIn?i=H.i.CheckOut:a===H.b.CheckOut&&e.ui.popup===H.i.CheckOut&&(i=t.isPackagePage||n.isMultiHotels?H.i.None:H.i.SegmentsOccupancy);var c=Object(r.a)(Object(r.a)(Object(r.a)({},e.ui),a===H.b.CheckIn&&{emptyCheckIn:!1}),a===H.b.CheckOut&&{emptyCheckOut:!1});return i?Xt(n,i)(Object(r.a)(Object(r.a)({},e),{ui:Object(r.a)(Object(r.a)({},c),{initialMonth:Object(Gt.f)(e.ui.popup,e,o,t),hoveredDate:null})}),t):{ui:c}}(Object(r.a)(Object(r.a)({},e),c),s,n,a,o)),c)},ln=function(e){var t=e&&Object(Gt.a)(e.data)||null;return t&&t.value?{baseSearchUrl:t.value.url,suggestionPageTypeId:t.value.pageTypeId,baseAddressId:t.value.addressId}:null},un=function(e,t,n,a){if(null===e||e===H.i.None)return dn(t,n,a);var o=e===H.i.Autocomplete&&a||null,i=o&&ln(o)||null,c=Object(Gt.b)(e,t,n),s=Object(Gt.c)(e,t,n,e===H.i.CheckIn||e===H.i.CheckOut?Object(r.a)(Object(r.a)({},a),{initialMonth:c}):a),l=Object(Gt.d)(e,t,n),u=zt(t);return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},t),l),u),{popupData:s}),i),{ui:Object(r.a)(Object(r.a)(Object(r.a)({},t.ui),l.ui),{initialMonth:c,popup:e,previousPopup:t.ui.popup,backdropClass:!0,activeSuggestion:null})})},dn=function(e,t,n){var a=n||null,o=a&&ln(a)||null;return Object(r.a)(Object(r.a)({popupData:null},o),{ui:Object(r.a)(Object(r.a)({},e.ui),{initialMonth:t.form.checkIn[t.propertyProductIndex],popup:null,previousPopup:e.ui.popup,backdropClass:!1,hoveredDate:null})})},pn=function(e,t,n,a){var o,i=Object(Gt.e)(t,n,null===(o=t.form.occupancy)||void 0===o?void 0:o[t.propertyProductIndex],a);return Object(Qt.i)(t.events.onInputChange,t.propertyProductIndex,i,t.form.occupancy),ue.a.isMultiRoomBookingEnabled&&Object(v.c)(v.a.UPDATE_OCCUPANCY,Object(Ut.a)(i,{isActive:!0})),e.ui.popup!==H.i.SegmentsOccupancy?{occupancy:i}:{occupancy:i,popupData:Object(Gt.c)(e.ui.popup,e,Object(r.a)(Object(r.a)({},t),{config:n,form:Object(r.a)(Object(r.a)({},t.form),{occupancy:Object(Qt.c)(t.propertyProductIndex,i,t.form.occupancy)})}))}},hn=function(e,t){var n={ui:Object(r.a)(Object(r.a)({},e.ui),{showDatePickerAlert:!1})};return dn(n,t)},gn=function(e){return function(t,n){return e?Object(r.a)(Object(r.a)({},dn(t,n)),{showErrorModal:!0}):{showErrorModal:!1}}},mn=function(e){return function(t){return Object(r.a)(Object(r.a)({},t),{searchBoxAnimationClass:e})}},fn=(n(1765),n(347)),bn=n(60),vn=n(1680),yn=n(1608),On=n(12),Sn=a.lazy(Object(A.a)((function(){return n.e(7).then(n.bind(null,4081))})));!function(e){e[e.popup=0]="popup",e[e.container=1]="container",e[e.searchBox=2]="searchBox",e[e.filter=3]="filter",e[e.iconBox=4]="iconBox",e[e.suggestion=5]="suggestion"}(Y||(Y={}));var jn=function(e){return e instanceof Date?e:new Date(e)},Cn=function(e){function t(t){var n=e.call(this,t)||this;if(n.inputDelay=200,n.scrollDelay=100,n.iconBox=[],n.suggestion=[],n.animationKey=0,n.ltrUnsupportedTooltipName="long-term-rental-unsupported-tooltip",n.ltrUnsupportedTooltipStickyName="long-term-rental-unsupported-tooltip-sticky",n.asqUnsupportedTooltipName="asq-unsupported-los-tooltip",n.searchActionMessageData={actionId:H.a.Prefilled,derivedLanguageId:-1,suggestionList:[]},n.isHomePageOrMultiHotelBlt=function(){return Object(I.c)(Object(I.b)())||n.isMultiHotelOnBlt()},n.setLastUpdatedCriteria=function(e){In.lastUpdatedCriterion={type:e,time:Date.now()}},n.openCalendarWithDefault=function(e){Object(Qt.j)(n.props.events.onInputChange,n.props.propertyProductIndex,e.hotelName,n.props.form.searchText),n.setState(function(e){return function(t,n){return Object(r.a)(Object(r.a)({},t),{baseSearchUrl:e.locale&&-1===t.baseSearchUrl.indexOf(e.locale)?"/"+e.locale+t.baseSearchUrl:t.baseSearchUrl,cityId:e.cityId,selectedProperty:e.hotelId})}}(e)),n.onIconBoxClick(H.i.CheckIn,e.event)},n.onBackdropModalChanged=function(e){n.isBackDropShow=e},n.setRef=function(e,t){if(null!==t)switch(e){case Y.container:n.node=t;break;case Y.searchBox:n.searchBox=t;break;case Y.popup:n.popup=t;break;case Y.iconBox:n.iconBox&&n.iconBox.push(t);break;case Y.suggestion:n.suggestion&&n.suggestion.push(t)}},n.setSearchBoxRef=n.setRef.bind(n,Y.searchBox),n.setPopupRef=n.setRef.bind(n,Y.popup),n.setNodeRef=n.setRef.bind(n,Y.container),n.setInputRef=n.setRef.bind(n,Y.iconBox),n.setSuggestionRef=function(e,t){n.setRef(Y.suggestion,t)},n.getParentNodeRef=function(){return n.props.backdropRefCallback?n.props.backdropRefCallback():document.body},n.shouldClosePopup=function(e,t,n){return Object(pe.l)(e)&&t&&t.contains&&(!t.contains(n.target)||t===n.target)},n.handleWindowClick=function(e){n.shouldClosePopup(n.state.ui.popup,n.node,e)&&(n.showLosErrorToolTip(!1),n.setState(Xt(n.config,null)),e&&e.preventDefault())},n.handleWindowKeyDown=function(e){n.config.enableTypeAnywhere&&Object(pe.m)(n.isBackDropShow,e,n.state.ui.popup)&&n.setState(function(e){return function(t){return Object(r.a)(Object(r.a)(Object(r.a)({},t),cn("",e)),{ui:Object(r.a)(Object(r.a)({},t.ui),{searchTextDesc:null})})}}(n.props),(function(){return n.onIconBoxClick(H.i.Autocomplete)}))},n.getSearchBoxSticky=function(){if(!(n.node&&n.state.ui&&n.searchBox&&n.searchBox.searchBox))return!1;var e=n.node.children?n.node.children[1]:null,t=n.state.ui.isSticky&&e&&Object(d.a)(n.props.tabs)?-e.clientHeight:0,r=n.state.ui.isSticky?n.node.getBoundingClientRect():n.searchBox.searchBox.getBoundingClientRect();return(n.config.isVertical?r.bottom:r.top)<t},n.handleWindowScroll=Object(i.a)((function(){if(n.state.ui.withoutSticky)n.getSearchBoxSticky()&&n.setState(Xt(n.config,null));else{var e=n.getSearchBoxSticky();n.state.ui.isSticky?e||(n.setState(Kt(e,n.config.isVertical,!1,n.props)),Object(v.c)(v.a.ON_SEARCHBOX_STICKY_CHANGED,!1)):e&&(n.setState(Kt(e,n.config.isVertical,n.config.isVertical,n.props)),Object(v.c)(v.a.ON_SEARCHBOX_STICKY_CHANGED,!0))}n.showLosErrorToolTip(!1)}),n.scrollDelay),n.shouldDisplayCheaperDaysInformation=function(){return n.props.config&&n.props.config.page&&(n.props.config.page.pageTypeId===H.g.Search||n.showCheaperDaysInfoOnHomePage())},n.closePopup=function(e){n.setState(Xt(n.config,null)),e&&e.preventDefault()},n.onPopupDidMountUpdate=Object(c.a)((function(){if(!Object(l.a)(n.state.ui.popup)){var e=n.popup&&n.popup.popup&&n.popup.popup.children&&n.popup.popup.children.item&&n.popup.popup.children.item(0);e&&e.getBoundingClientRect().bottom>window.innerHeight&&e.scrollIntoView(!1)}}),200),n.isMultiHotelSearchBox=function(){return n.props.productType===He.c.MultiHotel&&n.props.propertyProductIndex>0},n.isLastMultiHotelSearchBox=function(){var e,t;return(null===(t=null===(e=n.props.form)||void 0===e?void 0:e.searchText)||void 0===t?void 0:t.length)>1&&n.props.propertyProductIndex===n.props.form.searchText.length-1},n.isMultiHotelOnBlt=function(){var e,t;return Object(Lt.a)(n.props.experiments.packagesEnableMultiHotelOnBlt,null===(t=null===(e=n.props.config)||void 0===e?void 0:e.page)||void 0===t?void 0:t.pageTypeId,n.props.productType)},n.isHomeOrSearchPage=function(){return n.props.config&&n.props.config.page&&(n.props.config.page.pageTypeId===H.g.Home||n.props.config.page.pageTypeId===H.g.Search)},n.isPriceTrendPropsChange=function(e){return!(Object(h.a)(n.props.searchCriteria,e.searchCriteria)&&Object(h.a)(n.props.form,e.form)&&(!n.state.priceTrendQueryParam||n.state.priceTrendQueryParam.currency===ue.a.pageConfig.currencyCode))},n.isPriceTrendParamChange=function(e){var t=n.state.priceTrendQueryParam;return!t||t.cityId!==e.cityId||t.occ!==e.occ||t.suggestedPrice!==e.suggestedPrice||t.propertyId!==e.propertyId||t.searchType!==e.searchType||t.currency!==e.currency},n.onSuggestionChange=function(e){n.shouldDisplayCheaperDaysInformation()&&e&&e.value&&1===e.value.objectTypeId&&e.value.objectId&&n.getCalendarExtras(e.value.objectId,e.dataText),n.props.config&&n.props.config.shouldUpdateHotelSelectedValue&&Object(Qt.h)(n.props.events.onInputChange,n.props.propertyProductIndex,e.value,n.props.form.hotelDestinationSelectedValue)},n.shouldFocusOnSuggestion=function(){return null!==n.state.ui.activeSuggestion&&n.suggestion[n.state.ui.activeSuggestion]},n.renderPaymentLogos=function(){var e={paymentLogos:n.props.paymentLogos};return a.createElement(N,Object(r.a)({},e))},n.updateAutoCompletePopup=function(e,t,a){var o=!1,i=n.state.ui.popup,c=n.props.propertyProductIndex,s=n.props.form.searchText,l=e&&n.props.productType!==He.c.MultiHotel;n.props.form.searchText[c]!==n.props.searchCriteria.searchText&&n.setLastUpdatedCriteria(H.i.Autocomplete),function(e,t,n,a){var o=e||!n.form.searchText[n.propertyProductIndex]?X:null;return rt(t,n,a).then((function(e){return e?Object(r.a)(Object(r.a)({},e),{data:o?Object(Ue.a)(o,e.data):e.data,hasData:nt(o,e.data)}):{data:o,hasData:nt(o,null)}}))}(l,n.config,n.props,t).then((function(e){if(o=!0,n.props.form.searchText===s){if(!e||!e.hasData)return e&&e.isTimeout&&!t?void n.updateAutoCompletePopup(l,!0):(n.searchActionMessageData.suggestionList=[],void n.setState(Xt(n.config,null,e||null)));if(Object(pe.n)(n.state.ui.popup,i)){n.suggestion=[],n.searchActionMessageData.derivedLanguageId=e.derivedLanguageID,n.searchActionMessageData.suggestionList=e.loggedData;var r=n.filterSuggestions(e);r.data&&r.data.length>0?(a?n.setState(Xt(n.config,H.i.None,r),C.q):n.setState(Xt(n.config,H.i.Autocomplete,r)),n.setDefaultSuggestionForPackages(e,s[c])):n.setState(Xt(n.config,null,null))}}})),a||setTimeout((function(){!o&&Object(pe.n)(n.state.ui.popup,i)&&n.setState(Xt(n.config,H.i.Autocomplete,null))}),100)},n.filterSuggestions=function(e){if(!n.props.isPackagePage&&n.props.productType!==He.c.MultiHotel)return e;var t=e&&e.data&&e.data.filter((function(e){var t;return e&&e.type!==H.m.RecentSearch&&n.filterRegionSearchType(null===(t=e.value)||void 0===t?void 0:t.objectTypeId)}));return Object(r.a)(Object(r.a)({},e),{data:t})},n.filterRegionSearchType=function(e){return e!==H.e.Region||n.props.productType===He.c.MultiHotel},n.setDefaultSuggestionForPackages=function(e,t){if(n.props.config&&n.props.config.shouldUpdateHotelSelectedValue){var a=e&&e.data&&e.data.filter((function(e){return e&&e.type!==H.m.RecentSearch&&e.value&&e.value.countryId})),o=a&&a.length>0&&a[0]&&a[0].value,i=o&&Object(r.a)(Object(r.a)({},o),{text:t});i&&Object(Qt.h)(n.props.events.onInputChange,n.props.propertyProductIndex,i,n.props.form.hotelDestinationSelectedValue)}},n.debouncedUpdateAutoCompletePopup=Object(c.a)(n.updateAutoCompletePopup,n.inputDelay),n.onTextChange=function(e){n.setState(function(e){return function(t,n){if(t.ui.popup!==H.i.Autocomplete)return Object(r.a)({},cn(e,n));var a=n.form,o=n.propertyProductIndex,i=Object(Gt.c)(t.ui.popup,t,Object(r.a)(Object(r.a)({},n),{form:Object(r.a)(Object(r.a)({},a),{searchText:Object(Qt.d)(o,e,a.searchText)})}));return Object(r.a)(Object(r.a)({},cn(e,n)),{popupData:i,ui:Object(r.a)(Object(r.a)({},t.ui),{previousPopup:t.ui.popup})})}}(e),(function(){n.searchActionMessageData.actionId=H.a.DirectSearch,n.debouncedUpdateAutoCompletePopup(!1,!1)}))},n.onLoadFinished=function(){n.onCloseAllPopup(),n.setState(Yt(!1))},n.onIconBoxClick=function(e,t){switch(t&&t.stopPropagation(),n.showLosErrorToolTip(!1),e){case H.i.Autocomplete:n.config.autoComplete.disable?n.setState(Xt(n.config,null)):e!==n.state.ui.popup&&n.updateAutoCompletePopup(!n.props.isPackagePage);break;default:n.setState(Xt(n.config,e===n.state.ui.popup?null:e))}n.props.events.onActivePopupChange&&n.props.events.onActivePopupChange(e),n.props.isPackagePage&&n.isHomePageOrMultiHotelBlt()&&Object(C.a)(220,n.node)},n.onCloseAllPopup=function(){n.setState(Xt(n.config,null)),n.props.events.onActivePopupChange&&n.props.events.onActivePopupChange(H.l.None)},n.handleIconBoxKeyDown=function(e,t){switch(t.key){case"Tab":case"Enter":return t.preventDefault(),void(he(e,n.props.config)?n.setState(Xt(n.config,he(e,n.props.config))):"Enter"===t.key&&n.onSubmit());case"ArrowDown":if(e===H.i.Autocomplete&&n.state.ui){t.preventDefault();var r=n.state.popupData;r&&!r.isLoading&&r.suggestions[0]&&n.setState(Zt(n.config,0,r.suggestions[0].value))}}n.props.events.onActivePopupChange&&n.props.events.onActivePopupChange(e)},n.handleSuggestionKeyDown=function(e,t,r){switch(n.setLastUpdatedCriteria(H.i.Autocomplete),r.key){case"ArrowDown":case"ArrowUp":r.preventDefault();var a="ArrowDown"===r.key?e+1:e-1;t[a]&&(n.setState(Zt(n.config,a,t[a].value)),n.onSuggestionChange(t[a]));break;case"Enter":if(r.preventDefault(),t[e]){var o=t[e].value;n.searchActionMessageData.actionId=Object(pe.c)(o&&o.recentSearch,n.props.form.searchText[n.props.propertyProductIndex]),n.setState($t(n.config,o,n.state.applyRecentSearchToSearchBox),(function(){o&&o.recentSearch&&n.onSubmit()})),n.onSuggestionChange(t[e]),n.onInputCallBack()}break;case"Tab":r.preventDefault(),t[e]&&(n.setState(Xt(n.config,H.i.CheckIn)),n.onSuggestionChange(t[e]))}},n.onInputCallBack=function(){var e,t;return(null===(e=n.props.config)||void 0===e?void 0:e.isMultiHotels)&&(null===(t=n.props.config)||void 0===t?void 0:t.prefilledSearchBoxMultiHotel)&&n.props.events.onInputCallBack&&n.props.events.onInputCallBack()},n.handleEmptySearch=function(){var e;n.onIconBoxClick(H.i.Autocomplete,null),n.setState((e=!0,function(t){return Object(r.a)(Object(r.a)({},t),{ui:Object(r.a)(Object(r.a)({},t.ui),{showEmptySearchError:e})})}))},n.onSubmit=function(e){return Object(r.b)(n,void 0,void 0,(function(){var t,n,a,o,i,c,s,l,d,p,h,m,f,b,y,S,j,C,x,T;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(t=this.props,n=t.form,a=t.isSupportUpdateMode,o=t.isReadyForUpdate,i=t.searchCriteria,c=t.events,s=t.disableFormValidation,l=t.propertyProductIndex,d=t.config,p=t.experiments,h=this.state.ui,m=n.checkIn,f=n.checkOut,b=n.occupancy,y=n.searchText,h.isLoading)return[2];if(Object(Bt.b)(this.state,this.props),Object(g.a)(null==c?void 0:c.onBeforeSubmit)&&c.onBeforeSubmit(),!s){if(Object(u.a)(y[l])&&this.props.experiments.openSearchboxEmptySearch&&this.isHomePageOrMultiHotelBlt())return e&&e.stopPropagation(),this.handleEmptySearch(),[2];if((null==y?void 0:y.length)<=l||Object(u.a)(y[l])&&!Object(I.d)(null===(x=null==d?void 0:d.page)||void 0===x?void 0:x.pageTypeId))return this.setState(gn(!0)),[2];if(Object(bt.b)(!0),!Object(Rt.a)(n,l,d,p))return this.onCloseAllPopup(),this.showLosErrorToolTip(!0),[2];this.state.showLosErrorTooltip&&this.showLosErrorToolTip(!1)}return c.onFormSubmit?this.props.isPackageSearch?(c.onFormSubmit(),[2]):[4,c.onFormSubmit()]:[3,2];case 1:if(!(S=r.sent())&&Object(I.d)(null===(T=null==d?void 0:d.page)||void 0===T?void 0:T.pageTypeId)&&this.closePopup(null),!S)return[2];r.label=2;case 2:return this.setState(Yt(!0)),a&&o&&Object(_t.c)(i,this.props)?(this.onCloseAllPopup(),j=Object(wt.a)(b[l]),C={checkIn:m[l],checkOut:f[l],travellerType:j&&j.travellerType?j.travellerType:H.n.None,datelessLanding:!1},Object(v.c)(v.a.ON_SEARCH_CRITERIA_CHANGED,C),p.isMin20221&&i.datelessLanding&&!this.props.isRoomAvailable&&this.doSearch()):this.doSearch(),a&&O.a.send(O.a.create("measurement",{name:"FE.OLSBMODE",measurement:1,tags:{mode:a&&Object(_t.c)(i,this.props)?"update":"search"},count:1})),[2]}}))}))},n.combineUrl=function(e){var t,a,o,i,c,s,l,u,d,p={};if(n.props.config.isMultiHotelsOLSB||n.props.config.isMultiHotels&&qt.a.isValidMultiHotelsSearch()){var h=Object(bn.e)();p=Object(fn.e)(Object(vn.a)(h))}else n.props.config.isMultiHotels&&n.props.selectedProperties&&n.props.selectedProperties.length>0&&(p=Object(fn.e)(n.props.selectedProperties));var g=qt.a.isMultiHotelPackagesFeatureEnabled()&&(null===(o=n.props.config.page)||void 0===o?void 0:o.pageTypeId)!==H.g.Home||n.isMultiHotelOnBlt()?Object(fn.g)():null,m={},f=T.a.isASQTraveller(n.props.config.page.cid),b=(null===(c=null===(i=n.props.form)||void 0===i?void 0:i.hotelDestinationSelectedValue)||void 0===c?void 0:c.length)>n.props.propertyProductIndex?null===(s=n.props.form.hotelDestinationSelectedValue[n.props.propertyProductIndex])||void 0===s?void 0:s.countryId:null,v=T.a.isASQCountry(null===(l=null===ue.a||void 0===ue.a?void 0:ue.a.pageConfig)||void 0===l?void 0:l.pageTypeId,b),y=(null===(u=null===ue.a||void 0===ue.a?void 0:ue.a.pageConfig)||void 0===u?void 0:u.pageTypeId)===H.g.CampaignLanding;!f||v||y||(m.cid=T.a.quarantineFilterCids.allHotel);var O=qt.a.isValidMultiHotelsSearchWithMultiHotelOnHomePageFlow()?((t={})[On.b.MultiHotel.multiHotelFlow]=He.a.multiHotelOnHomePage,t):null,S=k.a.isConnectedTripSearchEnabled(null===(d=n.props.experiments)||void 0===d?void 0:d.connectedTrip)?((a={})[Vt.a.connectedTripQueryString]=Ht.b.ON,a):null,j=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},e),function(e,t){var n=e.config.page;return Object(r.a)(Object(r.a)({},n),Object(de.a)(Object(pe.b)(e,t)))}(n.props,n.state)),p),m),g),O),S);return Object(ze.c)(n.state.baseSearchUrl||n.config.failSafeUrl,j)},n.onSuggestionClick=function(e,t){t&&t.stopPropagation();var r=e&&e.value;r&&(n.searchActionMessageData.actionId=Object(pe.c)(r&&r.recentSearch,n.props.form.searchText[n.props.propertyProductIndex]),n.setLastUpdatedCriteria(H.i.Autocomplete),n.setState($t(n.config,r,n.state.applyRecentSearchToSearchBox),(function(){r.recentSearch&&n.onSubmit(),r.addressId&&ht(n.config.autoComplete.googleSearchUrl,r.addressId,(function(e){var t;n.setState((t=Object(ze.c)(r.url,{latitude:e.lat,longtitude:e.lng}),function(){return{baseSearchUrl:t}}))}))})),n.checkForLocationCriteriaChange(n.props,e),n.onSuggestionChange(e),n.onInputCallBack())},n.onAlertCloseClick=function(){Object(bt.b)(!0),n.setState(hn)},n.onDayMouseEnter=function(e,t){n.setState(an(e,n.config,!(t&&t.disabled)))},n.onDayMouseLeave=function(e,t){n.setState(an(null,n.config,!(t&&t.disabled)))},n.onPreviousClick=function(e){e&&e.stopPropagation(),n.setState(Jt(-1))},n.onNextClick=function(e){e&&e.stopPropagation(),n.setState(Jt(1))},n.onDayClick=function(e,t,r){if(!t||!t.disabled){r&&r.stopPropagation();var a=n.state.ui.popup===H.i.CheckIn?H.b.CheckIn:H.b.CheckOut;n.setLastUpdatedCriteria(n.state.ui.popup),n.setState(function(e,t,n){return function(r,a){var o,i,c=sn(r,a,e,t,n);return Object(Qt.f)(a.events.onInputChange,a.propertyProductIndex,null===(o=null==c?void 0:c.checkIn)||void 0===o?void 0:o[a.propertyProductIndex],a.form.checkIn),Object(Qt.g)(a.events.onInputChange,a.propertyProductIndex,null===(i=null==c?void 0:c.checkOut)||void 0===i?void 0:i[a.propertyProductIndex],a.form.checkOut),c}}(n.config,a,e))}},n.onOccupancyChange=function(e,t){n.setLastUpdatedCriteria(H.i.Occupancy),n.setState(on(n.config,Object(wt.k)(e,t)))},n.onChildAgesChange=function(e,t){var a,o,i;n.setLastUpdatedCriteria(H.i.Occupancy),n.setState((a=n.config,o=e,i=Object(wt.b)(t),function(e,t){var n=Object(Ut.a)(t.form.occupancy[t.propertyProductIndex],{isActive:!0}),c=Object(r.a)(Object(r.a)({},n),{childAges:Object(r.g)(n.childAges.slice(0,o),[i],n.childAges.slice(o+1))}),s=t.form.occupancy[t.propertyProductIndex].map((function(e){return e.isActive?c:e})),l=Object(r.a)(Object(r.a)({},t),{form:Object(r.a)(Object(r.a)({},t.form),{occupancy:Object(Qt.c)(t.propertyProductIndex,s,t.form.occupancy)})});return on(a,null)(e,l)}))},n.onCheckboxClick=function(e){return n.setState((n.config,t=e,n.props.experiments,function(e,n){var a=n.form.occupancy&&n.form.occupancy.length>n.propertyProductIndex&&n.form.occupancy[n.propertyProductIndex].map((function(e){return Object(wt.i)(t,e)}));return Object(Qt.i)(n.events.onInputChange,n.propertyProductIndex,a,n.form.occupancy),Object(r.a)(Object(r.a)({},e),{popupData:Object(Gt.c)(e.ui.popup,e,Object(r.a)(Object(r.a)({},n),{form:Object(r.a)(Object(r.a)({},n.form),{occupancy:Object(Qt.c)(n.propertyProductIndex,a,n.form.occupancy)})})),ui:Object(r.a)(Object(r.a)({},e.ui),{previousPopup:e.ui.popup})})}));var t},n.getSearchButtonProps=function(){var e=n.props,t=e.cms,r=e.isSupportUpdateMode,a=e.searchCriteria,o=e.isPackagePage,i=n.state.ui,c=r&&Object(_t.c)(a,n.props)&&!o;return{isLoading:i.isLoading,onSubmit:n.onSubmit,text:c?t.searchBox.update:t.searchBox.search,dataSelenium:"searchButton",dataElementName:Object(Bt.a)(n.state,n.props),modifiers:n.isMultiHotelOnBlt()?"half-width":null}},n.getSearchBoxProps=function(){var e=n.props,t=e.cms,a=e.form,o=e.showHeavyDemand,i=e.experiments,c=e.isPackagePage,s=e.isPackageSearch,u=e.config,d=e.autoCompleteDataElementName,p=e.checkInDataElementName,h=e.checkOutDataElementName,g=e.occupancyDataElementName,m=e.propertyProductIndex,f=n.state,b=f.ui,v=f.searchBoxAnimationClass,y=a.checkIn,O=a.checkOut,S=a.occupancy,j=a.searchText,C=Object(l.a)(b.popup)||Object(l.a)(b.previousPopup);C&&b.popup!==b.previousPopup&&(n.animationKey+=1);var x=n.config.isVertical&&!b.isSticky,T=n.getCountryId(),k=n.getCityId(),P=n.getASQAllowedLosByCountryId(T),E=Object(Ft.a)(u,k),D=n.isAsqCountrySearch(T),N=n.isAsqCitySearch(k),A=D&&(null==P?void 0:P.length)>0,w=N&&(null==E?void 0:E.length)>0,B=n.isMultiHotelOnBlt()?!n.isLastMultiHotelSearchBox():n.isMultiHotelSearchBox(),_=c||Object(I.c)(Object(I.b)())&&x||B;return{searchText:j[m],autoCompleteDataElementName:d,checkInDataElementName:p,checkOutDataElementName:h,occupancyDataElementName:g,checkIn:b.emptyCheckIn?null:b.displayCheckIn||y[m],checkOut:b.emptyCheckOut?null:b.displayCheckOut||O[m],searchTextDescription:b.searchTextDesc,occupancy:Object(pe.i)(b.displayOccupancy||S[m],n.config.occupancy),searchButton:_?null:Object(r.a)({isSticky:b.isSticky},n.getSearchButtonProps()),isVertical:x,textSearchIcon:c?"ficon-20 ficon-flights-hotel-line":"ficon-20 ficon-search-box",activeTab:b.activeTab,popupType:b.popup,popupData:n.getPopupData(),disableTextBox:n.config.autoComplete.disable,hideOccupancyTab:c||n.props.config.isMultiHotels,displayheaderText:c,showEmptySearchError:b.showEmptySearchError,showHeavyDemand:o,disabled:c&&!s,onInputChange:n.onTextChange,onInputClick:n.onIconBoxClick,handleKeyDown:n.handleIconBoxKeyDown,refStoreInput:n.setInputRef,refPopup:n.setPopupRef,onPopupDidMountUpdate:n.onPopupDidMountUpdate,onContainerClicked:n.onCloseAllPopup,animationKey:n.animationKey,animationName:C||b.popup===b.previousPopup?"garage-door":"sliding",searchBoxAnimationClass:v||"",sendCriticalMark:n.config.page.pageTypeId===H.g.Home,experiments:i,cms:t.searchBox,showLosError:n.state.showLosErrorTooltip,losErrorText:n.getLosErrorText(A,N,P,E),losTooltipDataElementName:n.getLosTooltipDataElementName(A,x,w),maximumAllowedLos:n.props.config.calendar.maximumAllowedLos,hideAutocompleteTextBox:n.props.config.hideAutocompleteTextBox}},n.wrapWithBox=function(e){return a.createElement(f.d,Object(r.a)({},n.getBoxWrapperProps()),e)},n.renderSearchBoxComponent=function(e){var t,o,i,c=n.props.productType===He.c.MultiHotel&&(null===(t=n.state.ui)||void 0===t?void 0:t.isSticky)?null:e,s=a.createElement(a.Fragment,null,a.createElement(Ve,{propertyProductIndex:n.props.propertyProductIndex,cms:null===(o=n.props.cms)||void 0===o?void 0:o.multiProductOnHomePage,productType:n.props.productType}),a.createElement(_e,Object(r.a)({ref:n.setSearchBoxRef},n.getSearchBoxProps())));if(n.isMultiHotelSearchBox())return s;if(!n.config.enableTabContentWrapper)return a.createElement(a.Fragment,null,n.renderPaymentLogos(),s,c);var l=n.state.ui.isSticky&&(null===(i=n.searchBox)||void 0===i?void 0:i.searchBox)?n.searchBox.searchBox.getBoundingClientRect().height+"px":null,u=a.createElement(a.Fragment,null,n.renderPaymentLogos(),a.createElement(f.d,{minHeight:l},s),c);return a.createElement(Le.a,{boxProps:n.props.tabs.length<=1?{mt:"NONE"}:{},ads:n.props.ads,focusLevel:3,searchButton:n.isHomePageOrMultiHotelBlt()?n.getSearchButtonProps():null},!n.isHomePageOrMultiHotelBlt()&&u,n.isHomePageOrMultiHotelBlt()&&n.wrapWithBox(u))},n.getPopupData=function(){var e,t,a,o,i,c,s,l,u,d,p,h=n.state.ui.emptyCheckIn?null:n.state.ui.hoveredDate,g=Object(x.a)(n.props.config.calendar.showDatePickerAlert);switch(n.state.ui.popup){case H.i.Autocomplete:return Object(r.a)(Object(r.a)({},n.state.popupData),{onSuggestionClick:n.onSuggestionClick,cms:Object(r.a)(Object(r.a)({},n.props.cms.autoComplete),{dates:n.props.cms.searchBox.dates}),handleKeyDown:n.handleSuggestionKeyDown,refCallback:n.setSuggestionRef,bltBannerProps:n.props.bltBannerProps,improveTextSearchPresentation:!0});case H.i.CheckIn:case H.i.CheckOut:var m=n.state.popupData,f=Object(r.a)(Object(r.a)({},m.range),{firstDayOfWeek:n.config.calendar.firstDayOfWeek,onClick:n.onDayClick,onPreviousClick:n.onPreviousClick,onNextClick:n.onNextClick});n.shouldDisplayCheaperDaysInformation()&&(f=Object(r.a)(Object(r.a)({},f),{holidays:n.state.holidaysMap,demand:n.state.demandMap,cheaperPriceInformation:n.state.cheaperPriceInformation})),n.shouldRenderPriceTrend()&&(f=Object(r.a)(Object(r.a)({},f),{priceTrendInformation:n.state.priceTrendInformation,currency:{currencyCode:ue.a.pageConfig.currencyCode,currencyId:ue.a.pageConfig.currencyId},locale:(null===(t=null===(e=n.props.config)||void 0===e?void 0:e.page)||void 0===t?void 0:t.locale)||"en-us",isThousand:(d=n.state.priceTrendInformation,p=1e4,!!d&&Object.values(d).reduce((function(e,t){return Math.max(t.price,e)}),0)>=p),searchType:(null===(a=n.state.priceTrendQueryParam)||void 0===a?void 0:a.searchType)||(null===(i=null===(o=n.props.form.hotelDestinationSelectedValue)||void 0===o?void 0:o[n.props.propertyProductIndex])||void 0===i?void 0:i.searchType)||(null===(c=n.props.searchCriteria)||void 0===c?void 0:c.searchType)||1,isPriceSurgeAndDrop:!0,pageTypeId:n.props.config.page.pageTypeId})),Object(y.i)()||(f=Object(r.a)(Object(r.a)({},f),{onDayMouseEnter:n.onDayMouseEnter,onDayMouseLeave:n.onDayMouseLeave}));var b=(null===(s=n.props.config)||void 0===s?void 0:s.isMultiHotels)?null:(null===(l=n.calendarExtras)||void 0===l?void 0:l.holidaysMap)&&n.calendarExtras.holidaysMap[Object(Ie.e)(n.state.ui.hoveredDate)]||null;return{range:Object(r.a)(Object(r.a)({},f),{checkIn:g&&n.state.ui.emptyCheckIn?null:f.checkIn,checkOut:g&&n.state.ui.emptyCheckOut?h:f.checkOut}),summary:Object(r.a)(Object(r.a)({},m.summary),{holiday:b,checkIn:g&&n.state.ui.emptyCheckIn?n.state.ui.hoveredDate||null:m.summary.checkIn,checkOut:g&&n.state.ui.emptyCheckOut?h:m.summary.checkOut,cms:n.props.cms.summary}),alert:m.alert?Object(r.a)(Object(r.a)({},m.alert),{onClose:n.onAlertCloseClick}):null,dateDefinition:{cms:n.props.cms.dateDefinition},legend:n.shouldDisplayCheaperDaysInformation()||n.props.experiments.showPriceSurgeAndDropInCalendar?Object(r.a)({},n.props.cms.dateDefinition):null};case H.i.SegmentsOccupancy:return Object(r.a)(Object(r.a)({},n.state.popupData),{occupancySelectorCms:n.props.cms.occupancy,onOccupancyChange:n.onOccupancyChange,onChildAgesChange:n.onChildAgesChange,onCheckboxClick:n.onCheckboxClick,allowRoomSelected:n.state.ui.activeTab!==R.p.Homes,onTravellerTypeChange:n.onTravellerTypeChange,searchBoxOccupancyCms:n.props.cms.searchBox.occupancy,hideTravellerSelector:(null===(u=n.props.config)||void 0===u?void 0:u.hideTravellerSelector)||!1,checkIn:n.state.ui.emptyCheckIn?null:n.state.ui.displayCheckIn||n.props.form.checkIn[n.props.propertyProductIndex],checkOut:n.state.ui.emptyCheckOut?null:n.state.ui.displayCheckOut||n.props.form.checkOut[n.props.propertyProductIndex],searchText:n.props.form.searchText[n.props.propertyProductIndex],childRateDescriptionUrl:n.props.config.childRateDescriptionUrl});default:return null}},n.showCheaperDaysInfoOnHomePage=function(){return n.props.config.page.pageTypeId===H.g.Home},n.setRecentSearchAndZenithCallBack=function(e){var t,a=!n.config.isVertical||n.props.applyRecentSearchToSearchBox;if(n.showCheaperDaysInfoOnHomePage()&&n.getCalendarExtras(null==e?void 0:e.objectId),e){var o=n.props.propertyProductIndex,i=n.props.form,c=i.checkIn,s=i.checkOut,l=i.hotelDestinationSelectedValue;Object(Qt.f)(n.props.events.onInputChange,o,jn(e.recentSearch.checkIn),c),Object(Qt.g)(n.props.events.onInputChange,o,jn(e.recentSearch.checkOut),s),(null===(t=n.props.config)||void 0===t?void 0:t.shouldUpdateHotelSelectedValue)&&Object(Qt.h)(n.props.events.onInputChange,o,Object(r.a)(Object(r.a)({},e),{isRecentSearchFromZenith:!0}),l),n.setState($t(n.config,Object(r.a)(Object(r.a)({},e),{recentSearch:Object(r.a)(Object(r.a)({},e.recentSearch),{occupancy:Object(wt.h)(n.config.occupancy,e.recentSearch.occupancy,n.props.cms.occupancy,n.props.experiments)})}),a)),e.recentSearch&&e.recentSearch.occupancy&&Object(p.a)(e.recentSearch.occupancy.childAges,-1)&&n.setState(Xt(n.config,H.i.SegmentsOccupancy))}},n.getErrorModalText=function(){var e=n.props,t=e.cms,r=e.formErrors,a=e.config;if(r.invalidSearch)return t.searchBox.invalidSearch;if(r.invalidLengthOfStay){var o=n.getCountryId(),i=n.getCityId(),c=n.getASQAllowedLosByCountryId(o),s=Object(Ft.a)(a,i),l=n.isAsqCountrySearch(o),u=n.isAsqCitySearch(i),d=l&&(null==c?void 0:c.length)>0;return n.getLosErrorText(d,u,c,s)}return r.checkIn||r.checkOut?t.searchBox.invalidPackageDateRangeSearch:r.occupancy?t.searchBox.invalidPackageOccupancySearch:r.sameDate?t.searchBox.invalidPackageSameDateSearch:n.props.isPackagePage&&r.diffDestinationCountry?t.searchBox.invalidPackageDifferentCountrySearch:r.noAirportsOnDestination?t.searchBox.noAirportsOnDestination:r.noAirportsOnOrigin?t.searchBox.noAirportsOnOrigin:r.sameCitySearch?t.searchBox.sameCitySearch:t.searchBox.invalidSearch},n.renderSearchErrorModal=function(){var e,t=n.state.showErrorModal,r=n.getErrorModalText();return a.createElement(a.Suspense,{fallback:null},a.createElement(Sn,{modifier:"center",onRequestClose:n.closeErrorModal,displayText:r,isOpen:t&&!(null===(e=n.props.config)||void 0===e?void 0:e.ignoreErrorPopup),zIndex:1301}))},n.closeErrorModal=function(){n.setState(gn(!1))},n.onTravellerTypeChange=function(e){var t;n.setLastUpdatedCriteria(H.i.Occupancy),n.setState((t=e,function(e,n){var a=n.form.occupancy[n.propertyProductIndex].map((function(e){return Object(wt.j)(t,e)}));return Object(Qt.i)(n.events.onInputChange,n.propertyProductIndex,a,n.form.occupancy),t===H.n.Solo||t===H.n.Couples?Object(r.a)({},dn(e,n)):Object(r.a)(Object(r.a)({},e),{popupData:Object(Gt.c)(e.ui.popup,e,Object(r.a)(Object(r.a)({},n),{form:Object(r.a)(Object(r.a)({},n.form),{occupancy:Object(Qt.c)(n.propertyProductIndex,a,n.form.occupancy)})})),ui:Object(r.a)(Object(r.a)({},e.ui),{previousPopup:e.ui.popup})})}))},n.onFamilyModeApply=function(e){var t;n.setState((t=e,function(e,n){return Object(r.a)(Object(r.a)({},e),{familyMode:t})}),(function(){n.doSearch()}))},n.enableHomePageNewTabcontent=function(){return n.isHomePageOrMultiHotelBlt&&n.config.isVertical&&!n.state.ui.isSticky},n.renderSearchBoxWithDimmer=function(){var e=n.state.ui;return[R.p.AllRooms,R.p.Homes,R.p.Hotels,R.p.LongStay].includes(e.activeTab)&&n.props.productType!==He.c.MultiHotel?a.createElement(Fe.a,{show:!!e.backdropClass},n.renderSearchBoxComponent(n.props.children)):n.renderSearchBoxComponent(n.props.children)},n.getHomePageRedesignCSS=function(){return n.enableHomePageNewTabcontent()?n.config.threeRowStack?"ThreeRowStack":"HomePageNewDesign":""},n.config=Object(o.a)(Object(r.a)({},In.defaultProps.config),t.config,ve),n.state=Object(pe.k)(t,n.config),n.getTabsProps=pe.j.bind(n),!t.skipRecentSearchOnFirstLoad){var s=n.config.isVertical?function(e){n.props.events.firstTimeRenderChange(e)}:function(){};$e(n.props.form.searchText[n.props.propertyProductIndex],n.config,n.setRecentSearchAndZenithCallBack,n.props.experiments,s,t.defaultTab)}return n.registerCommunication(),n.calendarExtras={holidaysMap:{},demandMap:[]},n.setLastUpdatedCriteria(H.i.None),n}return Object(r.c)(t,e),t.prototype.registerCommunication=function(){var e=this;Object(v.b)(v.a.ON_FORCE_FOCUS_SEARCHBOX,(function(t){e.onIconBoxClick(H.i.Autocomplete,t)})),Object(v.b)(v.a.ON_CALENDAR_FOCUS,(function(t){e.onIconBoxClick(H.i.CheckIn,t)})),Object(v.b)(v.a.ANIMATE_SEARCH_BOX,(function(t){e.setState(mn(t))})),Object(v.b)(v.a.CLOSE_SEARCH_BOX_POPUP,(function(){e.onCloseAllPopup()})),Object(v.b)(v.a.OPEN_CALENDAR_ON_NAVBAR_AND_ANIMATE,(function(t,n){e.onIconBoxClick(H.i.CheckIn,n),e.setState(mn(t))})),Object(v.b)(v.a.CHECK_SEARCHBOX_STICKY,(function(t){t(e.getSearchBoxSticky())})),Object(v.b)(v.a.ON_BACKDROP_MODAL_CHANGED,this.onBackdropModalChanged),this.props.skipRecentSearchOnFirstLoad&&Object(v.b)(v.a.SET_RECENT_SEARCH,(function(){return $e(e.props.form.searchText[e.props.propertyProductIndex],e.config,e.setRecentSearchAndZenithCallBack,e.props.experiments,e.config.isVertical?function(t){e.props.events.firstTimeRenderChange(t)}:function(){},e.props.defaultTab)})),this.props.isSupportUpdateMode&&Object(v.b)(v.a.ON_ROOMGRID_POLLING_COMPLETE,this.onLoadFinished),this.props.config.page.pageTypeId===H.g.Search&&Object(v.b)(v.a.ON_FAMILY_MODE_APPLY,this.onFamilyModeApply),Object(v.b)(v.a.UPDATE_SEARCH_AND_OPEN_CALENDAR,this.openCalendarWithDefault)},t.prototype.expandCheckInPopup=function(e){this.props.experiments.isMin20221&&e.isRoomGridLoaded!==this.props.isRoomGridLoaded&&e.isRoomAvailable!==this.props.isRoomAvailable&&this.props.isRoomGridLoaded&&!this.props.isRoomAvailable&&this.props.searchCriteria.datelessLanding&&this.props.config.page.pageTypeId===H.g.Property&&this.props.form.searchText[this.props.propertyProductIndex]===this.props.searchCriteria.searchText&&this.setState(Xt(this.config,H.i.CheckIn))},t.prototype.componentDidMount=function(){var e,t;window.addEventListener(this.config.popupCloseEventName,this.handleWindowClick),window.addEventListener("keydown",this.handleWindowKeyDown),this.isHomePageOrMultiHotelBlt()&&(null===(e=this.props.events)||void 0===e?void 0:e.addChildEvent)&&this.props.events.addChildEvent(this.config.popupCloseEventName,this.closePopup),window.addEventListener("scroll",this.handleWindowScroll),this.getPriceTrend(),this.props.isPackagePage||this.props.config.isMultiHotels||this.showCheaperDaysInfoOnHomePage()||this.getCalendarExtras(this.props.searchCriteria.cityId),this.props.config.isMultiHotels&&this.props.config.prefilledSearchBoxMultiHotel&&this.updateAutoCompletePopup(!1,!0,!0),Object(S.a)(In.displayName),Object(v.c)(v.a.ON_SEARCH_BOX_READY),this.props.isBltLanding&&this.updateAutoCompletePopup(!0);var n=Object(yn.c)(this.props.experiments.isPhuketSandboxBanner,null!==(t=this.props.searchCriteria.cityId)&&void 0!==t?t:0);this.props.scrollIntoView&&!this.props.config.isMultiHotelsOLSB&&setTimeout((function(){var e=Object(j.f)().getElementsByClassName("phuket-sandbox-banner"),t=n&&e&&e.length>0?e[0]:Object(j.f)().getElementById("SearchBoxContainer");t&&t.scrollIntoView&&t.scrollIntoView()}),500)},t.prototype.componentWillUnmount=function(){var e;window.removeEventListener(this.config.popupCloseEventName,this.handleWindowClick),window.removeEventListener("keydown",this.handleWindowKeyDown),this.isHomePageOrMultiHotelBlt()&&(null===(e=this.props.events)||void 0===e?void 0:e.removeChildEvent)&&this.props.events.removeChildEvent(this.config.popupCloseEventName,this.closePopup),window.removeEventListener("scroll",this.handleWindowScroll)},t.prototype.componentDidUpdate=function(e,t){var n,r;this.shouldFocusOnSuggestion()?this.suggestion[this.state.ui.activeSuggestion].focus():this.handleIconBoxFocus(this.state.ui.popup),this.isPriceTrendPropsChange(e)&&this.getPriceTrend();var a=this.props.form,o=a.occupancy,i=a.checkIn,c=a.checkOut,s=a.searchText,l=this.props.propertyProductIndex;if(this.expandCheckInPopup(e),this.props.events.searchCriteriaChange){var u={occupancy:Object(wt.a)(o[l]),checkIn:i[l],checkOut:c[l],searchText:s[l],searchTextDesc:this.state.ui.searchTextDesc,baseSearchUrl:this.state.baseSearchUrl};Object(h.a)(this.props.searchCriteria,u)||this.props.events.searchCriteriaChange(u)}(null===(n=this.props.config)||void 0===n?void 0:n.isMultiHotels)&&(null===(r=this.props.config)||void 0===r?void 0:r.prefilledSearchBoxMultiHotel)&&this.props.triggerSearch&&this.onSubmit()},t.prototype.componentWillReceiveProps=function(e){var t,n,a;if(this.state.ui&&(this.state.ui.searchTextDesc?this.setState((a=e,function(e){var t=a&&a.searchCriteria&&a.searchCriteria.searchText||a.form.searchText[a.propertyProductIndex];return a.form.searchText[a.propertyProductIndex]!==t&&Object(Qt.j)(a.events.onInputChange,a.propertyProductIndex,t,a.form.searchText),{ui:Object(r.a)(Object(r.a)({},e.ui),{searchTextDesc:a&&a.searchCriteria&&a.searchCriteria.searchTextDesc||e.ui.searchTextDesc,previousPopup:e.ui.previousPopup})}})):this.state.ui.popup!==this.state.ui.previousPopup&&this.setState((function(e){return{ui:Object(r.a)(Object(r.a)({},e.ui),{previousPopup:e.ui.popup})}}))),this.props.config.page.pageTypeId===H.g.Search&&(e.form.checkIn[e.propertyProductIndex].getTime()!==this.props.form.checkIn[e.propertyProductIndex].getTime()&&Object(Qt.f)(this.props.events.onInputChange,e.propertyProductIndex,e.form.checkIn[e.propertyProductIndex],this.props.form.checkIn),e.form.checkOut[e.propertyProductIndex].getTime()!==this.props.form.checkOut[e.propertyProductIndex].getTime()&&Object(Qt.g)(this.props.events.onInputChange,e.propertyProductIndex,e.form.checkOut[e.propertyProductIndex],this.props.form.checkOut)),e.formErrors!==this.props.formErrors){var o=!1;Object.keys(e.formErrors).forEach((function(e){e&&(o=!0)})),this.setState(gn(o))}qt.a.isMultiHotelPackagesFeatureEnabled()&&null!==(null===(t=this.state.ui)||void 0===t?void 0:t.popup)&&this.state.ui.popup!==H.i.None&&(null===(n=e.form)||void 0===n?void 0:n.currentFocus)!==e.propertyProductIndex&&this.setState(Xt(this.config,null))},t.prototype.showLosErrorToolTip=function(e){this.state.showLosErrorTooltip!==e&&this.setState((function(){return{showLosErrorTooltip:e}}))},t.prototype.constructPriceTrendParams=function(){var e,t,n,r,a,o,i,c,s,l=this.props.propertyProductIndex,u=Object(wt.a)(this.props.form.occupancy[l]),d=(u.adults||0)+(u.children||0);return{cityId:(null===(t=null===(e=this.props.form.hotelDestinationSelectedValue)||void 0===e?void 0:e[l])||void 0===t?void 0:t.cityId)||(null===(n=this.props.searchCriteria)||void 0===n?void 0:n.cityId),startDate:Object(pe.f)(null,1).checkIn,endDate:Object(pe.f)(null,60).checkOut,los:1,occ:d||(this.props.searchCriteria.occupancy.adults||0)+(this.props.searchCriteria.occupancy.children||0),isUserLoggedIn:this.props.searchCriteria.isLogin||!1,suggestedPrice:this.props.searchCriteria.priceView,propertyId:parseInt(null===(o=null===(a=null===(r=this.props.form.hotelDestinationSelectedValue)||void 0===r?void 0:r[l])||void 0===a?void 0:a.objectId)||void 0===o?void 0:o.toString(),10)||this.props.objectId||void 0,searchType:(null===(c=null===(i=this.props.form.hotelDestinationSelectedValue)||void 0===i?void 0:i[l])||void 0===c?void 0:c.searchType)||(null===(s=this.props.searchCriteria)||void 0===s?void 0:s.searchType),currency:ue.a.pageConfig.currencyCode,supportedRateChannelIds:[1]}},t.prototype.shouldRenderPriceTrend=function(){var e,t,n,r,a,o,i,c,s,l=this.props.propertyProductIndex,u=(null===(t=null===(e=this.props.form.hotelDestinationSelectedValue)||void 0===e?void 0:e[l])||void 0===t?void 0:t.searchType)||(null===(n=this.props.searchCriteria)||void 0===n?void 0:n.searchType),d=(null===(a=null===(r=this.props.form.hotelDestinationSelectedValue)||void 0===r?void 0:r[l])||void 0===a?void 0:a.objectId)||this.props.objectId,p=this.props.config.page.pageTypeId===H.g.Property&&d&&void 0===u,h=(null===(i=null===(o=this.props.form.hotelDestinationSelectedValue)||void 0===o?void 0:o[l])||void 0===i?void 0:i.isRecentSearchFromZenith)&&1===(null===(s=null===(c=this.props.form.hotelDestinationSelectedValue)||void 0===c?void 0:c[l])||void 0===s?void 0:s.objectTypeId);return this.props.experiments.showPriceSurgeAndDropInCalendar&&ue.a.pageConfig.whitelabelid===Mt.N.Agoda&&this.state.ui.activeTab===R.p.AllRooms&&!(this.props.searchCriteria.productType&&this.props.searchCriteria.productType!==R.p.AllRooms)&&(this.props.config.page.pageTypeId===H.g.Home||this.props.config.page.pageTypeId===H.g.Search||this.props.config.page.pageTypeId===H.g.Property)&&(this.props.form.searchText[l]||this.props.searchCriteria.searchText)&&(1===u||4===u||p||h)},t.prototype.getPriceTrend=function(){var e,t,n,r,a,o=this;if(this.shouldRenderPriceTrend()){var i=this.props.propertyProductIndex,c=this.constructPriceTrendParams();if((null===(t=null===(e=this.props.form.hotelDestinationSelectedValue)||void 0===e?void 0:e[i])||void 0===t?void 0:t.isRecentSearchFromZenith)&&1===(null===(r=null===(n=this.props.form.hotelDestinationSelectedValue)||void 0===n?void 0:n[i])||void 0===r?void 0:r.objectTypeId)){var s=null===(a=this.props.form.hotelDestinationSelectedValue)||void 0===a?void 0:a[i];c.cityId=c.cityId||(Number.isNaN(s.objectId)?null:Number(s.objectId)),c.searchType=1}this.props.config.page.pageTypeId===H.g.Property&&c.propertyId&&void 0===c.searchType&&(c.searchType=4),this.isPriceTrendParamChange(c)&&At(c).then((function(e){o.setState((function(){return{priceTrendInformation:e,priceTrendQueryParam:c}}))}))}},t.prototype.getCalendarExtras=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=null),Object(vt.c)(this.props,this.config,this.isHomeOrSearchPage()?e:null,this.state.currency.currencyCode,this.shouldDisplayCheaperDaysInformation()).then((function(e){n.calendarExtras=e,n.shouldDisplayCheaperDaysInformation()?n.setState((function(){return{cityName:t||n.state.cityName,holidaysMap:n.calendarExtras&&n.calendarExtras.holidaysMap||n.state.holidaysMap,demandMap:n.calendarExtras&&n.calendarExtras.demandMap||n.state.demandMap,cheaperPriceInformation:n.calendarExtras&&n.calendarExtras.cheaperPriceInformation}})):n.config=Object(r.a)(Object(r.a)({},n.config),{calendar:Object(r.a)(Object(r.a)({},n.config.calendar),{holidaysMap:n.calendarExtras&&n.calendarExtras.holidaysMap,demandMap:n.calendarExtras&&n.calendarExtras.demandMap})})}))},t.prototype.handleIconBoxFocus=function(e){if(null!==e){var t=this.iconBox[e];if(t)if(e!==H.i.Autocomplete)t.focus();else{var n=t.getElementsByTagName("input");n.length&&n[0].focus()}}},t.prototype.doSearch=function(){var e=this;this.state.baseAddressId?ht(this.config.autoComplete.googleSearchUrl,this.state.baseAddressId,(function(t){e.props.config.page.pageTypeId===I.a.Hotel&&e.props.config.calendar.showDatePickerAlert&&e.props.form.searchText[e.props.propertyProductIndex]===e.props.searchCriteria.searchText?(Object(C.o)(e.props.searchUrl),setTimeout((function(){Object(C.n)(e.combineUrl({latitude:t.lat,longtitude:t.lng}))}),3e3)):Object(C.n)(e.combineUrl({latitude:t.lat,longtitude:t.lng}))})):this.props.config.page.pageTypeId===I.a.Hotel&&this.props.config.calendar.showDatePickerAlert&&this.props.form.searchText[this.props.propertyProductIndex]===this.props.searchCriteria.searchText||this.props.experiments.isMin20221&&this.props.searchCriteria.datelessLanding&&!this.props.isRoomAvailable?(Object(C.o)(this.props.searchUrl),setTimeout((function(){Object(C.n)(e.combineUrl())}),3e3)):Object(C.n)(this.combineUrl())},t.prototype.checkForLocationCriteriaChange=function(e,t){var n,a=e.searchCriteria,o=a.objectId,i=a.searchType,c=t.value,s=c.objectId,l=c.searchType,u=o===s&&i===l;this.setState((n=u,function(e){return Object(r.a)(Object(r.a)({},e),{keepLocationDependentCriteria:n})}))},t.prototype.getCountryId=function(){var e,t,n=this.props,r=n.form,a=n.propertyProductIndex,o=n.config,i=r.hotelDestinationSelectedValue;return(null===(e=null==i?void 0:i[a])||void 0===e?void 0:e.countryId)||(null===(t=null==o?void 0:o.calendar)||void 0===t?void 0:t.asqCountryId)},t.prototype.getCityId=function(){var e,t,n=this.props,r=n.form,a=n.propertyProductIndex,o=n.config,i=r.hotelDestinationSelectedValue;return(null===(e=null==i?void 0:i[a])||void 0===e?void 0:e.cityId)||(null===(t=null==o?void 0:o.calendar)||void 0===t?void 0:t.asqCityId)},t.prototype.isAsqCountrySearch=function(e){var t,n,r,a,o,i;return T.a.isASQCountrySearch(null===(n=null===(t=this.props.config)||void 0===t?void 0:t.page)||void 0===n?void 0:n.pageTypeId,e,null===(a=null===(r=this.props.config)||void 0===r?void 0:r.calendar)||void 0===a?void 0:a.asqAllowedLos,null===(i=null===(o=this.props.config)||void 0===o?void 0:o.page)||void 0===i?void 0:i.cid)},t.prototype.isAsqCitySearch=function(e){return T.a.isAsqCitySearch(this.props.config.calendar.asqAllowedCitiesConfiguration,e,this.props.config.page.cid)},t.prototype.getLosErrorText=function(e,t,n,r){var a,o,i,c,s,l,u=Object(Ft.b)(this.props.config),d=null===(i=null===(o=null===(a=this.props)||void 0===a?void 0:a.cms)||void 0===o?void 0:o.searchBox)||void 0===i?void 0:i.exceedsAllowedLengthOfStay,p=null===(l=null===(s=null===(c=this.props)||void 0===c?void 0:c.cms)||void 0===s?void 0:s.searchBox)||void 0===l?void 0:l.exceedsAllowedLengthOfStayAsqSearch;return t?(null==r?void 0:r.length)>0&&(u=r,d=p):e&&(u=n,d=p),d&&u&&m.StringFormatter.format(d,u instanceof Array?u.join(", "):u)},t.prototype.getLongTermRentalToolTipDataElementName=function(e){return e?this.ltrUnsupportedTooltipName:this.ltrUnsupportedTooltipStickyName},t.prototype.getLosTooltipDataElementName=function(e,t,n){return n||e?this.asqUnsupportedTooltipName:this.getLongTermRentalToolTipDataElementName(t)},t.prototype.getASQAllowedLosByCountryId=function(e){var t,n;return T.a.getAllowedLosByCountryId(null===(n=null===(t=this.props.config)||void 0===t?void 0:t.page)||void 0===n?void 0:n.pageTypeId,e)},t.prototype.getBoxWrapperProps=function(){return this.state.ui.backdropClass&&this.props.productType!==He.c.MultiHotel?{zIndex:1e3,position:"relative"}:{}},t.prototype.renderBackdrop=function(){var e=Object(b.c)("SearchboxBackdrop",{darker:this.config.isVertical}),t=!!this.state.ui.backdropClass&&!this.props.isPackagePage&&!this.props.config.isMultiHotels;return a.createElement(Re.a,{isOpen:t,className:e,dataSelenium:"backdrop",dataNoCache:this.config.page.cttp===R.q.Prerender||null,parentSelector:this.getParentNodeRef})},t.prototype.render=function(){var e=this.state.ui,t="";this.isHomePageOrMultiHotelBlt()||(t=Object(s.a)(null==e?void 0:e.backdropClass)?null==e?void 0:e.backdropClass:(null==e?void 0:e.backdropClass)?"backdrop":"");var n=Object(b.c)("SearchBoxContainer",[be(e.activeTab),t,e.isSticky?"sticky":"",e.isSticky||e.isCompact?"compact":"",this.config.isVertical?"vertical":"",e.isFirstLoad?"noanimation":"",this.props.isPackagePage?"package":"",this.getHomePageRedesignCSS(),this.config.isMultiHotels?"multiHotels":"","ImproveTextSearch",this.props.config.hideAutocompleteTextBox?"WithoutAutoCompleteBox":""]);return a.createElement("div",{ref:this.setNodeRef,className:n,id:"SearchBoxContainer"},this.renderSearchErrorModal(),this.isHomePageOrMultiHotelBlt()&&this.renderSearchBoxWithDimmer(),!this.isHomePageOrMultiHotelBlt()&&this.renderSearchBoxComponent(this.props.children),!this.isHomePageOrMultiHotelBlt()&&this.renderBackdrop()," ")},t.displayName="SearchBoxContainer",t.defaultProps=Object(pe.g)(),t}(a.Component),In=Cn},1628:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1566),a=n(1705),o=n(102),i=n(131),c=n(118),s=function(e){return e>9?e.toString(10):"0"+e},l=function(e){return Object(r.a)(e,(function(e){return Object(a.a)(e)?e.getFullYear()+"-"+s(e.getMonth()+1)+"-"+s(e.getDate()):Object(o.a)(e)||Object(i.a)(e)?e:Object(c.a)(e)}))}},1630:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(103),a=n(221),o=n(53),i=n(14),c=new r.ClientSideBehavior("groupBookingContainerWithoutAgodaBehavior",a.not.with(a.whiteLabelId.equal(i.N.Agoda)).build(),o.FallbackStrategy.Disable)},1631:function(e,t,n){"use strict";var r=n(222),a=n(185),o=n(299),i=n(411),c=Object.prototype,s=c.hasOwnProperty,l=Object(r.a)((function(e,t){e=Object(e);var n=-1,r=t.length,l=r>2?t[2]:void 0;for(l&&Object(o.a)(t[0],t[1],l)&&(r=1);++n<r;)for(var u=t[n],d=Object(i.default)(u),p=-1,h=d.length;++p<h;){var g=d[p],m=e[g];(void 0===m||Object(a.a)(m,c[g])&&!s.call(e,g))&&(e[g]=u[g])}return e}));t.a=l},1638:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,a=n(26);!function(e){var t;!function(e){e.ClientVersion="X-CLIENT-VERSION",e.CultureCode="Accept-Language",e.CurrencyCode="X-CURRENCY",e.InvalidToken="x-invalid-tokencookie",e.OverrideOrigin="X-OVERRIDE-ORIGIN",e.ShowCmsIds="X-SHOW-CMS-IDS",e.SessionId="X-SESSION-ID",e.UserId="X-USER-ID",e.Cid="X-CID",e.PointsMaxId="X-POINTSMAX",e.ShouldSendTrafficMessage="X-SHOULD-SEND-TRAFFIC-MESSAGE",e.RetryAttempt="X-RETRY-ATTEMPT"}(t||(t={})),e.buildHeader=function(){var e,n=Object(a.l)();return(e={})[t.ClientVersion]="1.0",e[t.CultureCode]=n.cultureInfoName,e[t.SessionId]=n.sessionId,e[t.UserId]=n.userId,e[t.Cid]=n.cid,e[t.RetryAttempt]="0",e}}(r||(r={}))},1639:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(1541).a.getSelectedLosInDays,a=function(e){return e.calendar.maximumAllowedLos},o=function(e,t,n,a,o,i,s,l){var u=r(a,o),d=u>i,p=n&&n.length>0;return s?c(d,u,l):t&&p?!n.includes(u):d},i=function(e,t){var n,r,a;return t&&(null===(n=null==e?void 0:e.calendar)||void 0===n?void 0:n.asqAllowedCitiesConfiguration)&&(null===(a=null===(r=null==e?void 0:e.calendar)||void 0===r?void 0:r.asqAllowedCitiesConfiguration[t])||void 0===a?void 0:a.config.losConfig.sort((function(e,t){return e-t})))},c=function(e,t,n){return(null==n?void 0:n.length)>0?!n.includes(t):e}},1645:function(e,t){},1646:function(e,t){},1647:function(e,t){},1648:function(e,t){},1649:function(e,t){},1650:function(e,t){},1651:function(e,t){},1652:function(e,t){},1653:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(9),a=function(e){var t=Object(r.b)();return t===r.a.Hotel||t===r.a.Apo?e:t===r.a.Geo}},1654:function(e,t){},1655:function(e,t){},1660:function(e,t,n){"use strict";n.r(t),n.d(t,"getSuggestionChildren",(function(){return w})),n.d(t,"AutocompleteList",(function(){return R}));var r=n(3),a=n(1),o=n(1631),i=n(130),c=n(25),s=n(631),l=n(77),u=n(102),d=n(8),p=n(526),h=n(1566),g=n(633),m=function(e,t){var n=function(e){if(!e)return null;if(Object(u.a)(e))try{return new RegExp(e,"gi")}catch(e){return null}return e}(t);return n?Object(p.a)(e.replace(n,"*$&*").split("*")):[e]},f=(n(1647),n(1648),function(e,t,n){if(!t)return[a.createElement(a.Fragment,{key:e},e)];var r=t.toLowerCase();return m(e,t).map((function(e,t){var o=e.toLowerCase()===r,i=o?n?"Suggestion__text--highlight-new":"Suggestion__text--highlight":"";return o?a.createElement("span",{key:e+t,className:i,"data-selenium":"suggestion-text-highlight"},e):a.createElement(a.Fragment,{key:e+t},e)}))}),b=function(e){var t,n,r=e.displayNames&&e.displayNames.Name?e.displayNames.Name:(t=e.location,(n=e.format)?Object(h.a)(n,(function(e){return Object(g.c)(e,t)})):Object(p.a)([t.name,t.city,t.country]).join(", "));return Object(u.a)(r)?f(r,e.highlightText,e.improveTextSearchPresentation):Object.keys(r).map((function(t){return a.createElement("span",{key:r[t],className:Object(c.c)("Suggestion__subText",t)},f(r[t],e.highlightText,e.improveTextSearchPresentation))}))},v=function(e){var t="";return e.isPopular?(t=e.popularText,a.createElement("span",{className:"Suggestion__boxBadge"},t)):null},y=function(e){return e.improveTextSearchPresentation?a.createElement("li",{className:"Suggestion__subtext"},a.createElement("span",{className:"Suggestion__categoryName_subtext"},e.displayNames.CategoryName)):a.createElement("div",{className:e.isAddress?"Suggestion__categoryName_addressText":""},a.createElement("span",{className:"Suggestion__categoryName_text"},e.displayNames.CategoryName))},O=function(e,t){return e.isSubSuggestion||e.improveTextSearchPresentation?a.createElement("span",{className:"Suggestion__icon","data-selenium":"suggestion-icon"},t):null},S=function(e,t,n){var r={boxAddress:e.isAddress};if(e.isFlightRecentSearch)return n;if(e.displayNames){if(e.improveTextSearchPresentation)return function(e,t,n){var r={boxAddress:e.isAddress},o=e.displayNames.GeoHierarchyName?a.createElement(d.d,null,a.createElement("span",{className:"Suggestion__geoHierarchyName"},e.displayNames.GeoHierarchyName),v(e),n):n?a.createElement(d.d,null,n):null,i=e.isAddress?Object(c.c)("Suggestion__text_address",r):null,s=e.isSubSuggestion?"Suggestion__subSuggestionWrapper":null;return a.createElement("ul",null,O(e,t),a.createElement("li",{className:Object(c.a)(Object(c.c)("Suggestion__categoryName_container",r),s)},a.createElement(d.d,null,a.createElement("span",{className:Object(c.a)("Suggestion__text",i),"data-selenium":"suggestion-text"},b(e))),o),y(e))}(e,t,n);var o=e.displayNames.GeoHierarchyName?a.createElement("li",{className:Object(c.c)("Suggestion__categoryName_item",r)},a.createElement("span",{className:"Suggestion__geoHierarchyName"},e.displayNames.GeoHierarchyName),n):n?a.createElement("li",{className:Object(c.c)("Suggestion__categoryName_item",r)},n):null,i=e.isAddress?Object(c.c)("Suggestion__text_address",r):null,s=e.isSubSuggestion?"Suggestion__subSuggestionWrapper":null;return a.createElement("ul",{className:Object(c.a)(Object(c.c)("Suggestion__categoryName_container",r),s)},a.createElement("li",{className:Object(c.c)("Suggestion__categoryName_item",r)},O(e,t),a.createElement("span",{className:Object(c.a)("Suggestion__text",i),"data-selenium":"suggestion-text"},b(e)),v(e),y(e)),o)}return a.createElement(a.Fragment,null,n,a.createElement("span",{className:"Suggestion__icon","data-selenium":"suggestion-icon"},t),a.createElement("span",{className:"Suggestion__text","data-selenium":"suggestion-text"}," ",b(e)),v(e))},j=function(e){if(e.isGoogle)return a.createElement("li",{className:"Suggestion__googleLabel"});if(!e.location&&!e.isFlightRecentSearch)return a.createElement("li",{className:Object(c.a)("Suggestion","Suggestion__loading")},a.createElement("div",{className:"Suggestion__loadingBlock"}));var t,n=e.icon&&a.createElement("i",{className:Object(c.a)("ficon ficon-18",e.icon)}),o=e.children&&(e.isFlightRecentSearch?a.createElement("span",null,e.children):a.createElement("span",{className:"Suggestion__child"},e.children)),i=e.displayNames?"Suggestion__categoryName":"",s=e.isSubSuggestion?"Suggestion__subSuggestion":"";return a.createElement("li",Object(r.a)({className:Object(c.a)(Object(c.c)("Suggestion",e.modifiers),[e.className],i,s),ref:e.refCallback,tabIndex:0,onKeyDown:e.onKeyDown,onClick:e.onClick,"data-selenium":e.dataSelenium,"data-text":e.dataText,"data-objectid":e.objectId,"data-element-name":e.elementName||e.isRecentSearch?"":"search-box-sub-suggestion","data-element-index":0,"data-element-object-id":e.objectId,"data-element-place-type":0},null!==(t=e.elementName||e.isRecentSearch?null:e.searchType||0)?{"data-element-search-type":t}:null),S(e,n,o))};j.displayName="Suggestion",j.defaultProps={icon:null,format:null,highlightText:null,className:"",modifiers:{}};var C=n(15),I=n(19),x=n(1742),T=n(1741),k=n(1743),P=n(1565),E=n(104),D=n(59),N=(n(1649),Object(I.withTranslations)((function(e){var t,n,r,o,i,c,s,l=function(t){return t.getDate()+" "+Object(E.d)(e.cms.dateSelector.input.monthNames,t)+", "+t.getFullYear()};return a.createElement(d.d,{"data-component":"flight-recent-search-item","data-element-index":e.index,"data-element-value":e.productType,className:"FlightRecentSearch",display:"flex"},a.createElement(d.d,{px:"L"},a.createElement(k.a,{size:"L"})),a.createElement(d.d,{flexGrow:1},a.createElement(d.d,{"data-component":"flight-recent-search-title",mb:"XS",whiteSpace:"normal"},(i=e.recentSearch.flightType===D.a.FlightOption.Oneway?a.createElement(x.a,{size:"XS"}):a.createElement(T.a,{size:"XS"}),c=e.recentSearch.origin.name||e.recentSearch.origin.tripLocations[0].code,s=e.recentSearch.destination.name||e.recentSearch.destination.tripLocations[0].code,a.createElement("span",null,a.createElement("b",null,c," ",i," ",s)))),a.createElement("span",{"data-component":"flight-recent-search-date",className:"Suggestion__categoryName_text sub-text"},function(){var t=l(e.recentSearch.departureDate);if(e.recentSearch.flightType===D.a.FlightOption.Oneway)return t;var n=l(e.recentSearch.returnDate);return e.recentSearch.departureDate.getFullYear()===e.recentSearch.returnDate.getFullYear()?t.split(",")[0]+" - "+n:t+" - "+n}())),a.createElement(d.d,null,a.createElement("span",{"data-component":"flight-recent-search-occupancy-cabin",className:"Suggestion__categoryName_text sub-text occupancy-text"},(t=e.recentSearch,n=t.adults,r=t.children,o=t.infants,(n?I.StringFormatter.format(n>1?e.adults:e.adult,n):null)+(r?", "+I.StringFormatter.format(r>1?e.children:e.child,r):"")+(o?", "+I.StringFormatter.format(o>1?e.infants:e.infant,o):"")+" | "+P.a.getCabinClassCms(e.recentSearch.cabinType,e.cms.cabinClass)))))}),(function(e){return Object(r.a)({},e.flightsRecentSearches)})));N.displayName="FlightRecentSearch";n(1650);var A=void 0,w=function(e,t,n,r,i){switch(e.type){case C.m.RecentSearch:var c=Object(o.a)(e.data,{checkIn:{toLocaleDateString:function(){return null}},checkOut:{toLocaleDateString:function(){return null}},occupancy:{rooms:0,adults:0,children:0}}),u=function(e){var n=Object(l.a)(e);return t.dates?Object(l.c)(t.dates.format,n,t.dates.monthNames,t.dates.monthNames):n.getFullYear()+"-"+n.getMonth()+"-"+n.getDate()},d=r?0===c.occupancy.children?Object(s.a)(c.occupancy.adults,t.adult,t.adults)+",\n            "+Object(s.a)(c.occupancy.rooms,t.room,t.rooms):Object(s.a)(c.occupancy.adults,t.adult,t.adults)+",\n             "+Object(s.a)(c.occupancy.children,t.child,t.children)+",\n             "+Object(s.a)(c.occupancy.rooms,t.room,t.rooms):Object(s.a)(c.occupancy.rooms,t.room,t.rooms)+",\n             "+Object(s.a)(c.occupancy.adults,t.adult,t.adults)+",\n             "+Object(s.a)(c.occupancy.children,t.child,t.children);return a.createElement("span",{className:"Suggestion__child-Occupancy"},a.createElement("span",{className:"Suggestion__child-Occupancy__spliced"},!r&&u(c.checkIn)+" - "+u(c.checkOut),r&&u(c.checkIn)+" - "+u(c.checkOut)+"  "+d),!r&&a.createElement("span",null,d));case C.m.FlightRecentSearch:return a.createElement(N,{recentSearch:e.value.flightRecentSearch,cms:e.cms,index:e.value.index,productType:i});case C.m.Info:return n?a.createElement("span",{className:"Suggestion__child-Info"},a.createElement("span",{className:"Suggestion__child-Info__count"},e.data),a.createElement("span",{className:"Suggestion__child-Info__text"},t.properties)):null;case C.m.Google:case C.m.Location:default:return null}},B=function(e){switch(e){case C.m.RecentSearch:return"RecentSearch";case C.m.Location:return"LocationSearch";default:return""}},_=function(e){switch(e){case C.m.RecentSearch:return"recentSearchListItem";case C.m.Location:return"topDestinationListItem";default:return"autosuggest-item"}},R=function(e){var t=e.suggestions.map((function(t,n){var o={format:t.format,location:t.location,onClick:e.onSuggestionClick.bind(null,t),highlightText:e.highlightText,icon:t.icon,modifiers:t.modifiers,onKeyDown:e.handleKeyDown.bind(A,n,e.suggestions),refCallback:e.refCallback&&e.refCallback.bind(A,n),className:B(t.type),isGoogle:t.type===C.m.Google,isRecentSearch:t.type===C.m.RecentSearch,dataSelenium:_(t.type),dataText:t.dataText,objectId:t.value&&t.value.objectId,displayNames:t.displayNames,experiments:e.experiments,isAddress:t.value.isAddress,popularText:e.cms.popular,isPopular:t.value.isPopular,isBestSeller:t.value.isBestSeller,bestSellerText:e.cms.bestSeller,isSubSuggestion:t.value.isSubSuggestion,elementName:e.suggestionElementName,searchType:t.value&&t.value.searchType,improveTextSearchPresentation:e.improveTextSearchPresentation,isFlightRecentSearch:t.type===C.m.FlightRecentSearch};return a.createElement(j,Object(r.a)({},o,{key:t.value.url}),w(t,e.cms,e.showNumberOfProperties,e.improveTextSearchPresentation,e.productType))}));e.suggestions.every((function(e){return e.type===C.m.FlightRecentSearch}))&&i.c.track({action_element_name:"flight-recent-search-list",action_type:"seen",event_version:2});var n=Object(c.a)("AutocompleteList",e.className);return a.createElement("ul",{className:n,ref:e.wrapperRefCallback},t,e.children)};R.defaultProps={className:"",suggestions:[],onSuggestionClick:function(){},cms:{},experiments:{},showNumberOfProperties:!0},R.displayName="AutocompleteList";t.default=R},1666:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(3),a=n(1564),o=n(29),i=n(77),c=n(26),s=n(630),l=n(295),u=function(e,t){var n=Object(l.a)(t.form.occupancy[t.propertyProductIndex]);return!(e.searchText!==t.form.searchText[t.propertyProductIndex]||e.occupancy.adults!==n.adults||e.occupancy.children!==n.children||e.occupancy.rooms!==n.rooms||e.occupancy.travellerType!==n.travellerType||(!t.experiments.isMin20221||!t.searchCriteria.datelessLanding)&&Object(i.b)(t.form.checkIn[t.propertyProductIndex]).getTime()<Object(c.c)().setHours(0,0,0,0)||e.occupancy.children>0&&!Object(a.a)(p(e.occupancy.childAges),n.childAges))},d=function(e){return{checkIn:Object(s.c)(e.checkIn),los:Object(s.f)(e.checkIn,e.checkOut),adults:e.occupancy.adults,children:e.occupancy.children,childAges:e.occupancy.childAges||[],rooms:e.occupancy.rooms,searchText:e.searchText}},p=function(e){return e.map((function(e){return-1===e?8:e}))},h=function(e){var t=e&&Object(o.a)(e.featureGroups)&&e.featureGroups[0];return t&&"thumb-up-line"===t.symbol&&Object(o.a)(t.feature)>=1?Object(r.a)(Object(r.a)({},t),{feature:t.feature.slice(0,6)}):null}},1671:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),a=n(43),o=n(403),i=n(15),c=n(295),s=n(1718),l=function(e){var t;if(!e)return null;var n=e.config,l=void 0===n?{}:n,u=Object(r.a)(Object(r.a)({},e.searchCriteria.occupancy),{checkbox:{value:Object(o.e)(e),type:Object(o.d)(e)}}),d=Object(o.d)(e)!==i.c.NotAvailable&&e.cms&&e.cms.occupancy?e.cms.occupancy:null,p=Object(c.h)(l.occupancy,u,d,e.experiments),h=Object(o.f)(e.searchCriteria,l.calendar.defaultLos),g=h.checkIn,m=h.checkOut,f=s.a.initOccupancies(p,d,p.travellerType,e.experiments);return(null===(t=e.config)||void 0===t?void 0:t.isMultiHotels)?{checkIn:[m],checkOut:[a(m,1)],occupancy:[f],searchText:[null],currentFocus:0}:{checkIn:[g],checkOut:[m],occupancy:[f],searchText:[e.searchCriteria.searchText]||!1,hotelDestinationSelectedValue:[null],currentFocus:0}}},1680:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(259),a=function(e){var t=[];return e.hotelId.forEach((function(n,a){var o={adults:e.adults[a],hotelId:n,checkIn:e.checkIn[a],checkOut:e.checkOut[a],childAges:e.childAges&&e.childAges[a]||void 0,children:e.children&&e.children[a]||0,cityId:e.cityId&&e.cityId[a]||0,cityName:e.cityName[a],lengthOfStay:e.lengthOfStay[a],extraBeds:e.extraBed&&e.extraBed[a]||void 0,roomId:e.roomId&&e.roomId[a]||void 0,rooms:e.rooms&&e.rooms[a]||void 0,packageToken:e.packageToken||void 0,selectedRoom:{r_children:e.r_children[a],r_eb:e.r_eb[a],r_isFit:e.r_isFit[a],r_isRespectMacOcc:e.r_isRespectMacOcc[a],r_mandatoryEb:e.r_mandatoryEb[a],r_masterRoomOcc:e.r_masterRoomOcc[a],r_needOccSearch:e.r_needOccSearch[a],r_occupancy:e.r_occupancy[a],r_cancellationType:e.r_cancellationType&&e.r_cancellationType[a]||void 0,isPayAtHotel:e.paymentModel===r.a.PayHotel}};t.push(o)})),t}},1682:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.PREFIX="blt-",e.BANNER_TERMS_AND_CONDITION_ON_SSR=e.PREFIX+"banner-tc-link-ssr",e.BANNER_TERMS_AND_CONDITION_ON_SEARCHBOX=e.PREFIX+"banner-tc-link-searchbox",e.BANNER_ON_SSR=e.PREFIX+"banner-ssr",e.BANNER_ON_SEARCHBOX=e.PREFIX+"banner-searchbox",e}()},1683:function(e,t,n){"use strict";var r=n(1),a=n(49),o=function(e){return r.createElement("svg",e,r.createElement("path",{d:"M13.506 13.672h5.03c.553 0 1.456-.569 1.456-1.52 0-.95-.903-1.48-1.456-1.48h-5.03l-.017-5.21c0-.553-.518-1.457-1.489-1.457-.97 0-1.51.904-1.51 1.456l.016 5.21h-5.11c-.552 0-1.378.549-1.378 1.482 0 .932.826 1.519 1.379 1.519h5.109l-.012 5.013c0 .553.647 1.324 1.51 1.324.864 0 1.49-.771 1.49-1.324l.012-5.013z"}))};o.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var i=r.memo((function(e){return r.createElement(a.a,e,r.createElement(o,{width:"1em",height:"1em"}))}));i.displayName="SearchPlusFilledIcon",t.a=i},1686:function(e,t){},1700:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(3),a=n(140),o=n(130),i=n(1581),c=n(295),s=n(1616),l=n(18),u=n(15),d=function(e,t){var n,a=Object(r.a)(Object(r.a)({},h(t)),{action_type:"click"});t.isPackagePage?t.isPackageSearch?o.c.track(Object(r.a)(Object(r.a)({},a),{action_element_name:"packages-search-button",event_version:1})):o.c.track(Object(r.a)(Object(r.a)({},a),{action_element_name:"packages-modify-search-button",event_version:1})):(null===(n=null==e?void 0:e.ui)||void 0===n?void 0:n.isSticky)?o.c.track(Object(r.a)(Object(r.a)({},a),{action_element_name:"search-button-sticky",event_version:5})):o.c.track(Object(r.a)(Object(r.a)({},a),{action_element_name:"search-button",event_version:7}))},p=function(e,t){var n,r,a=t.isPackagePage,o=t.isPackageSearch,i=t.config;return a?o?"packages-search-button":"packages-modify-search-button":(null===(n=null==e?void 0:e.ui)||void 0===n?void 0:n.activeTab)===l.p.LongStay?"long-stay-search-button":(null===(r=null==e?void 0:e.ui)||void 0===r?void 0:r.isSticky)?"search-button-sticky":(null==i?void 0:i.isMultiHotelsSlider)?"multi-hotel-slider-search-button":(null==i?void 0:i.isMultiHotelsOLSB)?"multi-hotel-search-button":"search-button"},h=function(e){var t,n=e.propertyProductIndex,o=e.form,l=e.config,d=e.experiments,p=Object(c.a)(o.occupancy[n])||{},h={search_prefer_family_rooms:p.checkbox&&p.checkbox.wasClicked&&p.checkbox.value||!1},g=p.childAges||[],m=p.children||0,f=d.fixSearchAnalyticsBugs?null!==(t=o.searchText[n])&&void 0!==t?t:"":o.searchText[n];return Object(r.a)(Object(r.a)({search_phrase:f,checkin_date:Object(i.a)(o.checkIn[n]),checkout_date:Object(i.a)(o.checkOut[n]),search_occ_no_of_adults:p.adults||0,search_occ_no_of_children:m,search_child_ages:0===g.length?"-1":l.occupancy?g.map((function(e){return Object(a.a)(e)?l.occupancy.defaultChildAge:e})).join("|"):g.join("|"),search_occ_no_of_rooms:p.rooms||0,segment_type:p.travellerType},h),{search_criterion_last_update_type:s.a.lastUpdatedCriterion&&s.a.lastUpdatedCriterion.type||u.i.None,search_filter_max_price:-1,search_filter_min_price:-1,search_filter_min_rating:-1,search_filter_min_stars:-1})}},1703:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(1),o=n(412),i=n(42),c=n(8),s=n(71),l=n(1597),u=n(1616),d=n(403),p=n(19),h=n(1592),g=n(1584),m=n(1683),f=n(39),b=n(27),v=n(1537),y=n(1613),O=n(89),S=(n(1766),a.memo(Object(v.d)((function(e){var t,n=function(t){var n,r;return a.createElement(c.d,{onClick:t?e.onAddHotelBadgeClick:e.onAddFlightBadgeClick,border:{width:"S"},px:"XL",py:"M",display:"inline-flex",style:{cursor:"pointer"},backgroundColor:{color:"secondary",variant:"bordered"},mr:Object(b.i)()?"NONE":"S",ml:Object(b.i)()?"S":"NONE",alignItems:"center",radius:"S","data-element-name":t?"multi-product-add-hotel-button":"multi-product-add-flight-button"},a.createElement(m.a,null),a.createElement(c.d,{clone:!0,px:"XS"},a.createElement(c.A,null,t?null===(n=e.cms)||void 0===n?void 0:n.addAHotelText:null===(r=e.cms)||void 0===r?void 0:r.addAFlightText)),a.createElement(c.d,{clone:!0,px:"XS"},t?a.createElement(g.a,{size:"XL"}):a.createElement(h.a,{size:"XL"})))},o=function(t){var n;return e.onRemoveMultiProductTextClick?a.createElement(c.d,{mx:"L",clone:!0,style:{cursor:"pointer"}},a.createElement(c.A,{onClick:e.onRemoveMultiProductTextClick,textSize:"M",color:"primary","data-element-name":t?"multi-product-remove-hotel-button":"multi-product-remove-flight-button"},null===(n=e.cms)||void 0===n?void 0:n.removeMultiProductText)):null};return a.createElement(c.d,{mt:"XL"},e.productType===O.c.NormalProperty&&a.createElement(c.d,{display:"inline-block",textAlign:Object(b.i)()?"right":"left",width:"100%"},a.createElement(c.d,{px:"S",py:"XS",backgroundColor:{color:"price",variant:"solid"},textColor:{color:"primary",variant:"solid"},display:"inline-block",mr:Object(b.i)()?"NONE":"M",ml:Object(b.i)()?"M":"NONE",radius:"XS"},a.createElement(f.j,{variant:"body4"},null===(t=e.cms)||void 0===t?void 0:t.bundleAndSaveBadgeText)),e.isFlightPlusHotelEligible&&n(!1),e.isMultiHotelEligible&&n(!0)),e.productType===O.c.MultiHotel&&a.createElement(c.d,null,a.createElement(c.d,{textAlign:Object(b.i)()?"right":"left",mb:"M",display:"inline-flex",flexDirection:"row",alignItems:"baseline",justifyContent:"flex-start",minWidth:"100%"},a.createElement(f.j,{variant:"heading5",style:{fontWeight:"bold"}},p.StringFormatter.format(e.cms.hotelIndexText,2)),o(!0)),a.createElement(c.d,null,e.secondSearchBoxContainer)),e.productType===O.c.FlightPlusHotel&&a.createElement(c.d,null,a.createElement(c.d,{textAlign:Object(b.i)()?"right":"left",mb:"M",display:"inline-flex",flexDirection:"row",alignItems:"baseline",justifyContent:"flex-start",minWidth:"100%"},a.createElement(f.j,{variant:"heading5",style:{fontWeight:"bold"}},e.cms.flightText),o(!1)),a.createElement("div",{className:"MultiProductContainer__FlightSearchBox"},a.createElement(y.a,Object(r.a)({},e.autoCompleteSearchProps)))))}))));S.displayName="MultiProductContainer";var j=n(43),C=n(219),I=function(e){return a.createElement(C.a,{image:e.image,withoutContainer:!0,alt:e.alt,title:e.title,elementName:e.elementName,elementValue:e.elementValue})},x=n(1671),T=n(295),k=n(59),P=n(18),E=n(406),D=n(45),N=n(9),A=n(170),w=function(e){var t,n,r;return D.a.isMultiHotelPackagesFeatureEnabled()&&(null===(r=null===(n=null===(t=e.searchBoxProps)||void 0===t?void 0:t.config)||void 0===n?void 0:n.page)||void 0===r?void 0:r.pageTypeId)===N.a.Home},B=function(e){return _(e)&&!function(e){var t,n;return Object(A.a)(e.searchBoxProps.experiments.packagesEnableMultiHotelOnBlt,null===(n=null===(t=e.searchBoxProps.config)||void 0===t?void 0:t.page)||void 0===n?void 0:n.pageTypeId,e.searchBoxProps.productType)}(e)},_=function(e){var t=e.flightSearchContainerProps,n=e.searchBoxProps;return t&&n.tabs&&n.tabs.find((function(e){return e.type===P.p.Packages}))&&n.cms&&!!n.cms.showPackageDeals},R=function(e,t,n,a){var o,i;return e?Object(r.a)(Object(r.a)({},t),{searchText:[n],hotelDestinationSelectedValue:[null],checkIn:(null===(o=null==t?void 0:t.checkOut)||void 0===o?void 0:o.length)>a?Object(E.a)(a,t.checkOut[a],t.checkIn):[],checkOut:(null===(i=null==t?void 0:t.checkOut)||void 0===i?void 0:i.length)>a?Object(E.a)(a,j(t.checkOut[a],1),t.checkIn):[]}):t},F=function(e,t){return e.flightOriginSelectedValue&&(!e.flightOriginSuggestionList||!e.flightOriginSuggestionList.length||!e.flightOriginSuggestionList[t].value||!!e.flightOriginSuggestionList.find((function(t){return t.value&&t.value.text===e.flightOriginSelectedValue.text})))},L=n(1554),M=n(1563),H=n(28),V=n(1711),U=n(1576),q=n(130),G=n(1581),Q=n(1653),K=n(88),W=n(347),X=n(1590);t.default=function(e){var t,n,p,h,g,m,f,b,v,y,j,C,P,D,N,A,z=a.createRef(),Y=a.useState(O.c.NormalProperty),J=Y[0],$=Y[1],Z=function(){return e.isMultiHotelOnBlt?O.c.MultiHotel:J},ee=Object(r.a)(Object(r.a)({},e.searchBoxProps),{productType:Z(),propertyProductIndex:0,experiments:Object(r.a)(Object(r.a)({},Object(d.h)()),{openSearchboxEmptySearch:null===(t=e.searchBoxProps.experiments)||void 0===t?void 0:t.openSearchboxEmptySearch,isPhuketSandboxBanner:null===(n=e.searchBoxProps.experiments)||void 0===n?void 0:n.isPhuketSandboxBanner,connectedTrip:null===(p=e.searchBoxProps.experiments)||void 0===p?void 0:p.connectedTrip,packagesEnableMultiHotelOnBlt:null===(h=e.searchBoxProps.experiments)||void 0===h?void 0:h.packagesEnableMultiHotelOnBlt,isFilterPersist:null===(g=e.searchBoxProps.experiments)||void 0===g?void 0:g.isFilterPersist,isMin20221:null===(m=e.searchBoxProps.experiments)||void 0===m?void 0:m.isMin20221,showPriceSurgeAndDropInCalendar:null===(f=e.searchBoxProps.experiments)||void 0===f?void 0:f.showPriceSurgeAndDropInCalendar}),autoCompleteDataElementName:"autocomplete-box",checkInDataElementName:"check-in-box",checkOutDataElementName:"check-out-box",occupancyDataElementName:"occupancy-box",events:Object(r.a)(Object(r.a)({},null===(b=e.searchBoxProps)||void 0===b?void 0:b.events),{addChildEvent:function(e,t){var n;null===(n=null==z?void 0:z.current)||void 0===n||n.addEventListener(e,t)},removeChildEvent:function(e,t){var n;null===(n=null==z?void 0:z.current)||void 0===n||n.removeEventListener(e,t)}}),disableFormValidation:Z()===O.c.MultiHotel}),te=function(e,t){var n,a,o,i=Object(r.a)(Object(r.a)({},e.searchBoxProps),{experiments:Object(d.h)()}),c=Object(x.a)(i),s=(null===(n=i.config)||void 0===n?void 0:n.prefilledSearchBoxMultiHotel)?(null===(a=e.searchBoxProps.selectedProperties)||void 0===a?void 0:a.length)>0&&e.searchBoxProps.selectedProperties[t].cityName||"":null==c?void 0:c.searchText[t];return Object(r.a)(Object(r.a)({},c),{flightOriginText:null,flightOriginSelectedValue:null,flightOriginSuggestionList:null,isChecked:!1,searchText:[s],isFlightOriginTextFocus:!1,form:R(null===(o=i.config)||void 0===o?void 0:o.isMultiHotels,i.form,s,t)})}(e,ee.propertyProductIndex),ne=Object(i.useFeatures)(K.a.ShowAdsOnNewHomepage)[0],re=Object(l.a)(te,(function(t,n){return Object(r.b)(void 0,void 0,void 0,(function(){var t,a,o,i,c,s;return Object(r.d)(this,(function(l){switch(l.label){case 0:return t=ee.propertyProductIndex,function(e,t,n){var r;return n===O.c.FlightPlusHotel&&e.flightOriginText&&(!e.hotelDestinationSelectedValue||!(null===(r=e.hotelDestinationSelectedValue[t])||void 0===r?void 0:r.recentSearch)||e.hotelDestinationSelectedValue[t].isRecentSearchFromZenith)}(ae,t,Z())?(a=function(e,t){var n;return(null===(n=e.hotelDestinationSelectedValue)||void 0===n?void 0:n.length)&&e.hotelDestinationSelectedValue[t].text===e.searchText[t]&&e.hotelDestinationSelectedValue[t].airportCodes&&e.hotelDestinationSelectedValue[t].airportCodes.length>0&&e.hotelDestinationSelectedValue[t].airportCodes[t]?e.hotelDestinationSelectedValue[t].airportCodes[t].Code:null}(ae,t),[4,Object(V.a)(a,ae.searchText[t],e.flightSearchContainerProps)]):[3,2];case 1:return(o=l.sent())&&o.objectId?(i=function(e,t){return F(e,t)?e.flightOriginSelectedValue:e.flightOriginSuggestionList&&e.flightOriginSuggestionList.length?e.flightOriginSuggestionList[t].value:null}(ae,t))&&i.objectId?o.objectId===i.objectId||o.cityId===i.cityId?[2,{errors:{sameCitySearch:!0}}]:(function(e,t,n,r){var a=Object(T.a)(e.occupancy[r]),o=a.childAges||[];q.c.track({action_type:"click",action_element_name:"show-package-deals-button",event_version:4,checkin_date:Object(G.a)(e.checkIn[r]),checkout_date:Object(G.a)(e.checkOut[r]),search_child_ages:(null==o?void 0:o.length)?o.join("|"):void 0,search_occ_no_of_adults:a.adults,search_occ_no_of_children:a.children,search_occ_no_of_rooms:a.rooms,flight_origin_code:String(t.objectId).toUpperCase(),flight_destination_code:String(n.objectId).toUpperCase()})}(ae,i,o,t),c=function(e,t,n,a){var o,i=Object(T.a)(null===(o=null==e?void 0:e.occupancy)||void 0===o?void 0:o[a]);return Object(r.a)(Object(r.a)({},e),{originSearchText:t.text,destinationSearchText:n.text,originSelectedValue:t,destinationSelectedValue:n,passengers:{adults:i.adults,children:i.children,infants:0,rooms:i.rooms},departureDate:e.checkIn[a],returningDate:e.checkOut[a],cabinType:k.a.FlightCabinClass.Economy,flightOption:k.a.FlightOption.RoundTrip})}(ae,i,o,t),Object(H.n)(Object(U.c)(c,t)),[2]):[2,{errors:{noAirportsOnOrigin:!0}}]:[2,{errors:{noAirportsOnDestination:!0}}];case 2:return Z()===O.c.MultiHotel?Object(X.c)(ae,e.searchBoxProps.cms)?Object(X.b)(ae,ee.config,ee.experiments)?(s=Object(U.e)(ae,t)+Object(W.b)(ae),Object(H.n)(s),[2]):[2,{errors:{invalidLengthOfStay:!0}}]:[2,{errors:{invalidSearch:!0}}]:n&&n.shouldContinue?[2,{shouldContinue:!0}]:[2,{errors:{invalidSearch:!0}}]}}))}))})),ae=re.inputs,oe=re.setInput,ie=re.handleSubmit,ce=re.errors;ee.events.onInputChange=oe,ee.config&&(ee.config.shouldUpdateHotelSelectedValue=!0,Object(Q.a)(ee.config.calendar.showDatePickerAlert)&&(ee.config.emptyDate=!0));ee.events.onFormSubmit=function(){return ie(void 0,{shouldContinue:!0})},a.useEffect((function(){return window.removeEventListener("click",ue),window.addEventListener("click",ue),function(){window.removeEventListener("click",ue)}}),[ae]);var se=a.useRef(null===(y=null===(v=e.searchBoxProps)||void 0===v?void 0:v.searchCriteria)||void 0===y?void 0:y.checkIn),le=a.useRef(null===(C=null===(j=e.searchBoxProps)||void 0===j?void 0:j.searchCriteria)||void 0===C?void 0:C.checkOut);a.useEffect((function(){var t,n,r,a,o,i,c,l,u,p=null===(t=e.searchBoxProps)||void 0===t?void 0:t.searchCriteria;if(e.isPropertyPage&&(!Object(s.isEqual)(se.current,null==p?void 0:p.checkIn)||!Object(s.isEqual)(le.current,null==p?void 0:p.checkOut))){se.current=null===(r=null===(n=e.searchBoxProps)||void 0===n?void 0:n.searchCriteria)||void 0===r?void 0:r.checkIn,le.current=null===(o=null===(a=e.searchBoxProps)||void 0===a?void 0:a.searchCriteria)||void 0===o?void 0:o.checkOut;var h=Object(d.f)(null===(i=e.searchBoxProps)||void 0===i?void 0:i.searchCriteria,null===(u=null===(l=null===(c=e.searchBoxProps)||void 0===c?void 0:c.config)||void 0===l?void 0:l.calendar)||void 0===u?void 0:u.defaultLos),g=h.checkIn,m=h.checkOut;Object(E.f)(oe,e.searchBoxProps.propertyProductIndex,g,ae.checkIn),Object(E.g)(oe,e.searchBoxProps.propertyProductIndex,m,ae.checkOut)}}),[null===(D=null===(P=e.searchBoxProps)||void 0===P?void 0:P.searchCriteria)||void 0===D?void 0:D.checkIn,null===(A=null===(N=e.searchBoxProps)||void 0===N?void 0:N.searchCriteria)||void 0===A?void 0:A.checkOut]);var ue=function(e){ae.isFlightOriginTextFocus&&(e&&e.preventDefault(),oe("isFlightOriginTextFocus",!1))},de=Object(o.a)((function(t){t&&(oe("flightOriginSuggestionList",null),Object(M.a)(t).then((function(t){oe("flightOriginSuggestionList",Object(L.m)(t,e.flightSearchContainerProps.cms.autoComplete))})).catch((function(){oe("flightOriginSuggestionList",null),oe("isFlightOriginTextFocus",!1)})))}),200),pe=function(e){"string"==typeof e?(oe("flightOriginText",e),oe("isFlightOriginTextFocus",!!e),oe("flightOriginSelectedValue",null),de(e)):(oe("isFlightOriginTextFocus",!1),oe("flightOriginText",e.text),oe("flightOriginSelectedValue",e))},he=function(){oe("isFlightOriginTextFocus",!0)},ge=function(e,t){switch(e.key){case"Tab":oe("isFlightOriginTextFocus",!1);break;case"Enter":t?pe(t):oe("isFlightOriginTextFocus",!1)}},me=ne?(ee.experiments,{adsProps:{enable:!1,image:"https://cdn6.agoda.net/images/FUSIONFE-51/homePageBanner.png"},AdComponent:I}):null;if(_(e)||B(e)||w(e)||e.isMultiHotelOnBlt)return a.createElement(c.d,{width:"100%"},a.createElement(u.b,Object(r.a)({},ee,{form:ae,ads:me},{formErrors:ce}),function(){var t,n,o,i=Object(r.a)(Object(r.a)({},ee),{productType:Z(),propertyProductIndex:1,config:Object(r.a)(Object(r.a)({},ee.config),{disableFormValidation:Z()===O.c.MultiHotel,ignoreErrorPopup:!0})});(null===(t=ae.searchText)||void 0===t?void 0:t.length)<=i.propertyProductIndex&&Z()===O.c.MultiHotel&&Object(E.e)(oe,ae);var c=a.createElement(u.b,Object(r.a)({},i,{form:ae,ads:me},{formErrors:ce}));return a.createElement(S,{autoCompleteSearchProps:e.flightSearchContainerProps&&function(e,t,n,r,a,o){return{searchText:t.flightOriginText,placeholder:e.cms&&e.cms.autoComplete?e.cms.autoComplete.originPlaceholder:"",icon:"ficon-20 ficon-flights-airplane FlightSearchContainer__OriginIcon",list:t.flightOriginSuggestionList,elementName:"flight-origin-text-search",suggestionElementName:"flight-origin-search-result",inputElementName:"flight-origin-search-input",isPopupVisible:t.isFlightOriginTextFocus,onChange:n,onClick:r,refCallback:a,onKeydown:o,setDynamicHeightForList:!0,disabled:!1,modifier:["NewDesign","Hotels"]}}(e.flightSearchContainerProps,ae,pe,he,null,ge),cms:null===(o=null===(n=e.searchBoxProps)||void 0===n?void 0:n.cms)||void 0===o?void 0:o.multiProductOnHomePage,productType:Z(),secondSearchBoxContainer:c,onAddFlightBadgeClick:function(){$(O.c.FlightPlusHotel)},onAddHotelBadgeClick:function(){$(O.c.MultiHotel)},onRemoveMultiProductTextClick:e.isMultiHotelOnBlt?null:function(){$(O.c.NormalProperty)},isMultiHotelEligible:w(e)||e.isMultiHotelOnBlt,isFlightPlusHotelEligible:B(e)})}()));var fe=Object(r.a)(Object(r.a)({},ee),{productType:Z()});return a.createElement(u.b,Object(r.a)({},fe,{form:ae,ads:me},{formErrors:ce}))}},1704:function(e,t,n){"use strict";n.r(t),n.d(t,"BltBanner",(function(){return s}));var r=n(3),a=n(1),o=(n(1654),n(66)),i=(n(1655),n(404)),c=function(e){return Object(o.a)(e.content)?null:a.createElement(i.default,{overlayClassName:"blt-terms-conditions-modal-overlay",className:"blt-terms-conditions-modal",isOpen:e.isOpen,noDefaultStyle:!0,noCloseButton:!0,isScrollable:!1,bodyOpenClassName:"ReactModal__Body--noscroll"},a.createElement("div",{className:"blt-terms-conditions-modal__backdrop",onClick:e.onClose}),a.createElement("div",{className:"blt-terms-conditions-modal__content"},a.createElement("h4",{className:"blt-terms-conditions-modal__title"},e.title),a.createElement("div",{className:"blt-terms-conditions-modal__terms",dangerouslySetInnerHTML:{__html:e.content}})))},s=function(e){function t(t){var n=e.call(this,t)||this;return n.openModal=function(){n.setState({isTermsOpen:!0})},n.closeModal=function(){n.setState({isTermsOpen:!1})},n.state={isTermsOpen:!1},n}return Object(r.c)(t,e),t.prototype.render=function(){return a.createElement("div",{className:"blt-banner","data-element-name":this.props.bannerTrackingName,"data-selenium":this.props.bannerTrackingName},a.createElement("div",{className:"blt-promo-discount"},a.createElement("p",{className:"blt-promo-discount__discount-percentage"},this.props.discountPercentage)),a.createElement("div",{className:"blt-promo-content"},a.createElement("div",{className:"blt-promo-message"},a.createElement("p",{className:"blt-promo-message__header"},this.props.title),a.createElement("p",{className:"blt-promo-message__note"},a.createElement("a",{className:"blt-banner-tc-link",href:"#","data-element-name":this.props.termsConditionsLinkTrackingName,onClick:this.openModal},this.props.termAndConditionLabel))),a.createElement("div",{className:"blt-promo-logo-container"},a.createElement("div",{className:"blt-promo-logo"},a.createElement("img",{alt:"",className:"blt-promo-logo__logo",src:this.props.logoUrl})))),a.createElement(c,Object(r.a)({isOpen:this.state.isTermsOpen,onClose:this.closeModal},this.props.terms)))},t}(a.PureComponent);t.default=s},1705:function(e,t,n){"use strict";var r=n(96),a=n(76);var o=function(e){return Object(a.a)(e)&&"[object Date]"==Object(r.a)(e)},i=n(407),c=n(525),s=c.a&&c.a.isDate,l=s?Object(i.a)(s):o;t.a=l},1711:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(3),a=n(1563),o=function(e){return Object(a.d)(e).then((function(e){if(!e||!e.suggestions||e.suggestions.length<=0||!e.suggestions[0]||!e.suggestions[0].airports||e.suggestions[0].airports.length<=0||!e.suggestions[0].tripLocations||e.suggestions[0].tripLocations.length<=0)return null;var t=e.suggestions[0];return{id:t.id,code:Object(a.b)(t.tripLocations),name:t.name,type:Object(a.c)(t.tripLocations),country:t.country.name,countryId:t.country.id}}))},i=function(e,t,n){return Object(r.b)(void 0,void 0,Promise,(function(){var o,i,c,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n.configs?e?[4,Object(a.a)(e)]:[3,2]:[2,null];case 1:return i=r.sent(),[3,3];case 2:i=null,r.label=3;case 3:return(o=i)&&o.length&&o[0]&&o[0].value?[2,o[0].value]:t?[4,Object(a.a)(t)]:[3,5];case 4:return s=r.sent(),[3,6];case 5:s=null,r.label=6;case 6:return[2,(c=s)&&c.length&&c[0]?c[0].value:null]}}))}))}},1714:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),a=function(e){function t(t,n){var r=e.call(this,"priceTrendSearch",t)||this;return n&&r.args.push(r.addVariable("PriceTrendSearchRequest","PriceTrendSearchRequest",!0,n)),r}return Object(r.c)(t,e),t}(n(111).a)},1715:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),a=function(e){function t(){var t=e.call(this,"PriceTrendSearchResponse")||this;return t.withPriceTrendSearchDetails=function(e,n){void 0===n&&(n=!0);return n&&(t.fields.PriceTrendSearchDetails=t.initField(e,[])),t},t}return Object(r.c)(t,e),t}(n(6).a)},1716:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),a=function(e){function t(){var t=e.call(this,"PriceTrendSearchDetails")||this;return t.withCityId=function(e){void 0===e&&(e=!0);return e&&(t.fields.cityId=t.initField(null,[])),t},t.withPropertyId=function(e){void 0===e&&(e=!0);return e&&(t.fields.propertyId=t.initField(null,[])),t},t.withPrices=function(e,n){void 0===n&&(n=!0);return n&&(t.fields.prices=t.initField(e,[])),t},t}return Object(r.c)(t,e),t}(n(6).a)},1717:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(3),a=function(e){function t(){var t=e.call(this,"PriceByCheckIn")||this;return t.withCheckIn=function(e){void 0===e&&(e=!0);return e&&(t.fields.checkIn=t.initField(null,[])),t},t.withPrice=function(e){void 0===e&&(e=!0);return e&&(t.fields.price=t.initField(null,[])),t},t.withPriceTrendType=function(e){void 0===e&&(e=!0);return e&&(t.fields.priceTrendType=t.initField(null,[])),t},t}return Object(r.c)(t,e),t}(n(6).a)},1718:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,a=n(3),o=n(637),i=n(1719),c=n(15),s=n(295);!function(e){e.initOccupancies=function(t,n,r,s){var l=r!==c.n.TravelAgent||o.d()||o.f()?r:c.n.Couples,u=l===c.n.Families||l===c.n.Group||l===c.n.Business||l===c.n.TravelAgent,d=u?t:Object(a.a)(Object(a.a)({},t),{rooms:1,adults:2,children:0}),p=u?t:Object(a.a)(Object(a.a)({},t),{rooms:1,adults:1}),h=[Object(a.a)(Object(a.a)({},t),{rooms:1,adults:1,children:0,travellerType:c.n.Solo,isActive:l===c.n.Solo}),Object(a.a)(Object(a.a)({},t),{rooms:1,adults:2,children:0,travellerType:c.n.Couples,isActive:l===c.n.Couples}),Object(a.a)(Object(a.a)({},d),{travellerType:c.n.Families,isActive:l===c.n.Families,checkbox:e.initCheckbox(t,n,c.n.Families,s)}),Object(a.a)(Object(a.a)({},d),{travellerType:c.n.Group,isActive:l===c.n.Group,checkbox:e.initCheckbox(t,n,c.n.Families,s)}),Object(a.a)(Object(a.a)({},p),{children:0,checkbox:e.initCheckbox(t,n,c.n.Business,s),travellerType:c.n.Business,isActive:l===c.n.Business})];if(o.d()||o.f()){var g=u?t:Object(a.a)(Object(a.a)({},t),{rooms:i.b,adults:i.a});h.push(Object(a.a)(Object(a.a)({},g),{children:0,travellerType:c.n.TravelAgent,isActive:l===c.n.TravelAgent,checkbox:null}))}return h},e.initCheckbox=function(e,t,n,r){if(!t||!e||!e.checkbox)return null;var o=!1;return n!==c.n.Business&&(o=e.checkbox.value&&e.checkbox.type===c.c.PreferFamilyRooms),Object(s.c)(Object(a.a)(Object(a.a)({},e),{checkbox:{value:o},travellerType:n}),t.checkbox,r)}}(r||(r={}))},1719:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=25,a=50},1741:function(e,t,n){"use strict";var r=n(1),a=n(49),o=function(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M8.207 11.293a1 1 0 0 1 .083 1.32l-.083.094L4.915 16H20a1 1 0 0 1 0 2H4.915l3.292 3.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.32.083l-.094-.083-5-5a1 1 0 0 1-.083-1.32l.083-.094 5-5a1 1 0 0 1 1.414 0zm7.586-10a1 1 0 0 1 1.32-.083l.094.083 5 5 .083.094a1 1 0 0 1 0 1.226l-.083.094-5 5-.094.083a1 1 0 0 1-1.226 0l-.094-.083-.083-.094a1 1 0 0 1 0-1.226l.083-.094L19.085 8H4a1 1 0 1 1 0-2h15.085l-3.292-3.293-.083-.094a1 1 0 0 1 .083-1.32z"}))};o.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var i=r.memo((function(e){return r.createElement(a.a,e,r.createElement(o,{width:"1em",height:"1em"}))}));i.displayName="SymbolArrowThinLeftrightFillIcon",t.a=i},1742:function(e,t,n){"use strict";var r=n(1),a=n(49),o=function(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M11.293 2.293a1 1 0 0 1 1.32-.083l.094.083 9 9 .083.094a1 1 0 0 1 0 1.226l-.083.094-9 9-.094.083a1 1 0 0 1-1.226 0l-.094-.083-.083-.094a1 1 0 0 1 0-1.226l.083-.094L18.585 13H3a1 1 0 0 1 0-2h15.585l-7.292-7.293-.083-.094a1 1 0 0 1 .083-1.32z"}))};o.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var i=r.memo((function(e){return r.createElement(a.a,e,r.createElement(o,{width:"1em",height:"1em"}))}));i.displayName="SymbolArrowThinRightFillIcon",t.a=i},1743:function(e,t,n){"use strict";var r=n(1),a=n(49),o=function(e){return r.createElement("svg",e,r.createElement("path",{fillRule:"evenodd",d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm1 3h-1.5a.5.5 0 0 0-.5.5v6l-4.062 4.277a.5.5 0 0 0 .018.706l1.088 1.034a.5.5 0 0 0 .707-.019l4.405-4.637.089-.104A1.25 1.25 0 0 0 13.5 12V5.5A.5.5 0 0 0 13 5z"}))};o.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var i=r.memo((function(e){return r.createElement(a.a,e,r.createElement(o,{width:"1em",height:"1em"}))}));i.displayName="SymbolTimeFillIcon",t.a=i},1761:function(e,t){},1762:function(e,t){},1763:function(e,t){},1764:function(e,t){},1765:function(e,t){},1766:function(e,t){},1993:function(e,t,n){"use strict";var r=n(646),a=n(352),o=n(650);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n(65);var c=n(1),s=n.n(c),l=n(439);function u(e,t){var n=Object.create(null);return e&&c.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(c.isValidElement)(e)?t(e):e}(e)})),n}function d(e,t,n){return null!=n[t]?n[t]:e.props[t]}function p(e,t,n){var r=u(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),o=[];for(var i in e)i in t?o.length&&(a[i]=o,o=[]):o.push(i);var c={};for(var s in t){if(a[s])for(r=0;r<a[s].length;r++){var l=a[s][r];c[a[s][r]]=n(l)}c[s]=n(s)}for(r=0;r<o.length;r++)c[o[r]]=n(o[r]);return c}(t,r);return Object.keys(a).forEach((function(o){var i=a[o];if(Object(c.isValidElement)(i)){var s=o in t,l=o in r,u=t[o],p=Object(c.isValidElement)(u)&&!u.props.in;!l||s&&!p?l||!s||p?l&&s&&Object(c.isValidElement)(u)&&(a[o]=Object(c.cloneElement)(i,{onExited:n.bind(null,i),in:u.props.in,exit:d(i,"exit",e),enter:d(i,"enter",e)})):a[o]=Object(c.cloneElement)(i,{in:!1}):a[o]=Object(c.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:d(i,"exit",e),enter:d(i,"enter",e)})}})),a}var h=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},g=function(e){function t(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(i(i(r)));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,u(n.children,(function(e){return Object(c.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:d(e,"appear",n),enter:d(e,"enter",n),exit:d(e,"exit",n)})}))):p(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=u(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(a.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,a=Object(r.a)(e,["component","childFactory"]),o=this.state.contextValue,i=h(this.state.children).map(n);return delete a.appear,delete a.enter,delete a.exit,null===t?s.a.createElement(l.a.Provider,{value:o},i):s.a.createElement(l.a.Provider,{value:o},s.a.createElement(t,a,i))},t}(s.a.Component);g.propTypes={},g.defaultProps={component:"div",childFactory:function(e){return e}};t.a=g},226:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.AllInclusive="AllInclusive",e.Exclusive="Exclusive",e.Unknown="Unknown"}(r||(r={}))},257:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u}));var r=[78591,23028,688637,9777],a=1813674,o=1833404,i=1892256,c=[a,o,i],s=1843576,l=["KW","AE","QA","BH","OM"],u=["SA"]},302:function(e,t,n){"use strict";var r=n(101),a=n(458),o=n.n(a),i=(n(683),n(464)),c=n(63),s=n(461),l=n(463),u=n(26),d=n(3),p=n(459),h=n(4),g=n(27),m=n(9),f=n(16),b=!0,v=function(e){return e.initialCall=b?"true":"false",b=!1,e},y=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var a=function(e){var t;return{operationName:e,pageTypeId:String(Object(m.b)()),isCronos:String((null===(t=Object(h.b)())||void 0===t?void 0:t.isCronos)||!1)}}(e);return{name:t,measurement:n,count:1,tags:r?v(a):a}},O=function(e,t,n,r){var a={tags:{operationName:e,requestId:t,statusCode:String(n),retryCount:String(r),pageTypeId:String(Object(m.b)())},name:"FE.GQL.REQUEST.COUNT",measurement:1,count:1},o=f.a.create("measurement",a);f.a.send(o)},S=function(e,t){var n,r;return null===(r=null===(n=null==e?void 0:e.getContext())||void 0===n?void 0:n.response)||void 0===r?void 0:r.headers.get(t)},j=function(e,t){return((null==e?void 0:e.getContext().headers)||{})[t]},C=function(e){return S(e,"ag-correlation-id")},I=function(){var e;return(null===(e=null===h.a||void 0===h.a?void 0:h.a.pageConfig)||void 0===e?void 0:e.cid)||-1},x=function(){var e;return(null===(e=null===h.a||void 0===h.a?void 0:h.a.pageConfig)||void 0===e?void 0:e.whitelabelid)||0},T=function(){var e;return(null===(e=null===h.a||void 0===h.a?void 0:h.a.pageConfig)||void 0===e?void 0:e.realLanguageId)||0},k=function(e){return"result"in e&&e.result?JSON.stringify(e.result):""},P=Object(p.a)((function(e){var t,n,a=e.graphQLErrors,o=e.networkError,i=e.operation,c=function(e){var t,n,r,a,o;return{cookieLength:null===(n=null===(t=Object(g.f)())||void 0===t?void 0:t.cookie)||void 0===n?void 0:n.length,query:(null===(o=null===(a=null===(r=null==e?void 0:e.query)||void 0===r?void 0:r.loc)||void 0===a?void 0:a.source)||void 0===o?void 0:o.body)||"",url:Object(g.g)(),variable:JSON.stringify(null==e?void 0:e.variables)}}(i),s=function(e){var t;return{cid:""+I(),isCronos:""+((null===h.a||void 0===h.a?void 0:h.a.isCronos)||!1),whitelabelId:""+x(),correlationId:C(e),pageTypeId:""+Object(m.b)(),realLanguageId:""+T(),retryAttempt:S(e,"AG-RETRY-ATTEMPT"),requestId:S(e,"AG-REQUEST-ID"),operationName:null==e?void 0:e.operationName,cttp:""+((null===(t=null===h.a||void 0===h.a?void 0:h.a.pageConfig)||void 0===t?void 0:t.cttp)||0)}}(i);if(t=null==i?void 0:i.operationName,n=f.a.create("measurement",y(t,"FE.GQL.ERROR")),f.a.send(n),a){var l=a.map((function(e){return"Message: "+e.message+", Location: "+e.locations+", Path: "+e.path})).join("\n");Object(r.a)("[GraphQLErrors]: "+l,Object(d.a)(Object(d.a)({},s),{type:"graphql-error"}),c),function(e){var t=f.a.create("measurement",y(e,"FE.GQL.ERROR.GRAPHQL"));f.a.send(t)}(null==i?void 0:i.operationName)}var u=function(e){return"statusCode"in e&&e.statusCode?e.statusCode.toString():""}(o);o&&(Object(r.a)("[GraphQLNetworkError]: "+o,Object(d.a)(Object(d.a)({},s),{code:u,type:"graphql-network-error"}),Object(d.a)(Object(d.a)({},c),{responseBody:k(o)})),function(e){var t=f.a.create("measurement",y(e,"FE.GQL.ERROR.NETWORK"));f.a.send(t)}(null==i?void 0:i.operationName)),O(null==i?void 0:i.operationName,j(i,"AG-REQUEST-ID"),u||"500",j(i,"AG-RETRY-ATTEMPT"))})),E=n(50),D=n(351),N=function(e){return e.toUpperCase().replace(/=/g,",")},A=function(){var e;return(null===(e=null===h.a||void 0===h.a?void 0:h.a.pageConfig)||void 0===e?void 0:e.origin)||"A1"},w=function(){var e,t,n={"AG-LANGUAGE-LOCALE":(null===(e=null===h.a||void 0===h.a?void 0:h.a.pageConfig)||void 0===e?void 0:e.cultureInfoName)||"en-us","ag-debug-override-origin":A(),"AG-REQUEST-ID":Object(D.a)(),"AG-RETRY-ATTEMPT":"0","AG-REQUEST-ATTEMPT":"1","AG-PAGE-TYPE-ID":Object(m.b)(),"Access-Control-Max-Age":7200};if((t=E.b.parse(Object(u.k)()))&&"true"===t.iswgdebug&&(n["ag-debug-log"]="true"),Object(m.b)()===m.a.Hotel){var r=function(){var e=E.b.parse(Object(u.k)());return N(e&&e.explist?e.explist:"")}();r?r+=",TEXT-10548,B":r="TEXT-10548,B";var a=function(){var e=E.b.parse(Object(u.k)());return e&&e.expuser?e.expuser:""}();r&&(n["AG-FORCE-EXPERIMENTS"]=r),a&&(n["AG-FORCE-ALL-EXPERIMENTS"]=a)}return n},B=new c.a((function(e,t){var n=e.getContext()||{},r=n.headers?Object(d.a)({},n.headers):w();return e.setContext(Object(d.a)(Object(d.a)({},n),{headers:r})),t(e).map((function(e){return e}))})),_=n(107),R=new c.a((function(e,t){var n,r;n=null==e?void 0:e.operationName,r=f.a.create("measurement",y(n,"FE.GQL.TOTAL")),f.a.send(r);var a=_.a.performanceNow();return t(e).map((function(t){var n=_.a.performanceNow()-a;return function(e,t){var n=f.a.create("measurement",y(e,"FE.GQL.RTT",t,!0));f.a.send(n)}(null==e?void 0:e.operationName,n),t}))})),F=function(e,t){var n;return((null===(n=null==e?void 0:e.getContext())||void 0===n?void 0:n.headers)||{})[t]},L=new c.a((function(e,t){return t(e).map((function(t){return O(null==e?void 0:e.operationName,F(e,"AG-REQUEST-ID"),200,F(e,"AG-RETRY-ATTEMPT")),Object(g.n)(function(e){var t,n;return null===(n=null===(t=null==e?void 0:e.getContext())||void 0===t?void 0:t.response)||void 0===n?void 0:n.headers.get("ag-correlation-id")}(e)),t}))})),M=new(n(460).a)({attempts:function(e,t,n){var r,a,o,i=t.getContext()||{},c=Object(h.b)().bVariants.isB("FUSIONFE-453"),s=null===(r=null==i?void 0:i.response)||void 0===r?void 0:r.status,l=s>=400&&s<500;return t.setContext(Object(d.a)(Object(d.a)({},i),{headers:Object(d.a)(Object(d.a)({},i.headers),{"AG-RETRY-ATTEMPT":e.toString(),"AG-REQUEST-ATTEMPT":(e+1).toString()})})),a=null==t?void 0:t.operationName,o=f.a.create("measurement",y(a,"FE.GQL.RETRY")),f.a.send(o),(!c||!l)&&e<3}}),H={watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}},V=function(e){return Object(i.a)({uri:Object(u.y)()+"/graphql"+e,credentials:"include"})},U={},q={query:function(e,t){var n=function(e){var t,n=(null==e?void 0:e.queryName)||"default";return(null===(t=null==e?void 0:e.responseBuilder)||void 0===t?void 0:t.fields)?n+"-"+Object.keys(e.responseBuilder.fields).join("-"):n}(e),r=U[n];r&&r.unsubscribe();var a=(new Date).getTime(),i="operation"in e?e.queryName:"",u=e.buildQuery(),d=o()(u);!function(e,t){var n=f.a.create("measurement",y(e,"FE.GQL.QUERY.BUILD",t));f.a.send(n)}(i,(new Date).getTime()-a);var p=e.buildVariables(),h=function(e){return new s.a({defaultOptions:H,link:c.a.from([P,L,M,R,B,V(e)]),queryDeduplication:!1,assumeImmutableResults:!0,cache:new l.a({resultCaching:!1,freezeResults:!0,addTypename:!1}),connectToDevTools:!1})}(t).watchQuery({variables:p,query:d}),g=function(e){return e},m=function(e){return e},b=new Promise((function(e,t){g=e,m=t})),v=h.subscribe((function(e){g(e.data)}),(function(e){return m(e)}));return U[n]=v,b}},G={query:function(e,t){try{return q.query(e,t)}catch(e){throw Object(r.a)("[GraphQlApolloError]: "+(e?e.message:"undefined error"),function(e,t,n){return{type:t,loggerClass:n,exceptionMessage:e?e.message:"empty message for undefined error",stackTrace:e?e.stack:"empty stack trace for undefined error"}}(e,"graphql-apollo-error","GraphQlApolloService")),e}}};t.a=G},351:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},416:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.AreaSearch="AreaSearch",e.BookingSearch="BookingSearch",e.CitySearch="CitySearch",e.CityCenterSearch="CityCenterSearch",e.ComprehensiveCitySearch="ComprehensiveCitySearch",e.LandmarkSearch="LandmarkSearch",e.PropertySearch="PropertySearch",e.PropertiesSearch="PropertiesSearch",e.RadiusSearch="RadiusSearch",e.RectangleSearch="RectangleSearch",e.RecommendationSearch="RecommendationSearch",e.RegionSearch="RegionSearch",e.SmallPropertiesSearch="SmallPropertiesSearch",e.TopAreaSearch="TopAreaSearch",e.UnknownSearch="UnknownSearch"}(r||(r={}))},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(147),o=function(e){var t=this;this.fields={},this.hashCode="",this.typeName="",this.initField=function(e,n){return t.hashCode=Object(r.g)(Array(20)).map((function(){return Math.random().toString(20)[2]})).join(""),e?{responseBuilder:e,arguments:n}:{}},this.addVariable=function(e,t,n,r){return{name:e,graphQLType:t,isNonNullable:n,value:r}},this.buildNested=function(e,t,n){var r,o;return t.arguments&&t.arguments.length?e+" ("+Object(a.b)(t.arguments)+") "+(null===(r=t.responseBuilder)||void 0===r?void 0:r.build(n)):e+" "+(null===(o=t.responseBuilder)||void 0===o?void 0:o.build(n))},this.hasFields=function(){return!!Object.keys(t.fields).length},this.isFragment=function(e){return!!e[t.hashCode]},this.getArguments=function(e){var n=Object(r.g)(e);return Object.keys(t.fields).filter((function(e){return t.fields[e].responseBuilder})).forEach((function(e){var a;(null===(a=t.fields[e].arguments)||void 0===a?void 0:a.length)&&(n=Object(r.g)(n,t.fields[e].arguments)),n=t.fields[e].responseBuilder.getArguments(n)})),n},this.getFragmentsHashIds=function(e){var n={},a=e.some((function(e){return e===t.hashCode}));return a&&!n[t.hashCode]&&(n[t.hashCode]=t.hashCode),!a&&Object.keys(t.fields).length&&e.push(t.hashCode),Object.keys(t.fields).forEach((function(a){var o;t.fields[a].responseBuilder&&(n=Object(r.a)(Object(r.a)({},n),null===(o=t.fields[a].responseBuilder)||void 0===o?void 0:o.getFragmentsHashIds(e)))})),n},this.getFragmentDefinitions=function(e){e[t.hashCode]&&(e[t.hashCode]="fragment Frag"+t.hashCode+" on "+t.typeName+" { "+Object.keys(t.fields).filter((function(n){var r;return!t.fields[n].responseBuilder||t.fields[n].responseBuilder&&!(null===(r=t.fields[n].responseBuilder)||void 0===r?void 0:r.isFragment(e))})).map((function(n){return t.fields[n].responseBuilder?t.buildNested(n,t.fields[n],e):n})).join(", ")+" }"),Object.keys(t.fields).forEach((function(n){var r;t.fields[n].responseBuilder&&(null===(r=t.fields[n].responseBuilder)||void 0===r||r.getFragmentDefinitions(e))}))},this.build=function(e){if(e[t.hashCode]){var n=Object.keys(t.fields).filter((function(n){var r;return t.fields[n].responseBuilder&&(null===(r=t.fields[n].responseBuilder)||void 0===r?void 0:r.isFragment(e))})).map((function(n){return t.buildNested(n,t.fields[n],e)})).join(", ");return"{ ...Frag"+t.hashCode+(n?", "+n:"")+" }"}return"{ "+Object.keys(t.fields).filter((function(e){var n;return!t.fields[e].responseBuilder||(null===(n=t.fields[e].responseBuilder)||void 0===n?void 0:n.hasFields())})).map((function(n){return t.fields[n].responseBuilder?t.buildNested(n,t.fields[n],e):n})).join(", ")+" }"},this.typeName=e}},637:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return h}));var r=n(4),a=n(26),o=n(50),i=n(257),c=function(e,t){return s(e,t)||l(e,t)||u(e,t)},s=function(e,t){return Object(r.b)().bVariants.isB("UMRAH-B2C-REGIONAL")&&g(t)&&m(e)===i.d},l=function(e,t){return Object(r.b)().bVariants.isB("UMRAH-B2C")&&g(t)&&m(e)===i.c},u=function(e,t){return Object(r.b)().bVariants.isB("UMRAH-B2B")&&g(t)&&m(e)===i.b},d=function(e){var t=f(e);return i.f.includes(t.toUpperCase())},p=function(e){var t=f(e);return i.e.includes(t.toUpperCase())},h=function(e){if(e){var t=new o.a(Object(a.z)().location.search);t.set("cid",e.toString());var n=[Object(a.z)().location.href.split("?")[0],t.toString()].join("?");Object(a.z)().location.href=n}},g=function(e){return!e||0===e||i.h.includes(e)},m=function(e){var t;return e||(null===(t=Object(r.b)().pageConfig)||void 0===t?void 0:t.cid)},f=function(e){var t;return e||(null===(t=Object(r.b)().pageConfig)||void 0===t?void 0:t.origin)}},642:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),function(e){e.ON="on",e.OFF="off"}(r||(r={}));var a=1895782},644:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,a=n(642),o=n(28),i=n(13),c=n(159),s=n(4),l=n(108),u=n(206);!function(e){e.isConnectedTripSearchEnabled=function(t){if(t){var n=Object(o.m)(),r=Object(i.e)(c.a.connectedTripQueryString,n)===a.b.ON,s=e.isConnectedTripFeatureEnabled(t);return r&&s}return!1},e.isConnectedTripFeatureEnabled=function(e){var t;return e&&l.a.getLoginLevel()===u.a.L2&&!!(null===(t=s.a.features)||void 0===t?void 0:t.connectedTrip)}}(r||(r={}))}}]);